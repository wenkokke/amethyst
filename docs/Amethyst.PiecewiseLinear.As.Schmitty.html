<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Amethyst.PiecewiseLinear.As.Schmitty</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">--------------------------------------------------------------------------------</a>
<a id="82" class="Comment">-- Amethyst: Neural Network Verification in Agda</a>
<a id="131" class="Comment">--</a>
<a id="134" class="Comment">-- This module contains functions to reflect piecewise-linear functions to</a>
<a id="209" class="Comment">-- Schmitty terms. The various reflections correspond to the various evaluations,</a>
<a id="291" class="Comment">-- see `Amethyst.PiecewiseLinear.As.Float`.</a>
<a id="335" class="Comment">--</a>
<a id="338" class="Comment">-- Exports:</a>
<a id="350" class="Comment">--</a>
<a id="353" class="Comment">--  - reflect</a>
<a id="367" class="Comment">--</a>
<a id="370" class="Comment">--------------------------------------------------------------------------------</a>
<a id="451" class="Keyword">module</a> <a id="458" href="Amethyst.PiecewiseLinear.As.Schmitty.html" class="Module">Amethyst.PiecewiseLinear.As.Schmitty</a> <a id="495" class="Keyword">where</a>

<a id="502" class="Keyword">open</a> <a id="507" class="Keyword">import</a> <a id="514" href="Amethyst.PiecewiseLinear.Base.html" class="Module">Amethyst.PiecewiseLinear.Base</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Amethyst.LinearAlgebra.As.Schmitty.html" class="Module">Amethyst.LinearAlgebra.As.Schmitty</a> <a id="591" class="Keyword">hiding</a> <a id="598" class="Symbol">(</a><a id="599" href="SMT.Theories.Core.Extensions.html#1557" class="Function">true</a><a id="603" class="Symbol">;</a> <a id="605" href="SMT.Theories.Core.Extensions.html#1623" class="Function">false</a><a id="610" class="Symbol">)</a>
<a id="612" class="Keyword">open</a> <a id="617" class="Keyword">import</a> <a id="624" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="634" class="Symbol">as</a> <a id="637" class="Module">Bool</a> <a id="642" class="Keyword">using</a> <a id="648" class="Symbol">(</a><a id="649" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="653" class="Symbol">;</a> <a id="655" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="659" class="Symbol">;</a> <a id="661" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="666" class="Symbol">;</a> <a id="668" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="681" class="Symbol">)</a>
<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Data.Float.html" class="Module">Data.Float</a> <a id="706" class="Symbol">as</a> <a id="709" class="Module">Float</a> <a id="715" class="Keyword">using</a> <a id="721" class="Symbol">(</a><a id="722" href="Agda.Builtin.Float.html#354" class="Postulate">Float</a><a id="727" class="Symbol">;</a> <a id="729" href="Agda.Builtin.Float.html#1336" class="Primitive">_+_</a><a id="732" class="Symbol">;</a> <a id="734" href="Agda.Builtin.Float.html#1442" class="Primitive">_*_</a><a id="737" class="Symbol">;</a> <a id="739" href="Agda.Builtin.Float.html#422" class="Primitive">_≤ᵇ_</a><a id="743" class="Symbol">)</a>
<a id="745" class="Keyword">open</a> <a id="750" class="Keyword">import</a> <a id="757" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="766" class="Symbol">as</a> <a id="769" class="Module">Nat</a> <a id="773" class="Keyword">using</a> <a id="779" class="Symbol">(</a><a id="780" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="781" class="Symbol">;</a> <a id="783" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="786" class="Symbol">;</a> <a id="788" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="792" class="Symbol">;</a> <a id="794" href="Data.Nat.Base.html#2470" class="Function">NonZero</a><a id="801" class="Symbol">)</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="824" class="Symbol">as</a> <a id="827" class="Module">Vec</a> <a id="831" class="Keyword">using</a> <a id="837" class="Symbol">(</a><a id="838" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Function.html" class="Module">Function</a> <a id="864" class="Keyword">using</a> <a id="870" class="Symbol">(</a><a id="871" href="Function.Base.html#1919" class="Function Operator">_$_</a><a id="874" class="Symbol">)</a>

<a id="877" class="Keyword">private</a>
  <a id="887" class="Keyword">variable</a>
    <a id="900" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a>      <a id="907" class="Symbol">:</a> <a id="909" href="SMT.Script.Base.html#2510" class="Function">Ctxt</a>
    <a id="918" href="Amethyst.PiecewiseLinear.As.Schmitty.html#918" class="Generalizable">pieces</a> <a id="925" class="Symbol">:</a> <a id="927" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="933" href="Amethyst.PiecewiseLinear.As.Schmitty.html#933" class="Generalizable">lower</a>  <a id="940" class="Symbol">:</a> <a id="942" href="Agda.Builtin.Float.html#354" class="Postulate">Float</a>
    <a id="952" href="Amethyst.PiecewiseLinear.As.Schmitty.html#952" class="Generalizable">step</a>   <a id="959" class="Symbol">:</a> <a id="961" href="Agda.Builtin.Float.html#354" class="Postulate">Float</a>
    <a id="971" href="Amethyst.PiecewiseLinear.As.Schmitty.html#971" class="Generalizable">upper</a>  <a id="978" class="Symbol">:</a> <a id="980" href="Agda.Builtin.Float.html#354" class="Postulate">Float</a>

<a id="987" class="Keyword">private</a>
  <a id="997" class="Comment">-- |Return the y-value corresponding to x on the line segment ls. If x is out of</a>
  <a id="1080" class="Comment">--  bounds, extrapolate the line segment.</a>
  <a id="reflectLineSegment"></a><a id="1124" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="1143" class="Symbol">:</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1146" class="Bound">ls</a> <a id="1149" class="Symbol">:</a> <a id="1151" href="Amethyst.PiecewiseLinear.Base.html#2829" class="Record">LineSegment</a> <a id="1163" href="Amethyst.PiecewiseLinear.As.Schmitty.html#933" class="Generalizable">lower</a> <a id="1169" href="Amethyst.PiecewiseLinear.As.Schmitty.html#971" class="Generalizable">upper</a><a id="1174" class="Symbol">)</a> <a id="1176" class="Symbol">→</a> <a id="1178" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="1183" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a> <a id="1185" class="Symbol">→</a> <a id="1187" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="1192" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a>
  <a id="1196" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="1215" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1215" class="Bound">ls</a> <a id="1218" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1218" class="Bound">x</a> <a id="1220" class="Symbol">=</a> <a id="1222" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="1228" href="SMT.Theories.Reals.Base.html#4676" class="InductiveConstructor">add</a> <a id="1232" class="Symbol">(</a><a id="1233" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="1239" href="SMT.Theories.Reals.Base.html#4707" class="InductiveConstructor">mul</a> <a id="1243" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1218" class="Bound">x</a> <a id="1245" class="Symbol">(</a><a id="1246" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="1253" href="Amethyst.PiecewiseLinear.Base.html#2887" class="Function">slope</a><a id="1258" class="Symbol">))</a> <a id="1261" class="Symbol">(</a><a id="1262" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="1269" href="Amethyst.PiecewiseLinear.Base.html#2909" class="Function">intercept</a><a id="1278" class="Symbol">)</a>
    <a id="1284" class="Keyword">where</a> <a id="1290" class="Keyword">open</a> <a id="1295" href="Amethyst.PiecewiseLinear.Base.html#2829" class="Module">LineSegment</a> <a id="1307" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1215" class="Bound">ls</a> <a id="1310" class="Keyword">using</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Amethyst.PiecewiseLinear.Base.html#2887" class="Field">slope</a><a id="1322" class="Symbol">;</a> <a id="1324" href="Amethyst.PiecewiseLinear.Base.html#2909" class="Field">intercept</a><a id="1333" class="Symbol">)</a>

  <a id="1338" class="Comment">-- |Return the y-value corresponding to x on the piecewise-linear function.</a>
  <a id="1416" class="Comment">--  If x is out of bounds, extrapolate the head/last line segment.</a>
  <a id="reflectLineSegments"></a><a id="1485" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1485" class="Function">reflectLineSegments</a> <a id="1505" class="Symbol">:</a> <a id="1507" class="Symbol">.{{</a><a id="1510" href="Data.Nat.Base.html#2470" class="Function">NonZero</a> <a id="1518" href="Amethyst.PiecewiseLinear.As.Schmitty.html#918" class="Generalizable">pieces</a><a id="1524" class="Symbol">}}</a> <a id="1527" class="Symbol">→</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1530" class="Bound">pl</a> <a id="1533" class="Symbol">:</a> <a id="1535" href="Amethyst.PiecewiseLinear.Base.html#2977" class="Datatype">LineSegments</a> <a id="1548" href="Amethyst.PiecewiseLinear.As.Schmitty.html#933" class="Generalizable">lower</a> <a id="1554" href="Amethyst.PiecewiseLinear.As.Schmitty.html#952" class="Generalizable">step</a> <a id="1559" href="Amethyst.PiecewiseLinear.As.Schmitty.html#918" class="Generalizable">pieces</a><a id="1565" class="Symbol">)</a> <a id="1567" class="Symbol">→</a> <a id="1569" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="1574" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a> <a id="1576" class="Symbol">→</a> <a id="1578" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="1583" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a>
  <a id="1587" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1485" class="Function">reflectLineSegments</a> <a id="1607" class="Symbol">{_}</a> <a id="1611" class="Symbol">{</a><a id="1612" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1612" class="Bound">lower</a><a id="1617" class="Symbol">}</a> <a id="1619" class="Symbol">{</a><a id="1620" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1620" class="Bound">step</a><a id="1624" class="Symbol">}</a> <a id="1626" class="Symbol">(</a><a id="1627" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1627" class="Bound">ls</a> <a id="1630" href="Amethyst.PiecewiseLinear.Base.html#3074" class="InductiveConstructor Operator">∷</a> <a id="1632" href="Amethyst.PiecewiseLinear.Base.html#3040" class="InductiveConstructor">[]</a><a id="1634" class="Symbol">)</a>         <a id="1644" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1644" class="Bound">x</a> <a id="1646" class="Symbol">=</a> <a id="1648" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="1667" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1627" class="Bound">ls</a> <a id="1670" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1644" class="Bound">x</a>
  <a id="1674" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1485" class="Function">reflectLineSegments</a> <a id="1694" class="Symbol">{_}</a> <a id="1698" class="Symbol">{</a><a id="1699" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1699" class="Bound">lower</a><a id="1704" class="Symbol">}</a> <a id="1706" class="Symbol">{</a><a id="1707" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1707" class="Bound">step</a><a id="1711" class="Symbol">}</a> <a id="1713" class="Symbol">(</a><a id="1714" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1714" class="Bound">ls</a> <a id="1717" href="Amethyst.PiecewiseLinear.Base.html#3074" class="InductiveConstructor Operator">∷</a> <a id="1719" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1719" class="Bound">pl</a><a id="1721" class="Symbol">@(_</a> <a id="1725" href="Amethyst.PiecewiseLinear.Base.html#3074" class="InductiveConstructor Operator">∷</a> <a id="1727" class="Symbol">_))</a> <a id="1731" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1731" class="Bound">x</a>
    <a id="1737" class="Symbol">=</a> <a id="1739" href="SMT.Script.Base.html#4035" class="InductiveConstructor">`app₃</a> <a id="1745" href="SMT.Theories.Reals.Base.html#4568" class="InductiveConstructor">ite</a> <a id="1749" class="Symbol">(</a><a id="1750" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="1756" href="SMT.Theories.Reals.Base.html#4769" class="InductiveConstructor">leq</a> <a id="1760" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1731" class="Bound">x</a> <a id="1762" class="Symbol">(</a><a id="1763" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="1769" href="SMT.Theories.Reals.Base.html#4676" class="InductiveConstructor">add</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="1781" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1699" class="Bound">lower</a><a id="1786" class="Symbol">)</a> <a id="1788" class="Symbol">(</a><a id="1789" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="1796" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1707" class="Bound">step</a><a id="1800" class="Symbol">)))</a> <a id="1804" class="Symbol">(</a><a id="1805" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="1824" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1714" class="Bound">ls</a> <a id="1827" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1731" class="Bound">x</a><a id="1828" class="Symbol">)</a>
    <a id="1834" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1836" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1485" class="Function">reflectLineSegments</a> <a id="1856" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1719" class="Bound">pl</a> <a id="1859" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1731" class="Bound">x</a>

  <a id="1864" class="Comment">-- |Return the y-value corresponding to an out-of-bounds x value,</a>
  <a id="1932" class="Comment">-- given a strategy, the last line segment, and whether it&#39;s below or above the line segment </a>
  <a id="reflectOutOfBoundsStrat"></a><a id="2028" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2052" class="Symbol">:</a> <a id="2054" href="Amethyst.PiecewiseLinear.Base.html#4068" class="Datatype">OutOfBoundsStrategy</a> <a id="2074" class="Symbol">→</a> <a id="2076" href="Amethyst.PiecewiseLinear.Base.html#2829" class="Record">LineSegment</a> <a id="2088" href="Amethyst.PiecewiseLinear.As.Schmitty.html#933" class="Generalizable">lower</a> <a id="2094" href="Amethyst.PiecewiseLinear.As.Schmitty.html#971" class="Generalizable">upper</a> <a id="2100" class="Symbol">→</a> <a id="2102" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="2107" class="Symbol">→</a> <a id="2109" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="2114" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a> <a id="2116" class="Symbol">→</a> <a id="2118" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="2123" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a>
  <a id="2127" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2151" class="Symbol">{_}</a>     <a id="2159" class="Symbol">{_}</a>     <a id="2167" class="Symbol">(</a><a id="2168" href="Amethyst.PiecewiseLinear.Base.html#4102" class="InductiveConstructor">constant</a> <a id="2177" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2177" class="Bound">c</a><a id="2178" class="Symbol">)</a> <a id="2180" class="Symbol">_</a>  <a id="2183" class="Symbol">_</a>     <a id="2189" class="Symbol">_</a> <a id="2191" class="Symbol">=</a> <a id="2193" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="2200" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2177" class="Bound">c</a>
  <a id="2204" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2228" class="Symbol">{_}</a>     <a id="2236" class="Symbol">{_}</a>     <a id="2244" href="Amethyst.PiecewiseLinear.Base.html#4148" class="InductiveConstructor">extrapolate</a>  <a id="2257" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2257" class="Bound">ls</a> <a id="2260" class="Symbol">_</a>     <a id="2266" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2266" class="Bound">x</a> <a id="2268" class="Symbol">=</a> <a id="2270" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="2289" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2257" class="Bound">ls</a> <a id="2292" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2266" class="Bound">x</a>
  <a id="2296" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2320" class="Symbol">{</a><a id="2321" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2321" class="Bound">lower</a><a id="2326" class="Symbol">}</a> <a id="2328" class="Symbol">{</a><a id="2329" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2329" class="Bound">upper</a><a id="2334" class="Symbol">}</a> <a id="2336" href="Amethyst.PiecewiseLinear.Base.html#4186" class="InductiveConstructor">nearestValue</a> <a id="2349" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2349" class="Bound">ls</a> <a id="2352" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2352" class="Bound">below</a> <a id="2358" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2358" class="Bound">x</a> <a id="2360" class="Symbol">=</a> <a id="2362" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1124" class="Function">reflectLineSegment</a> <a id="2381" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2349" class="Bound">ls</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="2392" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2405" class="Function">v</a><a id="2393" class="Symbol">)</a>
    <a id="2399" class="Keyword">where</a> <a id="2405" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2405" class="Function">v</a> <a id="2407" class="Symbol">=</a> <a id="2409" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2412" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2352" class="Bound">below</a> <a id="2418" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2423" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2321" class="Bound">lower</a> <a id="2429" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="2434" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2329" class="Bound">upper</a>

<a id="2441" class="Comment">-- |Return the y-value corresponding to x on the piecewise-linear function.</a>
<a id="reflect"></a><a id="2517" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2517" class="Function">reflect</a> <a id="2525" class="Symbol">:</a> <a id="2527" href="Amethyst.PiecewiseLinear.Base.html#4262" class="Record">PiecewiseLinearFn</a> <a id="2545" class="Symbol">→</a> <a id="2547" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="2552" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a> <a id="2554" class="Symbol">→</a> <a id="2556" href="Amethyst.LinearAlgebra.As.Schmitty.html#1235" class="Function">Real</a> <a id="2561" href="Amethyst.PiecewiseLinear.As.Schmitty.html#900" class="Generalizable">Γ</a>
<a id="2563" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2517" class="Function">reflect</a> <a id="2571" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2571" class="Bound">f</a> <a id="2573" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a> <a id="2575" class="Symbol">=</a> <a id="2577" class="Keyword">let</a> <a id="2581" class="Keyword">module</a> <a id="F"></a><a id="2588" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2588" class="Module">F</a> <a id="2590" class="Symbol">=</a> <a id="2592" href="Amethyst.PiecewiseLinear.Base.html#4262" class="Module">PiecewiseLinearFn</a> <a id="2610" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2571" class="Bound">f</a> <a id="2612" class="Keyword">in</a>
    <a id="2619" href="SMT.Script.Base.html#4035" class="InductiveConstructor">`app₃</a> <a id="2625" href="SMT.Theories.Reals.Base.html#4568" class="InductiveConstructor">ite</a> <a id="2629" class="Symbol">(</a><a id="2630" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="2636" href="SMT.Theories.Reals.Base.html#4769" class="InductiveConstructor">leq</a> <a id="2640" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a> <a id="2642" class="Symbol">(</a><a id="2643" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="2650" href="Amethyst.PiecewiseLinear.Base.html#4345" class="Function">F.lower</a><a id="2657" class="Symbol">))</a> <a id="2660" class="Symbol">(</a><a id="2661" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2685" href="Amethyst.PiecewiseLinear.Base.html#4304" class="Function">F.lowerOOBStrat</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Amethyst.PiecewiseLinear.Base.html#4732" class="Function">first</a> <a id="2708" href="Amethyst.PiecewiseLinear.Base.html#4427" class="Function">F.lineSegments</a><a id="2722" class="Symbol">)</a> <a id="2724" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="2729" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a><a id="2730" class="Symbol">)</a>
  <a id="2734" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="2736" href="SMT.Script.Base.html#4035" class="InductiveConstructor">`app₃</a> <a id="2742" href="SMT.Theories.Reals.Base.html#4568" class="InductiveConstructor">ite</a> <a id="2746" class="Symbol">(</a><a id="2747" href="SMT.Script.Base.html#3991" class="InductiveConstructor">`app₂</a> <a id="2753" href="SMT.Theories.Reals.Base.html#4769" class="InductiveConstructor">leq</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Amethyst.LinearAlgebra.As.Schmitty.html#1275" class="Function">toReal</a> <a id="2765" href="Amethyst.PiecewiseLinear.Base.html#4519" class="Function">F.upper</a><a id="2772" class="Symbol">)</a> <a id="2774" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a><a id="2775" class="Symbol">)</a> <a id="2777" class="Symbol">(</a><a id="2778" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2028" class="Function">reflectOutOfBoundsStrat</a> <a id="2802" href="Amethyst.PiecewiseLinear.Base.html#4478" class="Function">F.upperOOBStrat</a> <a id="2818" class="Symbol">(</a><a id="2819" href="Amethyst.PiecewiseLinear.Base.html#4732" class="Function">first</a> <a id="2825" href="Amethyst.PiecewiseLinear.Base.html#4427" class="Function">F.lineSegments</a><a id="2839" class="Symbol">)</a> <a id="2841" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="2847" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a><a id="2848" class="Symbol">)</a>
  <a id="2852" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="2854" href="Amethyst.PiecewiseLinear.As.Schmitty.html#1485" class="Function">reflectLineSegments</a> <a id="2874" href="Amethyst.PiecewiseLinear.Base.html#4427" class="Function">F.lineSegments</a> <a id="2889" href="Amethyst.PiecewiseLinear.As.Schmitty.html#2573" class="Bound">x</a>
</pre></body></html>