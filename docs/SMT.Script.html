<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SMT.Script</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="SMT.Theory.html" class="Module">SMT.Theory</a>

<a id="25" class="Keyword">module</a> <a id="32" href="SMT.Script.html" class="Module">SMT.Script</a> <a id="43" class="Symbol">(</a><a id="44" href="SMT.Script.html#44" class="Bound">theory</a> <a id="51" class="Symbol">:</a> <a id="53" href="SMT.Theory.html#2021" class="Record">Theory</a><a id="59" class="Symbol">)</a> <a id="61" class="Keyword">where</a>

<a id="68" class="Keyword">open</a> <a id="73" class="Keyword">import</a> <a id="80" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Codata.Musical.Stream.html" class="Module">Codata.Musical.Stream</a> <a id="129" class="Symbol">as</a> <a id="132" class="Module">Stream</a> <a id="139" class="Keyword">using</a> <a id="145" class="Symbol">(</a><a id="146" href="Codata.Musical.Stream.html#674" class="Datatype">Stream</a><a id="152" class="Symbol">)</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Data.Char.html" class="Module">Data.Char</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">Char</a> <a id="184" class="Keyword">using</a> <a id="190" class="Symbol">(</a><a id="191" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="195" class="Symbol">)</a>
<a id="197" class="Keyword">open</a> <a id="202" class="Keyword">import</a> <a id="209" href="Data.Environment.html" class="Module">Data.Environment</a> <a id="226" class="Symbol">as</a> <a id="229" class="Module">Env</a> <a id="233" class="Keyword">using</a> <a id="239" class="Symbol">(</a><a id="240" href="Data.Environment.html#360" class="Datatype">Env</a><a id="243" class="Symbol">;</a> <a id="245" href="Data.Environment.html#427" class="InductiveConstructor Operator">_∷_</a><a id="248" class="Symbol">;</a> <a id="250" href="Data.Environment.html#410" class="InductiveConstructor">[]</a><a id="252" class="Symbol">)</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="275" class="Symbol">as</a> <a id="278" class="Module">Fin</a> <a id="282" class="Keyword">using</a> <a id="288" class="Symbol">(</a><a id="289" href="Data.Fin.Base.html#1138" class="Datatype">Fin</a><a id="292" class="Symbol">;</a> <a id="294" href="Data.Fin.Base.html#1191" class="InductiveConstructor">suc</a><a id="297" class="Symbol">;</a> <a id="299" href="Data.Fin.Base.html#1160" class="InductiveConstructor">zero</a><a id="303" class="Symbol">)</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Data.List.html" class="Module">Data.List</a> <a id="327" class="Symbol">as</a> <a id="330" class="Module">List</a> <a id="335" class="Keyword">using</a> <a id="341" class="Symbol">(</a><a id="342" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="346" class="Symbol">;</a> <a id="348" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="351" class="Symbol">;</a> <a id="353" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="355" class="Symbol">;</a> <a id="357" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="361" class="Symbol">)</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="394" class="Symbol">as</a> <a id="397" class="Module">List⁺</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Data.List.NonEmpty.html#1318" class="Record">List⁺</a><a id="415" class="Symbol">;</a> <a id="417" href="Data.List.NonEmpty.html#1364" class="InductiveConstructor Operator">_∷_</a><a id="420" class="Symbol">)</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="445" class="Symbol">as</a> <a id="448" class="Module">Maybe</a> <a id="454" class="Keyword">using</a> <a id="460" class="Symbol">(</a><a id="461" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="466" class="Symbol">;</a> <a id="468" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="472" class="Symbol">;</a> <a id="474" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">import</a> <a id="490" href="Data.Maybe.Categorical.html" class="Module">Data.Maybe.Categorical</a> <a id="513" class="Symbol">as</a> <a id="516" class="Module">MaybeCat</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="546" class="Symbol">as</a> <a id="549" class="Module">Nat</a> <a id="553" class="Keyword">using</a> <a id="559" class="Symbol">(</a><a id="560" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="561" class="Symbol">;</a> <a id="563" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="566" class="Symbol">;</a> <a id="568" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a> <a id="600" class="Keyword">renaming</a> <a id="609" class="Symbol">(</a><a id="610" href="Data.Nat.Show.html#1076" class="Function">show</a> <a id="615" class="Symbol">to</a> <a id="Show.show"></a><a id="618" href="SMT.Script.html#618" class="Function">showℕ</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="Data.Product.html" class="Module">Data.Product</a> <a id="650" class="Symbol">as</a> <a id="653" class="Module">Prod</a> <a id="658" class="Keyword">using</a> <a id="664" class="Symbol">(</a><a id="665" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="668" class="Symbol">;</a> <a id="670" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="673" class="Symbol">;</a> <a id="675" href="Data.Product.html#2211" class="Function Operator">-,_</a><a id="678" class="Symbol">;</a> <a id="680" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="685" class="Symbol">;</a> <a id="687" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="692" class="Symbol">;</a> <a id="694" href="Data.Product.html#1369" class="Function">∃</a><a id="695" class="Symbol">;</a> <a id="697" href="Data.Product.html#1788" class="Function">∃-syntax</a><a id="705" class="Symbol">)</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Data.String.html" class="Module">Data.String</a> <a id="731" class="Symbol">as</a> <a id="734" class="Module">String</a> <a id="741" class="Keyword">using</a> <a id="747" class="Symbol">(</a><a id="748" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="754" class="Symbol">)</a>
<a id="756" class="Keyword">open</a> <a id="761" class="Keyword">import</a> <a id="768" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="778" class="Symbol">as</a> <a id="781" class="Module">Unit</a> <a id="786" class="Keyword">using</a> <a id="792" class="Symbol">(</a><a id="793" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="794" class="Symbol">)</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="817" class="Symbol">as</a> <a id="820" class="Module">Vec</a> <a id="824" class="Keyword">using</a> <a id="830" class="Symbol">(</a><a id="831" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="834" class="Symbol">)</a>
<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Function.html" class="Module">Function</a> <a id="857" class="Keyword">using</a> <a id="863" class="Symbol">(</a><a id="864" href="Function.Base.html#1919" class="Function Operator">_$_</a><a id="867" class="Symbol">;</a> <a id="869" href="Function.Base.html#4121" class="Function Operator">case_of_</a><a id="877" class="Symbol">;</a> <a id="879" href="Function.Base.html#1031" class="Function Operator">_∘_</a><a id="882" class="Symbol">;</a> <a id="884" href="Function.Base.html#636" class="Function">const</a><a id="889" class="Symbol">;</a> <a id="891" href="Function.Base.html#1554" class="Function">flip</a><a id="895" class="Symbol">;</a> <a id="897" href="Function.Base.html#615" class="Function">id</a><a id="899" class="Symbol">)</a>
<a id="901" class="Keyword">import</a> <a id="908" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="938" class="Symbol">as</a> <a id="941" class="Module">Identity</a>
<a id="950" class="Keyword">import</a> <a id="957" href="Level.html" class="Module">Level</a>
<a id="963" class="Keyword">import</a> <a id="970" href="Reflection.html" class="Module">Reflection</a> <a id="981" class="Symbol">as</a> <a id="984" class="Module">Rfl</a>
<a id="988" class="Keyword">open</a> <a id="993" class="Keyword">import</a> <a id="1000" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1017" class="Keyword">using</a> <a id="1023" class="Symbol">(</a><a id="1024" href="Relation.Nullary.html#1508" class="Record">Dec</a><a id="1027" class="Symbol">;</a> <a id="1029" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a><a id="1032" class="Symbol">;</a> <a id="1034" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a><a id="1036" class="Symbol">)</a>
<a id="1038" class="Keyword">open</a> <a id="1043" class="Keyword">import</a> <a id="1050" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1077" class="Keyword">using</a> <a id="1083" class="Symbol">(</a><a id="1084" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="1088" class="Symbol">)</a>
<a id="1090" class="Keyword">open</a> <a id="1095" class="Keyword">import</a> <a id="1102" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1140" class="Keyword">using</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1150" class="Symbol">;</a> <a id="1152" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1156" class="Symbol">)</a>
<a id="1158" class="Keyword">open</a> <a id="1163" class="Keyword">import</a> <a id="1170" href="SMT.Logics.html" class="Module">SMT.Logics</a>
<a id="1181" class="Keyword">open</a> <a id="1186" href="SMT.Theory.html#2021" class="Module">Theory</a> <a id="1193" href="SMT.Script.html#44" class="Bound">theory</a>
<a id="1200" class="Keyword">open</a> <a id="1205" class="Keyword">import</a> <a id="1212" href="SMT.Script.Base.html" class="Module">SMT.Script.Base</a> <a id="1228" href="SMT.Theory.html#2053" class="Field">baseTheory</a> <a id="1239" class="Keyword">public</a>
<a id="1246" class="Keyword">open</a> <a id="1251" class="Keyword">import</a> <a id="1258" href="SMT.Script.Names.html" class="Module">SMT.Script.Names</a> <a id="1275" href="SMT.Theory.html#2053" class="Field">baseTheory</a>
<a id="1286" class="Keyword">open</a> <a id="1291" class="Keyword">import</a> <a id="1298" href="SMT.Theories.Raw.html" class="Module">SMT.Theories.Raw</a>

<a id="1316" class="Keyword">private</a>
  <a id="1326" class="Keyword">variable</a>
    <a id="1339" href="SMT.Script.html#1339" class="Generalizable">σ</a> <a id="1341" href="SMT.Script.html#1341" class="Generalizable">σ′</a>    <a id="1347" class="Symbol">:</a> <a id="1349" href="SMT.Theory.html#1013" class="Function">Sort</a>
    <a id="1358" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="1360" href="SMT.Script.html#1360" class="Generalizable">Γ′</a> <a id="1363" href="SMT.Script.html#1363" class="Generalizable">δΓ</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a>
    <a id="1377" href="SMT.Script.html#1377" class="Generalizable">Δ</a> <a id="1379" href="SMT.Script.html#1379" class="Generalizable">Δ′</a>    <a id="1385" class="Symbol">:</a> <a id="1387" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a>
    <a id="1396" href="SMT.Script.html#1396" class="Generalizable">Σ</a>       <a id="1404" class="Symbol">:</a> <a id="1406" href="SMT.Theory.html#457" class="Record">Signature</a> <a id="1416" href="SMT.Script.html#1339" class="Generalizable">σ</a>
    <a id="1422" href="SMT.Script.html#1422" class="Generalizable">Σ′</a>      <a id="1430" class="Symbol">:</a> <a id="1432" href="SMT.Theory.html#457" class="Record">Signature</a> <a id="1442" href="SMT.Script.html#1341" class="Generalizable">σ′</a>
    <a id="1449" href="SMT.Script.html#1449" class="Generalizable">ξ</a> <a id="1451" href="SMT.Script.html#1451" class="Generalizable">ξ′</a>    <a id="1457" class="Symbol">:</a> <a id="1459" href="SMT.Script.Base.html#4623" class="Datatype">OutputType</a>
    <a id="1474" href="SMT.Script.html#1474" class="Generalizable">Ξ</a> <a id="1476" href="SMT.Script.html#1476" class="Generalizable">Ξ′</a> <a id="1479" href="SMT.Script.html#1479" class="Generalizable">δΞ</a> <a id="1482" class="Symbol">:</a> <a id="1484" href="SMT.Script.Base.html#4717" class="Function">OutputCtxt</a>


<a id="1497" class="Comment">-- * Parsers</a>

<a id="1511" class="Keyword">module</a> <a id="1518" href="SMT.Script.html#1518" class="Module">_</a> <a id="1520" class="Keyword">where</a>

  <a id="1529" class="Keyword">open</a> <a id="1534" class="Keyword">import</a> <a id="1541" href="Text.Parser.String.html" class="Module">Text.Parser.String</a> <a id="1560" class="Symbol">as</a> <a id="1563" class="Module">P</a> <a id="1565" class="Keyword">hiding</a> <a id="1572" class="Symbol">(</a><a id="1573" href="Text.Parser.String.html#3776" class="Function Operator">_&gt;&gt;=_</a><a id="1578" class="Symbol">)</a>

  <a id="1583" class="Comment">-- * Variable parsers</a>

  <a id="1608" class="Comment">-- |Environment of variable parsers.</a>
  <a id="1647" href="SMT.Script.html#1647" class="Function">VarParsers</a> <a id="1658" class="Symbol">:</a> <a id="1660" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a> <a id="1665" class="Symbol">→</a> <a id="1667" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1673" href="SMT.Script.html#1647" class="Function">VarParsers</a> <a id="1684" class="Symbol">=</a> <a id="1686" href="Data.Environment.html#360" class="Datatype">Env</a> <a id="1690" class="Symbol">(λ</a> <a id="1693" href="SMT.Script.html#1693" class="Bound">σ</a> <a id="1695" href="SMT.Script.html#1695" class="Bound">Γ</a> <a id="1697" class="Symbol">→</a> <a id="1699" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="1702" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="1709" class="Symbol">((</a><a id="1711" href="SMT.Script.html#1693" class="Bound">σ</a> <a id="1713" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1715" href="SMT.Script.html#1695" class="Bound">Γ</a><a id="1716" class="Symbol">)</a> <a id="1718" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="1720" href="SMT.Script.html#1693" class="Bound">σ</a><a id="1721" class="Symbol">)</a> <a id="1723" href="Relation.Unary.html#3359" class="Function">]</a><a id="1724" class="Symbol">)</a>

  <a id="1729" class="Comment">-- |Construct a single variable parser from an environment of variable parsers.</a>
  <a id="1811" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="1823" class="Symbol">:</a> <a id="1825" href="SMT.Script.html#1647" class="Function">VarParsers</a> <a id="1836" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="1838" class="Symbol">→</a> <a id="1840" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="1843" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Data.Product.html#1788" class="Function">∃[</a> <a id="1854" href="SMT.Script.html#1854" class="Bound">σ</a> <a id="1856" href="Data.Product.html#1788" class="Function">]</a> <a id="1858" class="Symbol">(</a><a id="1859" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="1861" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="1863" href="SMT.Script.html#1854" class="Bound">σ</a><a id="1864" class="Symbol">))</a> <a id="1867" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="1871" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="1883" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>            <a id="1897" class="Symbol">=</a> <a id="1899" href="Text.Parser.String.html#4819" class="Function">fail</a>
  <a id="1906" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="1918" class="Symbol">(</a><a id="1919" href="SMT.Script.html#1919" class="Bound">p</a> <a id="1921" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="1923" href="SMT.Script.html#1923" class="Bound">env</a><a id="1926" class="Symbol">)</a> <a id="1928" class="Symbol">{</a><a id="1929" href="SMT.Script.html#1929" class="Bound">x</a><a id="1930" class="Symbol">}</a> <a id="1932" class="Symbol">=</a> <a id="1934" class="Symbol">(</a><a id="1935" href="Data.Product.html#2211" class="Function Operator">-,_</a> <a id="1939" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="1943" href="SMT.Script.html#1919" class="Bound">p</a> <a id="1945" class="Symbol">{</a><a id="1946" href="SMT.Script.html#1929" class="Bound">x</a><a id="1947" class="Symbol">})</a> <a id="1950" href="Text.Parser.String.html#4892" class="Function Operator">&lt;|&gt;</a> <a id="1954" class="Symbol">(</a><a id="1955" href="Data.Product.html#2450" class="Function">Prod.map</a> <a id="1964" href="Function.Base.html#615" class="Function">id</a> <a id="1967" href="SMT.Script.Base.html#2364" class="Function">extendVar</a> <a id="1977" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="1981" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="1993" href="SMT.Script.html#1923" class="Bound">env</a> <a id="1997" class="Symbol">{</a><a id="1998" href="SMT.Script.html#1929" class="Bound">x</a><a id="1999" class="Symbol">})</a>


  <a id="2006" class="Comment">-- * Output parsers</a>

  <a id="2029" class="Comment">-- |Mapping from output types to parser types.</a>
  <a id="2078" href="SMT.Script.html#2078" class="Function">OutputParser</a> <a id="2091" class="Symbol">:</a> <a id="2093" href="SMT.Script.Base.html#4623" class="Datatype">OutputType</a> <a id="2104" class="Symbol">→</a> <a id="2106" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="2112" href="SMT.Script.html#2078" class="Function">OutputParser</a> <a id="2125" href="SMT.Script.html#2125" class="Bound">ξ</a> <a id="2127" class="Symbol">=</a> <a id="2129" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2132" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="2139" class="Symbol">(</a><a id="2140" href="SMT.Script.Base.html#5686" class="Function">Output</a> <a id="2147" href="SMT.Script.html#2125" class="Bound">ξ</a><a id="2148" class="Symbol">)</a> <a id="2150" href="Relation.Unary.html#3359" class="Function">]</a>

  <a id="2155" class="Comment">-- |Mapping from output contexts to parser types.</a>
  <a id="2207" href="SMT.Script.html#2207" class="Function">OutputParsers</a> <a id="2221" class="Symbol">:</a> <a id="2223" href="SMT.Script.Base.html#4717" class="Function">OutputCtxt</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="2242" href="SMT.Script.html#2207" class="Function">OutputParsers</a> <a id="2256" href="SMT.Script.html#2256" class="Bound">Ξ</a> <a id="2258" class="Symbol">=</a> <a id="2260" href="Data.Environment.html#360" class="Datatype">Env</a> <a id="2264" class="Symbol">(λ</a> <a id="2267" href="SMT.Script.html#2267" class="Bound">ξ</a> <a id="2269" href="SMT.Script.html#2269" class="Bound Operator">_Ξ</a> <a id="2272" class="Symbol">→</a> <a id="2274" href="SMT.Script.html#2078" class="Function">OutputParser</a> <a id="2287" href="SMT.Script.html#2267" class="Bound">ξ</a><a id="2288" class="Symbol">)</a> <a id="2290" href="SMT.Script.html#2256" class="Bound">Ξ</a>

  <a id="2295" class="Comment">-- |Parse a satisfiability result.</a>
  <a id="2332" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2337" class="Symbol">:</a> <a id="2339" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2342" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="2349" href="SMT.Script.Base.html#4868" class="Datatype">Sat</a> <a id="2353" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="2357" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2362" class="Symbol">=</a> <a id="2364" href="SMT.Script.Base.html#4886" class="InductiveConstructor">sat</a>     <a id="2372" href="Text.Parser.String.html#5086" class="Function Operator">&lt;$</a> <a id="2375" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="2382" class="String">&quot;sat&quot;</a>
    <a id="2392" href="Text.Parser.String.html#4892" class="Function Operator">&lt;|&gt;</a> <a id="2396" href="SMT.Script.Base.html#4902" class="InductiveConstructor">unsat</a>   <a id="2404" href="Text.Parser.String.html#5086" class="Function Operator">&lt;$</a> <a id="2407" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="2414" class="String">&quot;unsat&quot;</a>
    <a id="2426" href="Text.Parser.String.html#4892" class="Function Operator">&lt;|&gt;</a> <a id="2430" href="SMT.Script.Base.html#4918" class="InductiveConstructor">unknown</a> <a id="2438" href="Text.Parser.String.html#5086" class="Function Operator">&lt;$</a> <a id="2441" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="2448" class="String">&quot;unknown&quot;</a>

  <a id="2461" href="SMT.Script.html#2461" class="Function">_</a> <a id="2463" class="Symbol">:</a> <a id="2465" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2470" href="Text.Parser.String.html#7777" class="Function Operator">parses</a> <a id="2477" class="String">&quot;sat&quot;</a>
  <a id="2485" class="Symbol">_</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="Text.Parser.String.html#7385" class="InductiveConstructor Operator">!</a> <a id="2491" href="SMT.Script.Base.html#4886" class="InductiveConstructor">sat</a>

  <a id="2498" href="SMT.Script.html#2498" class="Function">_</a> <a id="2500" class="Symbol">:</a> <a id="2502" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2507" href="Text.Parser.String.html#7777" class="Function Operator">parses</a> <a id="2514" class="String">&quot;unsat&quot;</a>
  <a id="2524" class="Symbol">_</a> <a id="2526" class="Symbol">=</a> <a id="2528" href="Text.Parser.String.html#7385" class="InductiveConstructor Operator">!</a> <a id="2530" href="SMT.Script.Base.html#4902" class="InductiveConstructor">unsat</a>

  <a id="2539" href="SMT.Script.html#2539" class="Function">_</a> <a id="2541" class="Symbol">:</a> <a id="2543" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2548" href="Text.Parser.String.html#7777" class="Function Operator">parses</a> <a id="2555" class="String">&quot;unknown&quot;</a>
  <a id="2567" class="Symbol">_</a> <a id="2569" class="Symbol">=</a> <a id="2571" href="Text.Parser.String.html#7385" class="InductiveConstructor Operator">!</a> <a id="2573" href="SMT.Script.Base.html#4918" class="InductiveConstructor">unknown</a>

  <a id="2584" href="SMT.Script.html#2584" class="Function">_</a> <a id="2586" class="Symbol">:</a> <a id="2588" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="2593" href="Text.Parser.String.html#8209" class="Function Operator">rejects</a> <a id="2601" class="String">&quot;dogfood&quot;</a>
  <a id="2613" class="Symbol">_</a> <a id="2615" class="Symbol">=</a> <a id="2617" class="Symbol">_</a>


  <a id="2623" class="Comment">-- |Construct a definitions parser from a variable parser.</a>
  <a id="2684" class="Comment">--</a>
  <a id="2689" class="Comment">-- @</a>
  <a id="2696" class="Comment">--   (define-fun x0 () Int (- 1))</a>
  <a id="2732" class="Comment">-- @</a>
  <a id="2739" class="Comment">--</a>
  <a id="2744" href="SMT.Script.html#2744" class="Function">mkDefnParser</a> <a id="2757" class="Symbol">:</a> <a id="2759" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2762" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="2769" class="Symbol">(</a><a id="2770" href="SMT.Script.Base.html#8449" class="Function">Var</a> <a id="2774" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="2775" class="Symbol">)</a> <a id="2777" href="Relation.Unary.html#3359" class="Function">]</a> <a id="2779" class="Symbol">→</a> <a id="2781" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2784" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="2791" class="Symbol">(</a><a id="2792" href="SMT.Script.Base.html#8524" class="Function">Defn</a> <a id="2797" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="2798" class="Symbol">)</a> <a id="2800" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="2804" href="SMT.Script.html#2744" class="Function">mkDefnParser</a> <a id="2817" class="Symbol">{</a><a id="2818" href="SMT.Script.html#2818" class="Bound">Γ</a><a id="2819" class="Symbol">}</a> <a id="2821" href="SMT.Script.html#2821" class="Bound">pVar</a> <a id="2826" class="Symbol">=</a> <a id="2828" href="Text.Parser.String.html#6027" class="Function">withSpaces</a> <a id="2839" class="Symbol">(</a><a id="2840" href="Text.Parser.String.html#3686" class="Function">guardM</a> <a id="2847" href="SMT.Script.html#3088" class="Function">checkDefn</a> <a id="2857" href="SMT.Script.html#2882" class="Function">pVarVal</a><a id="2864" class="Symbol">)</a>
    <a id="2870" class="Keyword">where</a>
      <a id="2882" href="SMT.Script.html#2882" class="Function">pVarVal</a> <a id="2890" class="Symbol">:</a> <a id="2892" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2895" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="2902" class="Symbol">(</a><a id="2903" href="SMT.Script.Base.html#8449" class="Function">Var</a> <a id="2907" href="SMT.Script.html#2818" class="Bound">Γ</a> <a id="2909" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2911" href="SMT.Script.Base.html#8490" class="Function">Val</a><a id="2914" class="Symbol">)</a> <a id="2916" href="Relation.Unary.html#3359" class="Function">]</a>
      <a id="2924" href="SMT.Script.html#2882" class="Function">pVarVal</a> <a id="2932" class="Symbol">=</a>
        <a id="2942" href="Text.Parser.String.html#6422" class="Function">parens</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="2954" class="Symbol">(</a><a id="2955" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="2962" class="String">&quot;define-fun&quot;</a> <a id="2975" href="Text.Parser.String.html#4069" class="Function Operator">&amp;&gt;</a> <a id="2978" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="2982" class="Symbol">(</a><a id="2983" href="SMT.Script.html#2821" class="Bound">pVar</a> <a id="2988" href="Text.Parser.String.html#3898" class="Function Operator">&lt;&amp;&gt;</a>
          <a id="3002" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="3006" class="Symbol">(</a><a id="3007" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="3014" class="String">&quot;()&quot;</a> <a id="3019" href="Text.Parser.String.html#4069" class="Function Operator">&amp;&gt;</a> <a id="3022" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="3026" class="Symbol">(</a><a id="3027" href="SMT.Theory.html#1652" class="Function">parseSort</a> <a id="3037" href="Text.Parser.String.html#3776" class="Function Operator">P.&gt;&gt;=</a> <a id="3043" class="Symbol">λ</a> <a id="3045" href="SMT.Script.html#3045" class="Bound">σ</a> <a id="3047" class="Symbol">→</a> <a id="3049" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="3053" class="Symbol">(</a><a id="3054" href="Data.Product.html#2211" class="Function Operator">-,_</a> <a id="3058" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="3062" href="SMT.Theory.html#1686" class="Function">parseValue</a> <a id="3073" href="SMT.Script.html#3045" class="Bound">σ</a><a id="3074" class="Symbol">))))))</a>

      <a id="3088" href="SMT.Script.html#3088" class="Function">checkDefn</a> <a id="3098" class="Symbol">:</a> <a id="3100" href="SMT.Script.Base.html#8449" class="Function">Var</a> <a id="3104" href="SMT.Script.html#2818" class="Bound">Γ</a> <a id="3106" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3108" href="SMT.Script.Base.html#8490" class="Function">Val</a> <a id="3112" class="Symbol">→</a> <a id="3114" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3120" class="Symbol">(</a><a id="3121" href="SMT.Script.Base.html#8524" class="Function">Defn</a> <a id="3126" href="SMT.Script.html#2818" class="Bound">Γ</a><a id="3127" class="Symbol">)</a>
      <a id="3135" href="SMT.Script.html#3088" class="Function">checkDefn</a> <a id="3145" class="Symbol">((</a><a id="3147" href="SMT.Script.html#3147" class="Bound">σ</a> <a id="3149" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3151" href="SMT.Script.html#3151" class="Bound">i</a><a id="3152" class="Symbol">)</a> <a id="3154" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3156" class="Symbol">(</a><a id="3157" href="SMT.Script.html#3157" class="Bound">σ′</a> <a id="3160" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3162" href="SMT.Script.html#3162" class="Bound">v</a><a id="3163" class="Symbol">))</a> <a id="3166" class="Keyword">with</a> <a id="3171" href="SMT.Script.html#3147" class="Bound">σ</a> <a id="3173" href="SMT.Theory.html#1036" class="Function Operator">≟-Sort</a> <a id="3180" href="SMT.Script.html#3157" class="Bound">σ′</a>
      <a id="3189" class="Symbol">...</a> <a id="3193" class="Symbol">|</a> <a id="3195" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="3199" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3204" class="Symbol">=</a> <a id="3206" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3211" class="Symbol">(</a><a id="3212" class="Bound">σ</a> <a id="3214" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3216" class="Bound">i</a> <a id="3218" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3220" class="Bound">v</a><a id="3221" class="Symbol">)</a>
      <a id="3229" class="Symbol">...</a> <a id="3233" class="Symbol">|</a> <a id="3235" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="3239" class="Symbol">_</a>    <a id="3244" class="Symbol">=</a> <a id="3246" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


  <a id="3258" class="Comment">-- |Construct a definition-list parser from a variable parser.</a>
  <a id="3323" href="SMT.Script.html#3323" class="Function">mkDefnsParser</a> <a id="3337" class="Symbol">:</a> <a id="3339" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="3342" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="3349" class="Symbol">(</a><a id="3350" href="SMT.Script.Base.html#8449" class="Function">Var</a> <a id="3354" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="3355" class="Symbol">)</a> <a id="3357" href="Relation.Unary.html#3359" class="Function">]</a> <a id="3359" class="Symbol">→</a> <a id="3361" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="3364" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="3371" class="Symbol">(</a><a id="3372" href="Data.List.NonEmpty.html#1318" class="Record">List⁺</a> <a id="3378" class="Symbol">(</a><a id="3379" href="SMT.Script.Base.html#8524" class="Function">Defn</a> <a id="3384" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="3385" class="Symbol">))</a> <a id="3388" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="3392" href="SMT.Script.html#3323" class="Function">mkDefnsParser</a> <a id="3406" class="Symbol">{</a><a id="3407" href="SMT.Script.html#3407" class="Bound">Γ</a><a id="3408" class="Symbol">}</a> <a id="3410" href="SMT.Script.html#3410" class="Bound">pVar</a> <a id="3415" class="Symbol">=</a>
    <a id="3421" href="Text.Parser.String.html#6027" class="Function">withSpaces</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Text.Parser.String.html#6422" class="Function">parens</a> <a id="3440" class="Symbol">(</a><a id="3441" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="3445" class="Symbol">(</a><a id="3446" href="Text.Parser.String.html#6114" class="Function">lexeme</a> <a id="3453" class="String">&quot;model&quot;</a> <a id="3461" href="Text.Parser.String.html#4069" class="Function Operator">&amp;&gt;</a> <a id="3464" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Text.Parser.String.html#5425" class="Function">list⁺</a> <a id="3475" class="Symbol">(</a><a id="3476" href="SMT.Script.html#2744" class="Function">mkDefnParser</a> <a id="3489" class="Symbol">{</a><a id="3490" href="SMT.Script.html#3407" class="Bound">Γ</a><a id="3491" class="Symbol">}</a> <a id="3493" href="SMT.Script.html#3410" class="Bound">pVar</a><a id="3497" class="Symbol">)))))</a>


  <a id="3507" class="Keyword">private</a>
    <a id="3519" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="3530" class="Symbol">:</a> <a id="3532" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a> <a id="3537" class="Symbol">→</a> <a id="3539" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="3547" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="3558" href="SMT.Script.html#3558" class="Bound">Γ</a> <a id="3560" class="Symbol">=</a> <a id="3562" href="Data.Environment.html#360" class="Datatype">Env</a> <a id="3566" class="Symbol">(λ</a> <a id="3569" href="SMT.Script.html#3569" class="Bound">σ</a> <a id="3571" href="SMT.Script.html#3571" class="Bound Operator">_Γ</a> <a id="3574" class="Symbol">→</a> <a id="3576" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3581" class="Symbol">(</a><a id="3582" href="SMT.Theory.html#1108" class="Function">Value</a> <a id="3588" href="SMT.Script.html#3569" class="Bound">σ</a><a id="3589" class="Symbol">))</a> <a id="3592" href="SMT.Script.html#3558" class="Bound">Γ</a>

    <a id="3599" href="SMT.Script.html#3599" class="Function">insertMM</a> <a id="3608" class="Symbol">:</a> <a id="3610" href="Data.Product.html#1788" class="Function">∃[</a> <a id="3613" href="SMT.Script.html#3613" class="Bound">σ</a> <a id="3615" href="Data.Product.html#1788" class="Function">]</a> <a id="3617" class="Symbol">(</a><a id="3618" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="3620" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="3622" href="SMT.Script.html#3613" class="Bound">σ</a> <a id="3624" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3626" href="SMT.Theory.html#1108" class="Function">Value</a> <a id="3632" href="SMT.Script.html#3613" class="Bound">σ</a><a id="3633" class="Symbol">)</a> <a id="3635" class="Symbol">→</a> <a id="3637" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="3648" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="3650" class="Symbol">→</a> <a id="3652" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="3663" href="SMT.Script.html#1358" class="Generalizable">Γ</a>
    <a id="3669" href="SMT.Script.html#3599" class="Function">insertMM</a> <a id="3678" class="Symbol">{</a><a id="3679" class="DottedPattern Symbol">.</a><a id="3680" class="DottedPattern">σ</a> <a id="3682" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3684" href="SMT.Script.html#3684" class="Bound">Γ</a><a id="3685" class="Symbol">}</a> <a id="3687" class="Symbol">(</a><a id="3688" href="SMT.Script.html#3688" class="Bound">σ</a> <a id="3690" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3692" class="Symbol">(</a><a id="3693" href="Data.Fin.Base.html#1160" class="InductiveConstructor">Fin.zero</a>  <a id="3703" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3705" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="3709" class="Symbol">)</a> <a id="3711" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3713" href="SMT.Script.html#3713" class="Bound">v</a><a id="3714" class="Symbol">)</a> <a id="3716" class="Symbol">(</a><a id="3717" href="SMT.Script.html#3717" class="Bound">vs</a> <a id="3720" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="3722" href="SMT.Script.html#3722" class="Bound">env</a><a id="3725" class="Symbol">)</a> <a id="3727" class="Symbol">=</a> <a id="3729" class="Symbol">(</a><a id="3730" href="SMT.Script.html#3713" class="Bound">v</a> <a id="3732" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3734" href="SMT.Script.html#3717" class="Bound">vs</a><a id="3736" class="Symbol">)</a> <a id="3738" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="3740" href="SMT.Script.html#3722" class="Bound">env</a>
    <a id="3748" href="SMT.Script.html#3599" class="Function">insertMM</a> <a id="3757" class="Symbol">{</a><a id="3758" href="SMT.Script.html#3758" class="Bound">σ′</a> <a id="3761" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3763" href="SMT.Script.html#3763" class="Bound">Γ</a><a id="3764" class="Symbol">}</a> <a id="3766" class="Symbol">(</a><a id="3767" href="SMT.Script.html#3767" class="Bound">σ</a> <a id="3769" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3771" class="Symbol">(</a><a id="3772" href="Data.Fin.Base.html#1191" class="InductiveConstructor">Fin.suc</a> <a id="3780" href="SMT.Script.html#3780" class="Bound">i</a> <a id="3782" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3784" href="SMT.Script.html#3784" class="Bound">p</a><a id="3785" class="Symbol">)</a>    <a id="3790" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3792" href="SMT.Script.html#3792" class="Bound">v</a><a id="3793" class="Symbol">)</a> <a id="3795" class="Symbol">(</a><a id="3796" href="SMT.Script.html#3796" class="Bound">vs</a> <a id="3799" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="3801" href="SMT.Script.html#3801" class="Bound">env</a><a id="3804" class="Symbol">)</a> <a id="3806" class="Symbol">=</a> <a id="3808" href="SMT.Script.html#3796" class="Bound">vs</a> <a id="3811" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="3813" href="SMT.Script.html#3599" class="Function">insertMM</a> <a id="3822" class="Symbol">(</a><a id="3823" href="SMT.Script.html#3767" class="Bound">σ</a> <a id="3825" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3827" class="Symbol">(</a><a id="3828" href="SMT.Script.html#3780" class="Bound">i</a> <a id="3830" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3832" href="SMT.Script.html#3784" class="Bound">p</a><a id="3833" class="Symbol">)</a> <a id="3835" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3837" href="SMT.Script.html#3792" class="Bound">v</a><a id="3838" class="Symbol">)</a> <a id="3840" href="SMT.Script.html#3801" class="Bound">env</a>

    <a id="3849" href="SMT.Script.html#3849" class="Function">mkMM</a> <a id="3854" class="Symbol">:</a> <a id="3856" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3861" class="Symbol">(</a><a id="3862" href="SMT.Script.Base.html#8524" class="Function">Defn</a> <a id="3867" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="3868" class="Symbol">)</a> <a id="3870" class="Symbol">→</a> <a id="3872" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="3883" href="SMT.Script.html#1358" class="Generalizable">Γ</a>
    <a id="3889" href="SMT.Script.html#3849" class="Function">mkMM</a> <a id="3894" class="Symbol">{</a><a id="3895" href="SMT.Script.html#3895" class="Bound">Γ</a><a id="3896" class="Symbol">}</a> <a id="3898" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="3907" class="Symbol">=</a> <a id="3909" href="Data.Environment.html#1028" class="Function">Env.repeat</a> <a id="3920" class="Symbol">(λ</a> <a id="3923" href="SMT.Script.html#3923" class="Bound Operator">_σ</a> <a id="3926" href="SMT.Script.html#3926" class="Bound Operator">_Γ</a> <a id="3929" class="Symbol">→</a> <a id="3931" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3933" class="Symbol">)</a> <a id="3935" href="SMT.Script.html#3895" class="Bound">Γ</a>
    <a id="3941" href="SMT.Script.html#3849" class="Function">mkMM</a> <a id="3946" class="Symbol">{</a><a id="3947" href="SMT.Script.html#3947" class="Bound">Γ</a><a id="3948" class="Symbol">}</a> <a id="3950" class="Symbol">(</a><a id="3951" href="SMT.Script.html#3951" class="Bound">v</a> <a id="3953" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3955" href="SMT.Script.html#3955" class="Bound">vs</a><a id="3957" class="Symbol">)</a> <a id="3959" class="Symbol">=</a> <a id="3961" href="SMT.Script.html#3599" class="Function">insertMM</a> <a id="3970" href="SMT.Script.html#3951" class="Bound">v</a> <a id="3972" class="Symbol">(</a><a id="3973" href="SMT.Script.html#3849" class="Function">mkMM</a> <a id="3978" href="SMT.Script.html#3955" class="Bound">vs</a><a id="3980" class="Symbol">)</a>

    <a id="3987" href="SMT.Script.html#3987" class="Function">fromSingleton</a> <a id="4001" class="Symbol">:</a> <a id="4003" class="Symbol">{</a><a id="4004" href="SMT.Script.html#4004" class="Bound">A</a> <a id="4006" class="Symbol">:</a> <a id="4008" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="4011" class="Symbol">}</a> <a id="4013" class="Symbol">→</a> <a id="4015" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4020" href="SMT.Script.html#4004" class="Bound">A</a> <a id="4022" class="Symbol">→</a> <a id="4024" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4030" href="SMT.Script.html#4004" class="Bound">A</a>
    <a id="4036" href="SMT.Script.html#3987" class="Function">fromSingleton</a> <a id="4050" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4053" class="Symbol">=</a> <a id="4055" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="4067" href="SMT.Script.html#3987" class="Function">fromSingleton</a> <a id="4081" class="Symbol">(</a><a id="4082" href="SMT.Script.html#4082" class="Bound">v</a> <a id="4084" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4086" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4088" class="Symbol">)</a> <a id="4090" class="Symbol">=</a> <a id="4092" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4097" href="SMT.Script.html#4082" class="Bound">v</a>
    <a id="4103" href="SMT.Script.html#3987" class="Function">fromSingleton</a> <a id="4117" class="Symbol">(_</a> <a id="4120" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4122" class="Symbol">_</a> <a id="4124" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4126" class="Symbol">_)</a> <a id="4129" class="Symbol">=</a> <a id="4131" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

    <a id="4144" href="SMT.Script.html#4144" class="Function">checkMM</a> <a id="4152" class="Symbol">:</a> <a id="4154" href="SMT.Script.html#3519" class="Function">MaybeModel</a> <a id="4165" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="4167" class="Symbol">→</a> <a id="4169" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4175" class="Symbol">(</a><a id="4176" href="SMT.Script.Base.html#5567" class="Datatype">Model</a> <a id="4182" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="4183" class="Symbol">)</a>
    <a id="4189" href="SMT.Script.html#4144" class="Function">checkMM</a> <a id="4197" href="Data.Environment.html#410" class="InductiveConstructor">[]</a> <a id="4200" class="Symbol">=</a> <a id="4202" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4207" href="SMT.Script.Base.html#5600" class="InductiveConstructor">[]</a>
    <a id="4214" href="SMT.Script.html#4144" class="Function">checkMM</a> <a id="4222" class="Symbol">(</a><a id="4223" href="SMT.Script.html#4223" class="Bound">vs</a> <a id="4226" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="4228" href="SMT.Script.html#4228" class="Bound">env</a><a id="4231" class="Symbol">)</a> <a id="4233" class="Symbol">=</a> <a id="4235" href="Data.Maybe.Base.html#2766" class="Function">Maybe.zipWith</a> <a id="4249" href="SMT.Script.Base.html#5617" class="InductiveConstructor Operator">_∷_</a> <a id="4253" class="Symbol">(</a><a id="4254" href="SMT.Script.html#3987" class="Function">fromSingleton</a> <a id="4268" href="SMT.Script.html#4223" class="Bound">vs</a><a id="4270" class="Symbol">)</a> <a id="4272" class="Symbol">(</a><a id="4273" href="SMT.Script.html#4144" class="Function">checkMM</a> <a id="4281" href="SMT.Script.html#4228" class="Bound">env</a><a id="4284" class="Symbol">)</a>


  <a id="4290" class="Comment">-- |Construct a model parser from a variable parser.</a>
  <a id="4345" href="SMT.Script.html#4345" class="Function">mkModelParser</a> <a id="4359" class="Symbol">:</a> <a id="4361" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="4364" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="4371" class="Symbol">(</a><a id="4372" href="SMT.Script.Base.html#8449" class="Function">Var</a> <a id="4376" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="4377" class="Symbol">)</a> <a id="4379" href="Relation.Unary.html#3359" class="Function">]</a> <a id="4381" class="Symbol">→</a> <a id="4383" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="4386" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="4393" class="Symbol">(</a><a id="4394" href="SMT.Script.Base.html#5567" class="Datatype">Model</a> <a id="4400" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="4401" class="Symbol">)</a> <a id="4403" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="4407" href="SMT.Script.html#4345" class="Function">mkModelParser</a> <a id="4421" class="Symbol">{</a><a id="4422" href="SMT.Script.html#4422" class="Bound">Γ</a><a id="4423" class="Symbol">}</a> <a id="4425" href="SMT.Script.html#4425" class="Bound">pVar</a> <a id="4430" class="Symbol">=</a> <a id="4432" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="4437" href="Text.Parser.String.html#3776" class="Function Operator">P.&gt;&gt;=</a> <a id="4443" class="Symbol">λ</a> <a id="4445" class="Symbol">{</a> <a id="4447" href="SMT.Script.Base.html#4886" class="InductiveConstructor">sat</a> <a id="4451" class="Symbol">→</a> <a id="4453" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="4457" href="SMT.Script.html#4572" class="Function">pModel</a> <a id="4464" class="Symbol">;</a> <a id="4466" class="CatchallClause Symbol">_</a> <a id="4468" class="Symbol">→</a> <a id="4470" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="4474" href="Text.Parser.String.html#4819" class="Function">fail</a> <a id="4479" class="Symbol">}</a>
    <a id="4485" class="Keyword">where</a>
      <a id="4497" class="Comment">-- Insert each definition into a model, and check if it is complete.</a>
      <a id="4572" href="SMT.Script.html#4572" class="Function">pModel</a> <a id="4579" class="Symbol">:</a> <a id="4581" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="4584" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="4591" class="Symbol">(</a><a id="4592" href="SMT.Script.Base.html#5567" class="Datatype">Model</a> <a id="4598" href="SMT.Script.html#4422" class="Bound">Γ</a><a id="4599" class="Symbol">)</a> <a id="4601" href="Relation.Unary.html#3359" class="Function">]</a>
      <a id="4609" href="SMT.Script.html#4572" class="Function">pModel</a> <a id="4616" class="Symbol">=</a> <a id="4618" href="Text.Parser.String.html#3686" class="Function">guardM</a> <a id="4625" href="SMT.Script.html#4144" class="Function">checkMM</a> <a id="4633" class="Symbol">(</a><a id="4634" href="SMT.Script.html#3849" class="Function">mkMM</a> <a id="4639" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4641" href="Data.List.NonEmpty.html#1760" class="Function">List⁺.toList</a> <a id="4654" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="4658" href="SMT.Script.html#3323" class="Function">mkDefnsParser</a> <a id="4672" class="Symbol">{</a><a id="4673" href="SMT.Script.html#4422" class="Bound">Γ</a><a id="4674" class="Symbol">}</a> <a id="4676" href="SMT.Script.html#4425" class="Bound">pVar</a><a id="4680" class="Symbol">)</a>

  <a id="4685" href="SMT.Script.html#4685" class="Function">mkOutputParsers⁺</a> <a id="4702" class="Symbol">:</a> <a id="4704" href="SMT.Script.html#2207" class="Function">OutputParsers</a> <a id="4718" class="Symbol">(</a><a id="4719" href="SMT.Script.html#1449" class="Generalizable">ξ</a> <a id="4721" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4723" href="SMT.Script.html#1474" class="Generalizable">Ξ</a><a id="4724" class="Symbol">)</a> <a id="4726" class="Symbol">→</a> <a id="4728" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="4731" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="4738" class="Symbol">(</a><a id="4739" href="SMT.Script.Base.html#6075" class="Datatype">Outputs</a> <a id="4747" class="Symbol">(</a><a id="4748" href="SMT.Script.html#1449" class="Generalizable">ξ</a> <a id="4750" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4752" href="SMT.Script.html#1474" class="Generalizable">Ξ</a><a id="4753" class="Symbol">))</a> <a id="4756" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="4760" href="SMT.Script.html#4685" class="Function">mkOutputParsers⁺</a> <a id="4777" class="Symbol">(</a><a id="4778" href="SMT.Script.html#4778" class="Bound">op</a> <a id="4781" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="4783" href="Data.Environment.html#410" class="InductiveConstructor">[]</a><a id="4785" class="Symbol">)</a>          <a id="4796" class="Symbol">=</a> <a id="4798" class="Symbol">(</a><a id="4799" href="SMT.Script.Base.html#6135" class="InductiveConstructor Operator">_∷</a> <a id="4802" href="SMT.Script.Base.html#6116" class="InductiveConstructor">[]</a><a id="4804" class="Symbol">)</a> <a id="4806" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="4810" href="SMT.Script.html#4778" class="Bound">op</a>
  <a id="4815" href="SMT.Script.html#4685" class="Function">mkOutputParsers⁺</a> <a id="4832" class="Symbol">(</a><a id="4833" href="SMT.Script.html#4833" class="Bound">op</a> <a id="4836" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="4838" href="SMT.Script.html#4838" class="Bound">ops</a><a id="4841" class="Symbol">@(_</a> <a id="4845" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="4847" class="Symbol">_))</a> <a id="4851" class="Symbol">=</a> <a id="4853" href="Function.Base.html#1554" class="Function">flip</a> <a id="4858" href="SMT.Script.Base.html#6135" class="InductiveConstructor Operator">_∷_</a> <a id="4862" href="Text.Parser.String.html#4990" class="Function Operator">&lt;$&gt;</a> <a id="4866" href="SMT.Script.html#4685" class="Function">mkOutputParsers⁺</a> <a id="4883" href="SMT.Script.html#4838" class="Bound">ops</a> <a id="4887" href="Text.Parser.String.html#5174" class="Function Operator">&lt;*&gt;</a> <a id="4891" href="Text.Parser.String.html#4752" class="Function">box</a> <a id="4895" href="SMT.Script.html#4833" class="Bound">op</a>



<a id="4901" class="Comment">-- * Pretty printer</a>

<a id="4922" class="Keyword">module</a> <a id="4929" href="SMT.Script.html#4929" class="Module">_</a> <a id="4931" class="Keyword">where</a>

  <a id="4940" class="Keyword">open</a> <a id="4945" class="Keyword">import</a> <a id="4952" href="Category.Monad.State.html" class="Module">Category.Monad.State</a> <a id="4973" class="Symbol">as</a> <a id="4976" class="Module">StateCat</a> <a id="4985" class="Keyword">using</a> <a id="4991" class="Symbol">(</a><a id="4992" href="Category.Monad.State.html#2659" class="Record">RawIMonadState</a><a id="5006" class="Symbol">;</a> <a id="5008" href="Category.Monad.State.html#666" class="Function">IStateT</a><a id="5015" class="Symbol">)</a>
  <a id="5019" class="Keyword">open</a> <a id="5024" class="Keyword">import</a> <a id="5031" href="Text.Parser.String.html" class="Module">Text.Parser.String</a> <a id="5050" class="Keyword">using</a> <a id="5056" class="Symbol">(</a><a id="5057" href="Relation.Unary.html#3359" class="Function">IUniversal</a><a id="5067" class="Symbol">;</a> <a id="5069" href="Text.Parser.String.html#2397" class="Function">Parser</a><a id="5075" class="Symbol">;</a> <a id="5077" href="Text.Parser.String.html#5086" class="Function Operator">_&lt;$_</a><a id="5081" class="Symbol">;</a> <a id="5083" href="Text.Parser.String.html#6027" class="Function">withSpaces</a><a id="5093" class="Symbol">;</a> <a id="5095" href="Text.Parser.String.html#6327" class="Function">exacts</a><a id="5101" class="Symbol">)</a>

  <a id="5106" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="5116" class="Symbol">:</a> <a id="5118" class="Symbol">(</a><a id="5119" href="SMT.Script.html#5119" class="Bound">Γ</a> <a id="5121" href="SMT.Script.html#5121" class="Bound">Γ′</a> <a id="5124" class="Symbol">:</a> <a id="5126" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="5130" class="Symbol">)</a> <a id="5132" class="Symbol">→</a> <a id="5134" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5138" class="Symbol">→</a> <a id="5140" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="5146" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="5156" href="SMT.Script.html#5156" class="Bound">Γ</a> <a id="5158" href="SMT.Script.html#5158" class="Bound">Γ′</a> <a id="5161" href="SMT.Script.html#5161" class="Bound">A</a> <a id="5163" class="Symbol">=</a> <a id="5165" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="5173" class="Symbol">(λ</a> <a id="5176" href="SMT.Script.html#5176" class="Bound">Γ</a> <a id="5178" class="Symbol">→</a> <a id="5180" href="SMT.Script.Names.html#2015" class="Record">Names</a> <a id="5186" href="SMT.Script.html#5176" class="Bound">Γ</a> <a id="5188" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5190" href="SMT.Script.html#1647" class="Function">VarParsers</a> <a id="5201" href="SMT.Script.html#5176" class="Bound">Γ</a><a id="5202" class="Symbol">)</a> <a id="5204" href="Function.Base.html#615" class="Function">id</a> <a id="5207" href="SMT.Script.html#5156" class="Bound">Γ</a> <a id="5209" href="SMT.Script.html#5158" class="Bound">Γ′</a> <a id="5212" href="SMT.Script.html#5161" class="Bound">A</a>

  <a id="5217" class="Comment">-- When showing terms, we need to pass around a name state,</a>
  <a id="5279" class="Comment">-- for which we&#39;ll use an indexed monad, indexed by the context,</a>
  <a id="5346" class="Comment">-- so we bring the functions from the indexed monad in scope.</a>
  <a id="5410" class="Keyword">private</a>
    <a id="5422" href="SMT.Script.html#5422" class="Function">monadStateNameState</a> <a id="5442" class="Symbol">=</a>
      <a id="5450" href="Category.Monad.State.html#2986" class="Function">StateCat.StateTIMonadState</a> <a id="5477" class="Symbol">(λ</a> <a id="5480" href="SMT.Script.html#5480" class="Bound">Γ</a> <a id="5482" class="Symbol">→</a> <a id="5484" href="SMT.Script.Names.html#2015" class="Record">Names</a> <a id="5490" href="SMT.Script.html#5480" class="Bound">Γ</a> <a id="5492" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5494" href="SMT.Script.html#1647" class="Function">VarParsers</a> <a id="5505" href="SMT.Script.html#5480" class="Bound">Γ</a><a id="5506" class="Symbol">)</a> <a id="5508" href="Function.Identity.Categorical.html#651" class="Function">Identity.monad</a>

  <a id="5526" class="Keyword">open</a> <a id="5531" href="Category.Monad.State.html#2659" class="Module">RawIMonadState</a> <a id="5546" href="SMT.Script.html#5422" class="Function">monadStateNameState</a>
    <a id="5570" class="Keyword">using</a> <a id="5576" class="Symbol">(</a><a id="5577" href="Category.Monad.Indexed.html#644" class="Function">return</a><a id="5583" class="Symbol">;</a> <a id="5585" href="Category.Monad.Indexed.html#677" class="Function Operator">_&gt;&gt;=_</a><a id="5590" class="Symbol">;</a> <a id="5592" href="Category.Monad.Indexed.html#735" class="Function Operator">_&gt;&gt;_</a><a id="5596" class="Symbol">;</a> <a id="5598" href="Category.Monad.State.html#2831" class="Field">put</a><a id="5601" class="Symbol">;</a> <a id="5603" href="Category.Monad.State.html#2799" class="Field">get</a><a id="5606" class="Symbol">;</a> <a id="5608" href="Category.Monad.State.html#2906" class="Function">modify</a><a id="5614" class="Symbol">)</a>

  <a id="5619" href="SMT.Script.html#5619" class="Function">freshNameS</a> <a id="5630" class="Symbol">:</a> <a id="5632" class="Symbol">(</a><a id="5633" href="SMT.Script.html#5633" class="Bound">σ</a> <a id="5635" class="Symbol">:</a> <a id="5637" href="SMT.Theory.html#1013" class="Function">Sort</a><a id="5641" class="Symbol">)</a> <a id="5643" class="Symbol">→</a> <a id="5645" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="5655" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="5657" class="Symbol">(</a><a id="5658" href="SMT.Script.html#5633" class="Bound">σ</a> <a id="5660" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5662" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="5663" class="Symbol">)</a> <a id="5665" href="SMT.Script.Names.html#1427" class="Function">Name</a>
  <a id="5672" href="SMT.Script.html#5619" class="Function">freshNameS</a> <a id="5683" href="SMT.Script.html#5683" class="Bound">σ</a> <a id="5685" class="Symbol">=</a> <a id="5687" class="Keyword">do</a>
    <a id="5694" class="Symbol">(</a><a id="5695" href="SMT.Script.html#5695" class="Bound">ns</a> <a id="5698" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5700" href="SMT.Script.html#5700" class="Bound">vps</a><a id="5703" class="Symbol">)</a> <a id="5705" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="5707" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="5715" class="Keyword">let</a> <a id="5719" class="Symbol">(</a><a id="5720" href="SMT.Script.html#5720" class="Bound">n</a> <a id="5722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5724" href="SMT.Script.html#5724" class="Bound">ns</a><a id="5726" class="Symbol">)</a> <a id="5728" class="Symbol">=</a> <a id="5730" href="SMT.Script.Names.html#2225" class="Function">freshName</a> <a id="5740" href="SMT.Script.html#5683" class="Bound">σ</a> <a id="5742" href="SMT.Script.html#5695" class="Bound">ns</a>
    <a id="5749" class="Keyword">let</a> <a id="5753" href="SMT.Script.html#5753" class="Bound">vps</a> <a id="5757" class="Symbol">=</a> <a id="5759" class="Symbol">((</a><a id="5761" href="Data.Fin.Base.html#1160" class="InductiveConstructor">Fin.zero</a> <a id="5770" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5772" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="5776" class="Symbol">)</a> <a id="5778" href="Text.Parser.String.html#5086" class="Function Operator">&lt;$</a> <a id="5781" href="Text.Parser.String.html#6027" class="Function">withSpaces</a> <a id="5792" class="Symbol">(</a><a id="5793" href="Text.Parser.String.html#6327" class="Function">exacts</a> <a id="5800" href="SMT.Script.html#5720" class="Bound">n</a><a id="5801" class="Symbol">))</a> <a id="5804" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="5806" href="SMT.Script.html#5700" class="Bound">vps</a>
    <a id="5814" href="Category.Monad.State.html#2831" class="Function">put</a> <a id="5818" class="Symbol">(</a><a id="5819" href="SMT.Script.html#5724" class="Bound">ns</a> <a id="5822" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5824" href="SMT.Script.html#5753" class="Bound">vps</a><a id="5827" class="Symbol">)</a>
    <a id="5833" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="5840" href="SMT.Script.html#5720" class="Bound">n</a>

  <a id="5845" href="SMT.Script.html#5845" class="Function">dropNameS</a> <a id="5855" class="Symbol">:</a> <a id="5857" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="5867" class="Symbol">(</a><a id="5868" href="SMT.Script.html#1339" class="Generalizable">σ</a> <a id="5870" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5872" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="5873" class="Symbol">)</a> <a id="5875" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="5877" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="5881" href="SMT.Script.html#5845" class="Function">dropNameS</a> <a id="5891" class="Symbol">=</a> <a id="5893" class="Keyword">do</a>
    <a id="5900" class="Symbol">(</a><a id="5901" href="SMT.Script.html#5901" class="Bound">ns</a> <a id="5904" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5906" class="Symbol">_</a> <a id="5908" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="5910" href="SMT.Script.html#5910" class="Bound">vps</a><a id="5913" class="Symbol">)</a> <a id="5915" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="5917" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="5925" href="Category.Monad.State.html#2831" class="Function">put</a> <a id="5929" class="Symbol">(</a><a id="5930" href="SMT.Script.Names.html#2513" class="Function">dropName</a> <a id="5939" href="SMT.Script.html#5901" class="Bound">ns</a> <a id="5942" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5944" href="SMT.Script.html#5910" class="Bound">vps</a><a id="5947" class="Symbol">)</a>
    <a id="5953" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="5960" class="Symbol">_</a>

  <a id="5965" href="SMT.Script.html#5965" class="Function">lookupNameS</a> <a id="5977" class="Symbol">:</a> <a id="5979" class="Symbol">(</a><a id="5980" href="SMT.Script.html#5980" class="Bound">i</a> <a id="5982" class="Symbol">:</a> <a id="5984" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="5986" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="5988" href="SMT.Script.html#1339" class="Generalizable">σ</a><a id="5989" class="Symbol">)</a> <a id="5991" class="Symbol">→</a> <a id="5993" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="6003" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6005" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6007" href="SMT.Script.Names.html#1427" class="Function">Name</a>
  <a id="6014" href="SMT.Script.html#5965" class="Function">lookupNameS</a> <a id="6026" class="Symbol">(</a><a id="6027" href="SMT.Script.html#6027" class="Bound">i</a> <a id="6029" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6031" href="SMT.Script.html#6031" class="Bound Operator">_p</a><a id="6033" class="Symbol">)</a> <a id="6035" class="Symbol">=</a> <a id="6037" class="Keyword">do</a>
    <a id="6044" class="Symbol">(</a><a id="6045" href="SMT.Script.html#6045" class="Bound">ns</a> <a id="6048" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6050" href="SMT.Script.html#6050" class="Bound Operator">_vps</a><a id="6054" class="Symbol">)</a> <a id="6056" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6058" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="6066" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6073" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6075" href="Data.Environment.html#849" class="Function">Env.lookup</a> <a id="6086" class="Symbol">(</a><a id="6087" href="SMT.Script.Names.html#2056" class="Field">Names.nameEnv</a> <a id="6101" href="SMT.Script.html#6045" class="Bound">ns</a><a id="6103" class="Symbol">)</a> <a id="6105" href="SMT.Script.html#6027" class="Bound">i</a>


  <a id="6111" class="Comment">-- * Printing functions</a>

  <a id="6138" class="Keyword">mutual</a>

    <a id="6150" class="Comment">-- |Show a term as an S-expression.</a>
    <a id="6190" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6200" class="Symbol">:</a> <a id="6202" href="SMT.Script.Base.html#1472" class="Datatype">Term</a> <a id="6207" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6209" href="SMT.Script.html#1339" class="Generalizable">σ</a> <a id="6211" class="Symbol">→</a> <a id="6213" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="6223" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6225" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6227" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="6238" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6248" class="Symbol">(</a><a id="6249" href="SMT.Script.Base.html#1517" class="InductiveConstructor">var</a> <a id="6253" href="SMT.Script.html#6253" class="Bound">i</a><a id="6254" class="Symbol">)</a> <a id="6256" class="Symbol">=</a> <a id="6258" class="Keyword">do</a>
      <a id="6267" href="SMT.Script.html#6267" class="Bound">n</a> <a id="6269" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6271" href="SMT.Script.html#5965" class="Function">lookupNameS</a> <a id="6283" href="SMT.Script.html#6253" class="Bound">i</a>
      <a id="6291" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6298" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6300" href="SMT.Script.Names.html#1473" class="Function">showName</a> <a id="6309" href="SMT.Script.html#6267" class="Bound">n</a>
    <a id="6315" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6325" class="Symbol">(</a><a id="6326" href="SMT.Script.Base.html#1559" class="InductiveConstructor">lit</a> <a id="6330" href="SMT.Script.html#6330" class="Bound">l</a><a id="6331" class="Symbol">)</a> <a id="6333" class="Symbol">=</a> <a id="6335" class="Keyword">do</a>
      <a id="6344" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6351" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6353" href="SMT.Theory.html#1432" class="Function">showLiteral</a> <a id="6365" href="SMT.Script.html#6330" class="Bound">l</a>
    <a id="6371" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6381" class="Symbol">(</a><a id="6382" href="SMT.Script.Base.html#1605" class="InductiveConstructor">app</a> <a id="6386" href="SMT.Script.html#6386" class="Bound">x</a> <a id="6388" href="SMT.Script.html#6388" class="Bound">xs</a><a id="6390" class="Symbol">)</a> <a id="6392" class="Symbol">=</a> <a id="6394" class="Keyword">do</a>
      <a id="6403" class="Keyword">let</a> <a id="6407" href="SMT.Script.html#6407" class="Bound">x</a> <a id="6409" class="Symbol">=</a> <a id="6411" href="SMT.Theory.html#1485" class="Function">showIdentifier</a> <a id="6426" href="SMT.Script.html#6386" class="Bound">x</a>
      <a id="6434" href="SMT.Script.html#6434" class="Bound">xs</a> <a id="6437" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6439" href="SMT.Script.html#6873" class="Function">showArgsS</a> <a id="6449" href="SMT.Script.html#6388" class="Bound">xs</a>
      <a id="6458" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6465" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6467" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6475" class="Symbol">(</a><a id="6476" href="SMT.Script.html#6407" class="Bound">x</a> <a id="6478" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6480" href="SMT.Script.html#6434" class="Bound">xs</a><a id="6482" class="Symbol">)</a>
    <a id="6488" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6498" class="Symbol">(</a><a id="6499" href="SMT.Script.Base.html#1699" class="InductiveConstructor">forAll</a> <a id="6506" href="SMT.Script.html#6506" class="Bound">σ</a> <a id="6508" href="SMT.Script.html#6508" class="Bound">x</a><a id="6509" class="Symbol">)</a> <a id="6511" class="Symbol">=</a> <a id="6513" class="Keyword">do</a>
      <a id="6522" href="SMT.Script.html#6522" class="Bound">n</a> <a id="6524" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6526" href="SMT.Script.html#5619" class="Function">freshNameS</a> <a id="6537" href="SMT.Script.html#6506" class="Bound">σ</a>
      <a id="6545" href="SMT.Script.html#6545" class="Bound">x</a> <a id="6547" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6549" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6559" href="SMT.Script.html#6508" class="Bound">x</a>
      <a id="6567" href="SMT.Script.html#5845" class="Function">dropNameS</a>
      <a id="6583" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6590" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6592" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6600" class="Symbol">(</a><a id="6601" class="String">&quot;forall&quot;</a> <a id="6610" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6612" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6620" class="Symbol">(</a><a id="6621" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6629" class="Symbol">(</a><a id="6630" href="SMT.Script.Names.html#1473" class="Function">showName</a> <a id="6639" href="SMT.Script.html#6522" class="Bound">n</a> <a id="6641" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6643" href="SMT.Theory.html#1397" class="Function">showSort</a> <a id="6652" href="SMT.Script.html#6506" class="Bound">σ</a> <a id="6654" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6656" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6658" class="Symbol">)</a> <a id="6660" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6662" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6664" class="Symbol">)</a> <a id="6666" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6668" href="SMT.Script.html#6545" class="Bound">x</a> <a id="6670" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6672" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6674" class="Symbol">)</a>
    <a id="6680" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6690" class="Symbol">(</a><a id="6691" href="SMT.Script.Base.html#1763" class="InductiveConstructor">exists</a> <a id="6698" href="SMT.Script.html#6698" class="Bound">σ</a> <a id="6700" href="SMT.Script.html#6700" class="Bound">x</a><a id="6701" class="Symbol">)</a> <a id="6703" class="Symbol">=</a> <a id="6705" class="Keyword">do</a>
      <a id="6714" href="SMT.Script.html#6714" class="Bound">n</a> <a id="6716" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6718" href="SMT.Script.html#5619" class="Function">freshNameS</a> <a id="6729" href="SMT.Script.html#6698" class="Bound">σ</a>
      <a id="6737" href="SMT.Script.html#6737" class="Bound">x</a> <a id="6739" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6741" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="6751" href="SMT.Script.html#6700" class="Bound">x</a>
      <a id="6759" href="SMT.Script.html#5845" class="Function">dropNameS</a>
      <a id="6775" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6782" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6784" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6792" class="Symbol">(</a><a id="6793" class="String">&quot;exists&quot;</a> <a id="6802" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6804" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6812" class="Symbol">(</a><a id="6813" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="6821" class="Symbol">(</a><a id="6822" href="SMT.Script.Names.html#1473" class="Function">showName</a> <a id="6831" href="SMT.Script.html#6714" class="Bound">n</a> <a id="6833" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6835" href="SMT.Theory.html#1397" class="Function">showSort</a> <a id="6844" href="SMT.Script.html#6698" class="Bound">σ</a> <a id="6846" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6848" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6850" class="Symbol">)</a> <a id="6852" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6854" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6856" class="Symbol">)</a> <a id="6858" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6860" href="SMT.Script.html#6737" class="Bound">x</a> <a id="6862" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6864" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6866" class="Symbol">)</a>

    <a id="6873" href="SMT.Script.html#6873" class="Function">showArgsS</a> <a id="6883" class="Symbol">:</a> <a id="6885" href="SMT.Script.Base.html#1826" class="Function">Args</a> <a id="6890" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6892" href="SMT.Script.html#1377" class="Generalizable">Δ</a> <a id="6894" class="Symbol">→</a> <a id="6896" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="6906" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6908" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="6910" class="Symbol">(</a><a id="6911" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6916" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="6922" class="Symbol">)</a>
    <a id="6928" href="SMT.Script.html#6873" class="Function">showArgsS</a> <a id="6938" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>       <a id="6947" class="Symbol">=</a> <a id="6949" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="6956" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="6963" href="SMT.Script.html#6873" class="Function">showArgsS</a> <a id="6973" class="Symbol">(</a><a id="6974" href="SMT.Script.html#6974" class="Bound">x</a> <a id="6976" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="6978" href="SMT.Script.html#6978" class="Bound">xs</a><a id="6980" class="Symbol">)</a> <a id="6982" class="Symbol">=</a> <a id="6984" class="Keyword">do</a> <a id="6987" href="SMT.Script.html#6987" class="Bound">x</a> <a id="6989" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="6991" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="7001" href="SMT.Script.html#6974" class="Bound">x</a><a id="7002" class="Symbol">;</a> <a id="7004" href="SMT.Script.html#7004" class="Bound">xs</a> <a id="7007" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7009" href="SMT.Script.html#6873" class="Function">showArgsS</a> <a id="7019" href="SMT.Script.html#6978" class="Bound">xs</a><a id="7021" class="Symbol">;</a> <a id="7023" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7030" class="Symbol">(</a><a id="7031" href="SMT.Script.html#6987" class="Bound">x</a> <a id="7033" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7035" href="SMT.Script.html#7004" class="Bound">xs</a><a id="7037" class="Symbol">)</a>


  <a id="7043" class="Comment">-- |Show a command as an S-expression, and build up an environment of output parsers.</a>
  <a id="7131" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7144" class="Symbol">:</a> <a id="7146" href="SMT.Script.Base.html#7626" class="Datatype">Command</a> <a id="7154" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="7156" href="SMT.Script.html#1363" class="Generalizable">δΓ</a> <a id="7159" href="SMT.Script.html#1479" class="Generalizable">δΞ</a> <a id="7162" class="Symbol">→</a> <a id="7164" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="7174" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="7176" class="Symbol">(</a><a id="7177" href="SMT.Script.html#1363" class="Generalizable">δΓ</a> <a id="7180" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="7183" href="SMT.Script.html#1358" class="Generalizable">Γ</a><a id="7184" class="Symbol">)</a> <a id="7186" class="Symbol">(</a><a id="7187" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="7194" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7196" href="SMT.Script.html#2207" class="Function">OutputParsers</a> <a id="7210" href="SMT.Script.html#1479" class="Generalizable">δΞ</a><a id="7212" class="Symbol">)</a>
  <a id="7216" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7229" class="Symbol">(</a><a id="7230" href="SMT.Script.Base.html#7691" class="InductiveConstructor">set-logic</a> <a id="7240" href="SMT.Script.html#7240" class="Bound">l</a><a id="7241" class="Symbol">)</a> <a id="7243" class="Symbol">=</a> <a id="7245" class="Keyword">do</a>
    <a id="7252" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7259" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7261" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7269" class="Symbol">(</a><a id="7270" class="String">&quot;set-logic&quot;</a> <a id="7282" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7284" href="SMT.Logics.html#6232" class="Function">showLogic</a> <a id="7294" href="SMT.Script.html#7240" class="Bound">l</a> <a id="7296" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7298" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7300" class="Symbol">)</a> <a id="7302" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7304" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>
  <a id="7309" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7322" class="Symbol">(</a><a id="7323" href="SMT.Script.Base.html#7739" class="InductiveConstructor">declare-const</a> <a id="7337" href="SMT.Script.html#7337" class="Bound">σ</a><a id="7338" class="Symbol">)</a> <a id="7340" class="Symbol">=</a> <a id="7342" class="Keyword">do</a>
    <a id="7349" href="SMT.Script.html#7349" class="Bound">n</a> <a id="7351" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7353" href="SMT.Script.html#5619" class="Function">freshNameS</a> <a id="7364" href="SMT.Script.html#7337" class="Bound">σ</a>
    <a id="7370" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7377" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7379" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7387" class="Symbol">(</a><a id="7388" class="String">&quot;declare-const&quot;</a> <a id="7404" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7406" href="SMT.Script.Names.html#1473" class="Function">showName</a> <a id="7415" href="SMT.Script.html#7349" class="Bound">n</a> <a id="7417" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7419" href="SMT.Theory.html#1397" class="Function">showSort</a> <a id="7428" href="SMT.Script.html#7337" class="Bound">σ</a> <a id="7430" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7432" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7434" class="Symbol">)</a> <a id="7436" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7438" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>
  <a id="7443" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7456" class="Symbol">(</a><a id="7457" href="SMT.Script.Base.html#7792" class="InductiveConstructor">assert</a> <a id="7464" href="SMT.Script.html#7464" class="Bound">x</a><a id="7465" class="Symbol">)</a> <a id="7467" class="Symbol">=</a> <a id="7469" class="Keyword">do</a>
    <a id="7476" href="SMT.Script.html#7476" class="Bound">x</a> <a id="7478" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7480" href="SMT.Script.html#6190" class="Function">showTermS</a> <a id="7490" href="SMT.Script.html#7464" class="Bound">x</a>
    <a id="7496" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7503" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7505" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7513" class="Symbol">(</a><a id="7514" class="String">&quot;assert&quot;</a> <a id="7523" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7525" href="SMT.Script.html#7476" class="Bound">x</a> <a id="7527" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7529" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7531" class="Symbol">)</a> <a id="7533" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7535" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>
  <a id="7540" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7553" href="SMT.Script.Base.html#7840" class="InductiveConstructor">check-sat</a> <a id="7563" class="Symbol">=</a> <a id="7565" class="Keyword">do</a>
    <a id="7572" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7579" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7581" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7589" class="Symbol">(</a><a id="7590" class="String">&quot;check-sat&quot;</a> <a id="7602" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7604" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7606" class="Symbol">)</a> <a id="7608" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7610" href="SMT.Script.html#2332" class="Function">pSat</a> <a id="7615" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="7617" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>
  <a id="7622" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="7635" href="SMT.Script.Base.html#7882" class="InductiveConstructor">get-model</a> <a id="7645" class="Symbol">=</a> <a id="7647" class="Keyword">do</a>
    <a id="7654" class="Symbol">(</a><a id="7655" href="SMT.Script.html#7655" class="Bound Operator">_ns</a> <a id="7659" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7661" href="SMT.Script.html#7661" class="Bound">vps</a><a id="7664" class="Symbol">)</a> <a id="7666" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7668" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="7676" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7683" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7685" href="Data.String.Base.html#2550" class="Function">String.unlines</a> <a id="7700" class="Symbol">(</a> <a id="7702" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7710" class="Symbol">(</a><a id="7711" class="String">&quot;check-sat&quot;</a> <a id="7723" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7725" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7727" class="Symbol">)</a>
                            <a id="7757" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7759" href="SMT.Theory.html#2540" class="Function">mkSTerm</a> <a id="7767" class="Symbol">(</a><a id="7768" class="String">&quot;get-model&quot;</a> <a id="7780" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7782" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7784" class="Symbol">)</a> <a id="7786" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7788" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7791" class="Symbol">)</a>
           <a id="7804" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7806" href="SMT.Script.html#4345" class="Function">mkModelParser</a> <a id="7820" class="Symbol">(</a><a id="7821" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="7833" href="SMT.Script.html#7661" class="Bound">vps</a><a id="7836" class="Symbol">)</a> <a id="7838" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="7840" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>

  <a id="7846" class="Comment">-- |Show a script as an S-expression, and build up an environment of output parsers.</a>
  <a id="7933" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="7945" class="Symbol">:</a> <a id="7947" href="SMT.Script.Base.html#8021" class="Datatype">Script</a> <a id="7954" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="7956" href="SMT.Script.html#1360" class="Generalizable">Γ′</a> <a id="7959" href="SMT.Script.html#1474" class="Generalizable">Ξ</a> <a id="7961" class="Symbol">→</a> <a id="7963" href="SMT.Script.html#5106" class="Function">NameState</a> <a id="7973" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="7975" href="SMT.Script.html#1360" class="Generalizable">Γ′</a> <a id="7978" class="Symbol">(</a><a id="7979" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7984" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="7991" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7993" href="SMT.Script.html#2207" class="Function">OutputParsers</a> <a id="8007" href="SMT.Script.html#1474" class="Generalizable">Ξ</a><a id="8008" class="Symbol">)</a>
  <a id="8012" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="8024" href="SMT.Script.Base.html#8084" class="InductiveConstructor">[]</a> <a id="8027" class="Symbol">=</a> <a id="8029" class="Keyword">do</a>
    <a id="8036" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8043" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="8045" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="8048" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8050" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>
  <a id="8055" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="8067" class="Symbol">(</a><a id="8068" href="SMT.Script.html#8068" class="Bound">cmd</a> <a id="8072" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="8074" href="SMT.Script.html#8074" class="Bound">scr</a><a id="8077" class="Symbol">)</a> <a id="8079" class="Symbol">=</a> <a id="8081" class="Keyword">do</a>
    <a id="8088" class="Symbol">(</a><a id="8089" href="SMT.Script.html#8089" class="Bound">cmd</a> <a id="8093" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8095" href="SMT.Script.html#8095" class="Bound">ops₁</a><a id="8099" class="Symbol">)</a> <a id="8101" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8103" href="SMT.Script.html#7131" class="Function">showCommandS</a> <a id="8116" href="SMT.Script.html#8068" class="Bound">cmd</a>
    <a id="8124" class="Symbol">(</a><a id="8125" href="SMT.Script.html#8125" class="Bound">scr</a> <a id="8129" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8131" href="SMT.Script.html#8131" class="Bound">ops₂</a><a id="8135" class="Symbol">)</a> <a id="8137" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8139" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="8151" href="SMT.Script.html#8074" class="Bound">scr</a>
    <a id="8159" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8166" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="8168" href="SMT.Script.html#8089" class="Bound">cmd</a> <a id="8172" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8174" href="SMT.Script.html#8125" class="Bound">scr</a> <a id="8178" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8180" href="Data.Environment.html#1225" class="Function">Env.append</a> <a id="8191" href="Function.Base.html#615" class="Function">id</a> <a id="8194" href="SMT.Script.html#8095" class="Bound">ops₁</a> <a id="8199" href="SMT.Script.html#8131" class="Bound">ops₂</a>

  <a id="8207" class="Comment">-- |Show a script as an S-expression, and return an environment of output parsers.</a>
  <a id="8292" href="SMT.Script.html#8292" class="Function">showScript</a> <a id="8303" class="Symbol">:</a> <a id="8305" href="SMT.Script.Base.html#8021" class="Datatype">Script</a> <a id="8312" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="8315" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="8317" class="Symbol">(</a><a id="8318" href="SMT.Script.html#1449" class="Generalizable">ξ</a> <a id="8320" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8322" href="SMT.Script.html#1474" class="Generalizable">Ξ</a><a id="8323" class="Symbol">)</a> <a id="8325" class="Symbol">→</a> <a id="8327" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="8334" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8336" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="8339" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="8346" class="Symbol">(</a><a id="8347" href="SMT.Script.Base.html#6075" class="Datatype">Outputs</a> <a id="8355" class="Symbol">(</a><a id="8356" href="SMT.Script.html#1449" class="Generalizable">ξ</a> <a id="8358" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8360" href="SMT.Script.html#1474" class="Generalizable">Ξ</a><a id="8361" class="Symbol">))</a> <a id="8364" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="8368" href="SMT.Script.html#8292" class="Function">showScript</a> <a id="8379" href="SMT.Script.html#8379" class="Bound">scr</a> <a id="8383" class="Symbol">=</a> <a id="8385" href="Data.Product.html#2450" class="Function">Prod.map</a> <a id="8394" href="Data.String.Base.html#2550" class="Function">String.unlines</a> <a id="8409" href="SMT.Script.html#4685" class="Function">mkOutputParsers⁺</a> <a id="8426" class="Symbol">(</a><a id="8427" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="8433" class="Symbol">(</a><a id="8434" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="8446" href="SMT.Script.html#8379" class="Bound">scr</a> <a id="8450" class="Symbol">(</a><a id="8451" href="SMT.Script.Names.html#2732" class="Function">x′es</a> <a id="8456" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8458" href="Data.Environment.html#410" class="InductiveConstructor">[]</a><a id="8460" class="Symbol">)))</a>

  <a id="8467" class="Comment">-- |Get the variable parser for a script (for debugging purposes).</a>
  <a id="8536" href="SMT.Script.html#8536" class="Function">getVarParser</a> <a id="8549" class="Symbol">:</a> <a id="8551" href="SMT.Script.Base.html#8021" class="Datatype">Script</a> <a id="8558" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="8561" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="8563" href="SMT.Script.html#1474" class="Generalizable">Ξ</a> <a id="8565" class="Symbol">→</a> <a id="8567" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="8570" href="Text.Parser.String.html#2397" class="Function">Parser</a> <a id="8577" class="Symbol">(</a><a id="8578" href="Data.Product.html#1788" class="Function">∃[</a> <a id="8581" href="SMT.Script.html#8581" class="Bound">σ</a> <a id="8583" href="Data.Product.html#1788" class="Function">]</a> <a id="8585" class="Symbol">(</a><a id="8586" href="SMT.Script.html#1358" class="Generalizable">Γ</a> <a id="8588" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="8590" href="SMT.Script.html#8581" class="Bound">σ</a><a id="8591" class="Symbol">))</a> <a id="8594" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="8598" href="SMT.Script.html#8536" class="Function">getVarParser</a> <a id="8611" href="SMT.Script.html#8611" class="Bound">scr</a> <a id="8615" class="Symbol">=</a> <a id="8617" href="SMT.Script.html#1811" class="Function">mkVarParser</a> <a id="8629" class="Symbol">(</a><a id="8630" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="8636" class="Symbol">(</a><a id="8637" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="8643" class="Symbol">(</a><a id="8644" href="SMT.Script.html#7933" class="Function">showScriptS</a> <a id="8656" href="SMT.Script.html#8611" class="Bound">scr</a> <a id="8660" class="Symbol">(</a><a id="8661" href="SMT.Script.Names.html#2732" class="Function">x′es</a> <a id="8666" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8668" href="Data.Environment.html#410" class="InductiveConstructor">[]</a><a id="8670" class="Symbol">))))</a>


<a id="8677" class="Comment">-- * Reflection hooks</a>

<a id="8700" class="Keyword">module</a> <a id="8707" href="SMT.Script.html#8707" class="Module">_</a> <a id="8709" class="Keyword">where</a>

  <a id="8718" class="Comment">-- TODO: The checkRawTerm and checkRawCommand functions should be rewritten to</a>
  <a id="8799" class="Comment">--       infer their argument sort, as opposed to just trying all sorts.</a>
  <a id="8874" class="Comment">--       Premature optimisation and all that, but the current approach is</a>
  <a id="8950" class="Comment">--       exponential.</a>
  <a id="8974" class="Keyword">private</a>
    <a id="8986" href="SMT.Script.html#8986" class="Function">monadPlusMaybe</a> <a id="9001" class="Symbol">=</a> <a id="9003" href="Data.Maybe.Categorical.html#1616" class="Function">MaybeCat.monadPlus</a> <a id="9022" class="Symbol">{</a><a id="9023" href="Agda.Primitive.html#764" class="Primitive">Level.zero</a><a id="9033" class="Symbol">}</a>

  <a id="9038" class="Keyword">open</a> <a id="9043" href="Category.Monad.html#1023" class="Module">RawMonadPlus</a> <a id="9056" href="SMT.Script.html#8986" class="Function">monadPlusMaybe</a> <a id="9071" class="Keyword">renaming</a> <a id="9080" class="Symbol">(</a><a id="9081" href="Category.Applicative.Indexed.html#1034" class="Function Operator">_⊛_</a> <a id="9085" class="Symbol">to</a> <a id="9088" href="SMT.Script.html#9088" class="Function Operator">_&lt;*&gt;_</a><a id="9093" class="Symbol">)</a>


  <a id="9099" class="Keyword">private</a>
    <a id="9111" class="Keyword">variable</a>
      <a id="9126" href="SMT.Script.html#9126" class="Generalizable">Γᵣ</a> <a id="9129" href="SMT.Script.html#9129" class="Generalizable">Γᵣ′</a> <a id="9133" href="SMT.Script.html#9133" class="Generalizable">δΓᵣ</a> <a id="9137" class="Symbol">:</a> <a id="9139" href="SMT.Theories.Raw.html#1636" class="Function">RawCtxt</a>
      <a id="9153" href="SMT.Script.html#9153" class="Generalizable">Ξᵣ</a> <a id="9156" href="SMT.Script.html#9156" class="Generalizable">Ξᵣ′</a> <a id="9160" href="SMT.Script.html#9160" class="Generalizable">δΞᵣ</a> <a id="9164" class="Symbol">:</a> <a id="9166" href="SMT.Theories.Raw.html#1592" class="Function">RawOutputCtxt</a>
      <a id="9186" href="SMT.Script.html#9186" class="Generalizable">Δᵣ</a> <a id="9189" href="SMT.Script.html#9189" class="Generalizable">Δᵣ′</a> <a id="9193" class="Symbol">:</a> <a id="9195" href="SMT.Theories.Raw.html#1636" class="Function">RawCtxt</a>

  <a id="9206" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9218" class="Symbol">:</a> <a id="9220" class="Symbol">(</a><a id="9221" href="SMT.Script.html#9221" class="Bound">Γ</a> <a id="9223" class="Symbol">:</a> <a id="9225" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="9229" class="Symbol">)</a> <a id="9231" class="Symbol">(</a><a id="9232" href="SMT.Script.html#9232" class="Bound">σ</a> <a id="9234" class="Symbol">:</a> <a id="9236" href="SMT.Theory.html#1013" class="Function">Sort</a><a id="9240" class="Symbol">)</a> <a id="9242" class="Symbol">(</a><a id="9243" href="SMT.Script.html#9243" class="Bound">n</a> <a id="9245" class="Symbol">:</a> <a id="9247" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="9248" class="Symbol">)</a> <a id="9250" class="Symbol">→</a> <a id="9252" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9258" class="Symbol">(</a><a id="9259" href="SMT.Script.html#9221" class="Bound">Γ</a> <a id="9261" href="SMT.Script.Base.html#1249" class="Function Operator">∋</a> <a id="9263" href="SMT.Script.html#9232" class="Bound">σ</a><a id="9264" class="Symbol">)</a>
  <a id="9268" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9280" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="9289" href="SMT.Script.html#9289" class="Bound">σ</a> <a id="9291" href="SMT.Script.html#9291" class="Bound">n</a>       <a id="9299" class="Symbol">=</a> <a id="9301" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
  <a id="9311" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9323" class="Symbol">(</a><a id="9324" href="SMT.Script.html#9324" class="Bound">σ′</a> <a id="9327" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9329" href="SMT.Script.html#9329" class="Bound">Γ</a><a id="9330" class="Symbol">)</a> <a id="9332" href="SMT.Script.html#9332" class="Bound">σ</a> <a id="9334" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="9342" class="Symbol">=</a> <a id="9344" class="Symbol">⦇</a> <a id="9346" class="Symbol">(</a><a id="9347" href="Data.Fin.Base.html#1160" class="InductiveConstructor">zero</a> <a id="9352" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,_</a><a id="9354" class="Symbol">)</a> <a id="9356" class="Symbol">(</a><a id="9357" href="Data.Maybe.Base.html#1212" class="Function">Maybe.decToMaybe</a> <a id="9374" class="Symbol">(</a><a id="9375" href="SMT.Script.html#9324" class="Bound">σ′</a> <a id="9378" href="SMT.Theory.html#1036" class="Function Operator">≟-Sort</a> <a id="9385" href="SMT.Script.html#9332" class="Bound">σ</a><a id="9386" class="Symbol">))</a> <a id="9389" class="Symbol">⦈</a>
  <a id="9393" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9405" class="Symbol">(</a><a id="9406" href="SMT.Script.html#9406" class="Bound">σ′</a> <a id="9409" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9411" href="SMT.Script.html#9411" class="Bound">Γ</a><a id="9412" class="Symbol">)</a> <a id="9414" href="SMT.Script.html#9414" class="Bound">σ</a> <a id="9416" class="Symbol">(</a><a id="9417" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="9421" href="SMT.Script.html#9421" class="Bound">n</a><a id="9422" class="Symbol">)</a> <a id="9424" class="Symbol">=</a> <a id="9426" class="Symbol">⦇</a> <a id="9428" href="SMT.Script.Base.html#2364" class="Function">extendVar</a> <a id="9438" class="Symbol">(</a><a id="9439" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9451" href="SMT.Script.html#9411" class="Bound">Γ</a> <a id="9453" href="SMT.Script.html#9414" class="Bound">σ</a> <a id="9455" href="SMT.Script.html#9421" class="Bound">n</a><a id="9456" class="Symbol">)</a> <a id="9458" class="Symbol">⦈</a>

  <a id="9463" class="Keyword">mutual</a>
    <a id="9474" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="9487" class="Symbol">:</a> <a id="9489" class="Symbol">(</a><a id="9490" href="SMT.Script.html#9490" class="Bound">Γ</a> <a id="9492" class="Symbol">:</a> <a id="9494" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="9498" class="Symbol">)</a> <a id="9500" class="Symbol">(</a><a id="9501" href="SMT.Script.html#9501" class="Bound">σ</a> <a id="9503" class="Symbol">:</a> <a id="9505" href="SMT.Theory.html#1013" class="Function">Sort</a><a id="9509" class="Symbol">)</a> <a id="9511" class="Symbol">→</a> <a id="9513" href="SMT.Theories.Raw.html#1709" class="Datatype">RawTerm</a> <a id="9521" href="SMT.Script.html#9126" class="Generalizable">Γᵣ</a> <a id="9524" href="SMT.Theories.Raw.html#497" class="InductiveConstructor">⋆</a> <a id="9526" class="Symbol">→</a> <a id="9528" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9534" class="Symbol">(</a><a id="9535" href="SMT.Script.Base.html#1472" class="Datatype">Term</a> <a id="9540" href="SMT.Script.html#9490" class="Bound">Γ</a> <a id="9542" href="SMT.Script.html#9501" class="Bound">σ</a><a id="9543" class="Symbol">)</a>
    <a id="9549" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="9562" href="SMT.Script.html#9562" class="Bound">Γ</a> <a id="9564" href="SMT.Script.html#9564" class="Bound">σ</a> <a id="9566" class="Symbol">(</a><a id="9567" href="SMT.Theories.Raw.html#1747" class="InductiveConstructor">varᵣ</a> <a id="9572" href="SMT.Script.html#9572" class="Bound">n</a><a id="9573" class="Symbol">)</a> <a id="9575" class="Symbol">=</a> <a id="9577" class="Keyword">do</a>
      <a id="9586" href="SMT.Script.html#9586" class="Bound">x</a> <a id="9588" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9590" href="SMT.Script.html#9206" class="Function">checkRawVar</a> <a id="9602" href="SMT.Script.html#9562" class="Bound">Γ</a> <a id="9604" href="SMT.Script.html#9564" class="Bound">σ</a> <a id="9606" class="Symbol">(</a><a id="9607" href="Data.Fin.Base.html#1264" class="Function">Fin.toℕ</a> <a id="9615" class="Symbol">(</a><a id="9616" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="9622" href="SMT.Script.html#9572" class="Bound">n</a><a id="9623" class="Symbol">))</a>
      <a id="9632" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9639" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="9641" href="SMT.Script.Base.html#1517" class="InductiveConstructor">var</a> <a id="9645" href="SMT.Script.html#9586" class="Bound">x</a>
    <a id="9651" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="9664" href="SMT.Script.html#9664" class="Bound">Γ</a> <a id="9666" href="SMT.Script.html#9666" class="Bound">σ</a> <a id="9668" class="Symbol">(</a><a id="9669" href="SMT.Theories.Raw.html#1782" class="InductiveConstructor">litᵣ</a> <a id="9674" href="SMT.Script.html#9674" class="Bound">l</a><a id="9675" class="Symbol">)</a> <a id="9677" class="Symbol">=</a> <a id="9679" class="Keyword">do</a>
      <a id="9688" href="SMT.Script.html#9688" class="Bound">l</a> <a id="9690" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9692" href="SMT.Theory.html#1865" class="Function">checkLiteral</a> <a id="9705" href="SMT.Script.html#9666" class="Bound">σ</a> <a id="9707" href="SMT.Script.html#9674" class="Bound">l</a>
      <a id="9715" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9722" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="9724" href="SMT.Script.Base.html#1559" class="InductiveConstructor">lit</a> <a id="9728" href="SMT.Script.html#9688" class="Bound">l</a>
    <a id="9734" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="9747" href="SMT.Script.html#9747" class="Bound">Γ</a> <a id="9749" href="SMT.Script.html#9749" class="Bound">σ</a> <a id="9751" class="Symbol">(</a><a id="9752" href="SMT.Theories.Raw.html#1817" class="InductiveConstructor">appᵣ</a> <a id="9757" href="SMT.Script.html#9757" class="Bound">f</a> <a id="9759" href="SMT.Script.html#9759" class="Bound">args</a><a id="9763" class="Symbol">)</a> <a id="9765" class="Symbol">=</a> <a id="9767" class="Keyword">do</a>
      <a id="9776" class="Symbol">(</a><a id="9777" href="SMT.Script.html#9777" class="Bound">Σ</a> <a id="9779" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9781" href="SMT.Script.html#9781" class="Bound">f</a><a id="9782" class="Symbol">)</a> <a id="9784" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9786" href="SMT.Theory.html#1929" class="Function">checkIdentifier</a> <a id="9802" href="SMT.Script.html#9749" class="Bound">σ</a> <a id="9804" href="SMT.Script.html#9757" class="Bound">f</a>
      <a id="9812" href="SMT.Script.html#9812" class="Bound">args</a> <a id="9817" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9819" href="SMT.Script.html#10356" class="Function">checkRawArgs</a> <a id="9832" href="SMT.Script.html#9747" class="Bound">Γ</a> <a id="9834" class="Symbol">(</a><a id="9835" href="SMT.Theory.html#515" class="Field">ArgTypes</a> <a id="9844" href="SMT.Script.html#9777" class="Bound">Σ</a><a id="9845" class="Symbol">)</a> <a id="9847" href="SMT.Script.html#9759" class="Bound">args</a>
      <a id="9858" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9865" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="9867" href="SMT.Script.Base.html#1605" class="InductiveConstructor">app</a> <a id="9871" href="SMT.Script.html#9781" class="Bound">f</a> <a id="9873" href="SMT.Script.html#9812" class="Bound">args</a>
    <a id="9882" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="9895" href="SMT.Script.html#9895" class="Bound">Γ</a> <a id="9897" href="SMT.Script.html#9897" class="Bound">σ</a> <a id="9899" class="Symbol">(</a><a id="9900" href="SMT.Theories.Raw.html#1852" class="InductiveConstructor">forAllᵣ</a> <a id="9908" href="SMT.Theories.Raw.html#497" class="InductiveConstructor">⋆</a> <a id="9910" href="SMT.Script.html#9910" class="Bound">x</a><a id="9911" class="Symbol">)</a> <a id="9913" class="Symbol">=</a> <a id="9915" class="Keyword">do</a>
      <a id="9924" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="9929" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9931" href="Data.Maybe.Base.html#1212" class="Function">Maybe.decToMaybe</a> <a id="9948" class="Symbol">(</a><a id="9949" href="SMT.Script.html#9897" class="Bound">σ</a> <a id="9951" href="SMT.Theory.html#1036" class="Function Operator">≟-Sort</a> <a id="9958" href="SMT.Theory.html#1084" class="Function">BOOL</a><a id="9962" class="Symbol">)</a>
      <a id="9970" href="SMT.Script.html#10109" class="Function">checkRawQ</a> <a id="9980" href="SMT.Script.Base.html#1699" class="InductiveConstructor">forAll</a> <a id="9987" href="SMT.Script.html#9895" class="Bound">Γ</a> <a id="9989" href="SMT.Script.html#9910" class="Bound">x</a>
    <a id="9995" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="10008" href="SMT.Script.html#10008" class="Bound">Γ</a> <a id="10010" href="SMT.Script.html#10010" class="Bound">σ</a> <a id="10012" class="Symbol">(</a><a id="10013" href="SMT.Theories.Raw.html#1890" class="InductiveConstructor">existsᵣ</a> <a id="10021" href="SMT.Theories.Raw.html#497" class="InductiveConstructor">⋆</a> <a id="10023" href="SMT.Script.html#10023" class="Bound">x</a><a id="10024" class="Symbol">)</a> <a id="10026" class="Symbol">=</a> <a id="10028" class="Keyword">do</a>
      <a id="10037" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10042" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10044" href="Data.Maybe.Base.html#1212" class="Function">Maybe.decToMaybe</a> <a id="10061" class="Symbol">(</a><a id="10062" href="SMT.Script.html#10010" class="Bound">σ</a> <a id="10064" href="SMT.Theory.html#1036" class="Function Operator">≟-Sort</a> <a id="10071" href="SMT.Theory.html#1084" class="Function">BOOL</a><a id="10075" class="Symbol">)</a>
      <a id="10083" href="SMT.Script.html#10109" class="Function">checkRawQ</a> <a id="10093" href="SMT.Script.Base.html#1763" class="InductiveConstructor">exists</a> <a id="10100" href="SMT.Script.html#10008" class="Bound">Γ</a> <a id="10102" href="SMT.Script.html#10023" class="Bound">x</a>

    <a id="10109" href="SMT.Script.html#10109" class="Function">checkRawQ</a> <a id="10119" class="Symbol">:</a> <a id="10121" class="Symbol">(</a><a id="10122" href="SMT.Script.html#10122" class="Bound">q</a> <a id="10124" class="Symbol">:</a> <a id="10126" class="Symbol">∀</a> <a id="10128" class="Symbol">{</a><a id="10129" href="SMT.Script.html#10129" class="Bound">Γ</a><a id="10130" class="Symbol">}</a> <a id="10132" href="SMT.Script.html#10132" class="Bound">σ</a> <a id="10134" class="Symbol">→</a> <a id="10136" href="SMT.Script.Base.html#1472" class="Datatype">Term</a> <a id="10141" class="Symbol">(</a><a id="10142" href="SMT.Script.html#10132" class="Bound">σ</a> <a id="10144" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10146" href="SMT.Script.html#10129" class="Bound">Γ</a><a id="10147" class="Symbol">)</a> <a id="10149" href="SMT.Theory.html#1084" class="Function">BOOL</a> <a id="10154" class="Symbol">→</a> <a id="10156" href="SMT.Script.Base.html#1472" class="Datatype">Term</a> <a id="10161" href="SMT.Script.html#10129" class="Bound">Γ</a> <a id="10163" href="SMT.Theory.html#1084" class="Function">BOOL</a><a id="10167" class="Symbol">)</a> <a id="10169" class="Symbol">(</a><a id="10170" href="SMT.Script.html#10170" class="Bound">Γ</a> <a id="10172" class="Symbol">:</a> <a id="10174" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="10178" class="Symbol">)</a> <a id="10180" class="Symbol">→</a> <a id="10182" href="SMT.Theories.Raw.html#1709" class="Datatype">RawTerm</a> <a id="10190" href="SMT.Script.html#9126" class="Generalizable">Γᵣ</a> <a id="10193" href="SMT.Theories.Raw.html#497" class="InductiveConstructor">⋆</a> <a id="10195" class="Symbol">→</a> <a id="10197" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10203" class="Symbol">(</a><a id="10204" href="SMT.Script.Base.html#1472" class="Datatype">Term</a> <a id="10209" href="SMT.Script.html#10170" class="Bound">Γ</a> <a id="10211" href="SMT.Theory.html#1084" class="Function">BOOL</a><a id="10215" class="Symbol">)</a>
    <a id="10221" href="SMT.Script.html#10109" class="Function">checkRawQ</a> <a id="10231" href="SMT.Script.html#10231" class="Bound">q</a> <a id="10233" href="SMT.Script.html#10233" class="Bound">Γ</a> <a id="10235" href="SMT.Script.html#10235" class="Bound">x</a>
      <a id="10243" class="Symbol">=</a> <a id="10245" href="Data.List.Base.html#3905" class="Function">List.foldr</a> <a id="10256" href="Data.Maybe.Base.html#2335" class="Function Operator">Maybe._&lt;∣&gt;_</a> <a id="10268" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
      <a id="10282" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="10284" href="Data.List.Base.html#1497" class="Function">List.map</a> <a id="10293" class="Symbol">(λ</a> <a id="10296" href="SMT.Script.html#10296" class="Bound">σ′</a> <a id="10299" class="Symbol">→</a> <a id="10301" class="Symbol">⦇</a> <a id="10303" class="Symbol">(</a><a id="10304" href="SMT.Script.html#10231" class="Bound">q</a> <a id="10306" href="SMT.Script.html#10296" class="Bound">σ′</a><a id="10308" class="Symbol">)</a> <a id="10310" class="Symbol">(</a><a id="10311" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="10324" class="Symbol">(</a><a id="10325" href="SMT.Script.html#10296" class="Bound">σ′</a> <a id="10328" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10330" href="SMT.Script.html#10233" class="Bound">Γ</a><a id="10331" class="Symbol">)</a> <a id="10333" href="SMT.Theory.html#1084" class="Function">BOOL</a> <a id="10338" href="SMT.Script.html#10235" class="Bound">x</a><a id="10339" class="Symbol">)</a> <a id="10341" class="Symbol">⦈</a> <a id="10343" class="Symbol">)</a> <a id="10345" href="SMT.Theory.html#1833" class="Function">sorts</a>

    <a id="10356" href="SMT.Script.html#10356" class="Function">checkRawArgs</a> <a id="10369" class="Symbol">:</a> <a id="10371" class="Symbol">(</a><a id="10372" href="SMT.Script.html#10372" class="Bound">Γ</a> <a id="10374" href="SMT.Script.html#10374" class="Bound">Δ</a> <a id="10376" class="Symbol">:</a> <a id="10378" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="10382" class="Symbol">)</a> <a id="10384" class="Symbol">→</a> <a id="10386" href="SMT.Theories.Raw.html#1928" class="Function">RawArgs</a> <a id="10394" href="SMT.Script.html#9126" class="Generalizable">Γᵣ</a> <a id="10397" href="SMT.Script.html#9186" class="Generalizable">Δᵣ</a> <a id="10400" class="Symbol">→</a> <a id="10402" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10408" class="Symbol">(</a><a id="10409" href="SMT.Script.Base.html#1826" class="Function">Args</a> <a id="10414" href="SMT.Script.html#10372" class="Bound">Γ</a> <a id="10416" href="SMT.Script.html#10374" class="Bound">Δ</a><a id="10417" class="Symbol">)</a>
    <a id="10423" href="SMT.Script.html#10356" class="Function">checkRawArgs</a> <a id="10436" href="SMT.Script.html#10436" class="Bound">Γ</a> <a id="10438" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>      <a id="10446" href="Data.Environment.html#410" class="InductiveConstructor">[]</a>           <a id="10459" class="Symbol">=</a> <a id="10461" class="Symbol">⦇</a> <a id="10463" href="Data.Environment.html#410" class="InductiveConstructor">[]</a> <a id="10466" class="Symbol">⦈</a>
    <a id="10472" href="SMT.Script.html#10356" class="Function">checkRawArgs</a> <a id="10485" href="SMT.Script.html#10485" class="Bound">Γ</a> <a id="10487" class="Symbol">(</a><a id="10488" href="SMT.Script.html#10488" class="Bound">σ</a> <a id="10490" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10492" href="SMT.Script.html#10492" class="Bound">Δ</a><a id="10493" class="Symbol">)</a> <a id="10495" class="Symbol">(</a><a id="10496" href="SMT.Script.html#10496" class="Bound">arg</a> <a id="10500" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="10502" href="SMT.Script.html#10502" class="Bound">args</a><a id="10506" class="Symbol">)</a> <a id="10508" class="Symbol">=</a> <a id="10510" class="Symbol">⦇</a> <a id="10512" class="Symbol">(</a><a id="10513" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="10526" href="SMT.Script.html#10485" class="Bound">Γ</a> <a id="10528" href="SMT.Script.html#10488" class="Bound">σ</a> <a id="10530" href="SMT.Script.html#10496" class="Bound">arg</a><a id="10533" class="Symbol">)</a> <a id="10535" href="Data.Environment.html#427" class="InductiveConstructor Operator">∷</a> <a id="10537" class="Symbol">(</a><a id="10538" href="SMT.Script.html#10356" class="Function">checkRawArgs</a> <a id="10551" href="SMT.Script.html#10485" class="Bound">Γ</a> <a id="10553" href="SMT.Script.html#10492" class="Bound">Δ</a> <a id="10555" href="SMT.Script.html#10502" class="Bound">args</a><a id="10559" class="Symbol">)</a> <a id="10561" class="Symbol">⦈</a>
    <a id="10567" href="SMT.Script.html#10356" class="CatchallClause Function">checkRawArgs</a><a id="10579" class="CatchallClause"> </a><a id="10580" class="CatchallClause Symbol">_</a><a id="10581" class="CatchallClause"> </a><a id="10582" class="CatchallClause Symbol">_</a><a id="10583" class="CatchallClause">       </a><a id="10590" class="CatchallClause Symbol">_</a>            <a id="10603" class="Symbol">=</a> <a id="10605" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

  <a id="10616" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="10631" class="Symbol">:</a> <a id="10633" class="Symbol">(</a><a id="10634" href="SMT.Script.html#10634" class="Bound">Γ</a> <a id="10636" class="Symbol">:</a> <a id="10638" href="SMT.Script.Base.html#1026" class="Function">Ctxt</a><a id="10642" class="Symbol">)</a> <a id="10644" class="Symbol">→</a> <a id="10646" href="SMT.Theories.Raw.html#2213" class="Datatype">RawScript</a> <a id="10656" href="SMT.Script.html#9126" class="Generalizable">Γᵣ</a> <a id="10659" href="SMT.Script.html#9129" class="Generalizable">Γᵣ′</a> <a id="10663" href="SMT.Script.html#9153" class="Generalizable">Ξᵣ</a> <a id="10666" class="Symbol">→</a> <a id="10668" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10674" class="Symbol">(</a><a id="10675" href="Data.Product.html#1788" class="Function">∃[</a> <a id="10678" href="SMT.Script.html#10678" class="Bound">Γ′</a> <a id="10681" href="Data.Product.html#1788" class="Function">]</a> <a id="10683" href="Data.Product.html#1788" class="Function">∃[</a> <a id="10686" href="SMT.Script.html#10686" class="Bound">Ξ</a> <a id="10688" href="Data.Product.html#1788" class="Function">]</a> <a id="10690" href="SMT.Script.Base.html#8021" class="Datatype">Script</a> <a id="10697" href="SMT.Script.html#10634" class="Bound">Γ</a> <a id="10699" href="SMT.Script.html#10678" class="Bound">Γ′</a> <a id="10702" href="SMT.Script.html#10686" class="Bound">Ξ</a><a id="10703" class="Symbol">)</a>
  <a id="10707" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="10722" href="SMT.Script.html#10722" class="Bound">Γ</a> <a id="10724" href="SMT.Theories.Raw.html#2253" class="InductiveConstructor">[]ᵣ</a> <a id="10728" class="Symbol">=</a> <a id="10730" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="10735" class="Symbol">(</a><a id="10736" href="Data.Product.html#2211" class="Function Operator">-,</a> <a id="10739" href="Data.Product.html#2211" class="Function Operator">-,</a> <a id="10742" href="SMT.Script.Base.html#8084" class="InductiveConstructor">[]</a><a id="10744" class="Symbol">)</a>
  <a id="10748" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="10763" href="SMT.Script.html#10763" class="Bound">Γ</a> <a id="10765" class="Symbol">(</a><a id="10766" href="SMT.Theories.Raw.html#2007" class="InductiveConstructor">set-logicᵣ</a> <a id="10777" href="SMT.Script.html#10777" class="Bound">l</a> <a id="10779" href="SMT.Theories.Raw.html#2287" class="InductiveConstructor Operator">∷ᵣ</a> <a id="10782" href="SMT.Script.html#10782" class="Bound">scr</a><a id="10785" class="Symbol">)</a> <a id="10787" class="Symbol">=</a> <a id="10789" class="Keyword">do</a>
    <a id="10796" class="Symbol">(</a><a id="10797" href="SMT.Script.html#10797" class="Bound">Γ′</a> <a id="10800" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10802" href="SMT.Script.html#10802" class="Bound">Ξ</a> <a id="10804" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10806" href="SMT.Script.html#10806" class="Bound">scr</a><a id="10809" class="Symbol">)</a> <a id="10811" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10813" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="10828" href="SMT.Script.html#10763" class="Bound">Γ</a> <a id="10830" href="SMT.Script.html#10782" class="Bound">scr</a>
    <a id="10838" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10845" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="10847" href="SMT.Script.html#10797" class="Bound">Γ′</a> <a id="10850" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10852" href="SMT.Script.html#10802" class="Bound">Ξ</a> <a id="10854" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10856" class="Symbol">(</a><a id="10857" href="SMT.Script.Base.html#7691" class="InductiveConstructor">set-logic</a> <a id="10867" href="SMT.Script.html#10777" class="Bound">l</a> <a id="10869" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="10871" href="SMT.Script.html#10806" class="Bound">scr</a><a id="10874" class="Symbol">)</a>
  <a id="10878" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="10893" href="SMT.Script.html#10893" class="Bound">Γ</a> <a id="10895" class="Symbol">(</a><a id="10896" href="SMT.Theories.Raw.html#2048" class="InductiveConstructor">declare-constᵣ</a> <a id="10911" href="SMT.Theories.Raw.html#497" class="InductiveConstructor">⋆</a> <a id="10913" href="SMT.Theories.Raw.html#2287" class="InductiveConstructor Operator">∷ᵣ</a> <a id="10916" href="SMT.Script.html#10916" class="Bound">scr</a><a id="10919" class="Symbol">)</a>
    <a id="10925" class="Symbol">=</a> <a id="10927" href="Data.List.Base.html#3905" class="Function">List.foldr</a> <a id="10938" href="Data.Maybe.Base.html#2335" class="Function Operator">Maybe._&lt;∣&gt;_</a> <a id="10950" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="10962" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="10964" href="Function.Base.html#1554" class="Function">flip</a> <a id="10969" href="Data.List.Base.html#1497" class="Function">List.map</a> <a id="10978" href="SMT.Theory.html#1833" class="Function">sorts</a> <a id="10984" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="10986" class="Symbol">λ</a> <a id="10988" href="SMT.Script.html#10988" class="Bound">σ</a> <a id="10990" class="Symbol">→</a> <a id="10992" class="Keyword">do</a>
      <a id="11001" class="Symbol">(</a><a id="11002" href="SMT.Script.html#11002" class="Bound">Γ′</a> <a id="11005" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11007" href="SMT.Script.html#11007" class="Bound">Ξ</a> <a id="11009" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11011" href="SMT.Script.html#11011" class="Bound">scr</a><a id="11014" class="Symbol">)</a> <a id="11016" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11018" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11033" class="Symbol">(</a><a id="11034" href="SMT.Script.html#10988" class="Bound">σ</a> <a id="11036" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11038" href="SMT.Script.html#10893" class="Bound">Γ</a><a id="11039" class="Symbol">)</a> <a id="11041" href="SMT.Script.html#10916" class="Bound">scr</a>
      <a id="11051" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11058" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="11060" href="SMT.Script.html#11002" class="Bound">Γ′</a> <a id="11063" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11065" href="SMT.Script.html#11007" class="Bound">Ξ</a> <a id="11067" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11069" class="Symbol">(</a><a id="11070" href="SMT.Script.Base.html#7739" class="InductiveConstructor">declare-const</a> <a id="11084" href="SMT.Script.html#10988" class="Bound">σ</a> <a id="11086" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="11088" href="SMT.Script.html#11011" class="Bound">scr</a><a id="11091" class="Symbol">)</a>
  <a id="11095" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11110" href="SMT.Script.html#11110" class="Bound">Γ</a> <a id="11112" class="Symbol">(</a><a id="11113" href="SMT.Theories.Raw.html#2093" class="InductiveConstructor">assertᵣ</a> <a id="11121" href="SMT.Script.html#11121" class="Bound">x</a> <a id="11123" href="SMT.Theories.Raw.html#2287" class="InductiveConstructor Operator">∷ᵣ</a> <a id="11126" href="SMT.Script.html#11126" class="Bound">scr</a><a id="11129" class="Symbol">)</a> <a id="11131" class="Symbol">=</a> <a id="11133" class="Keyword">do</a>
    <a id="11140" href="SMT.Script.html#11140" class="Bound">x</a> <a id="11142" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11144" class="Symbol">(</a><a id="11145" href="SMT.Script.html#9474" class="Function">checkRawTerm</a> <a id="11158" href="SMT.Script.html#11110" class="Bound">Γ</a> <a id="11160" href="SMT.Theory.html#1084" class="Function">BOOL</a> <a id="11165" href="SMT.Script.html#11121" class="Bound">x</a><a id="11166" class="Symbol">)</a>
    <a id="11172" class="Symbol">(</a><a id="11173" href="SMT.Script.html#11173" class="Bound">Γ′</a> <a id="11176" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11178" href="SMT.Script.html#11178" class="Bound">Ξ</a> <a id="11180" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11182" href="SMT.Script.html#11182" class="Bound">scr</a><a id="11185" class="Symbol">)</a> <a id="11187" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11189" class="Symbol">(</a><a id="11190" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11205" href="SMT.Script.html#11110" class="Bound">Γ</a> <a id="11207" href="SMT.Script.html#11126" class="Bound">scr</a><a id="11210" class="Symbol">)</a>
    <a id="11216" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11223" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="11225" href="SMT.Script.html#11173" class="Bound">Γ′</a> <a id="11228" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11230" href="SMT.Script.html#11178" class="Bound">Ξ</a> <a id="11232" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11234" class="Symbol">(</a><a id="11235" href="SMT.Script.Base.html#7792" class="InductiveConstructor">assert</a> <a id="11242" href="SMT.Script.html#11140" class="Bound">x</a> <a id="11244" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="11246" href="SMT.Script.html#11182" class="Bound">scr</a><a id="11249" class="Symbol">)</a>
  <a id="11253" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11268" href="SMT.Script.html#11268" class="Bound">Γ</a> <a id="11270" class="Symbol">(</a><a id="11271" href="SMT.Theories.Raw.html#2131" class="InductiveConstructor">check-satᵣ</a> <a id="11282" href="SMT.Theories.Raw.html#2287" class="InductiveConstructor Operator">∷ᵣ</a> <a id="11285" href="SMT.Script.html#11285" class="Bound">scr</a><a id="11288" class="Symbol">)</a> <a id="11290" class="Symbol">=</a> <a id="11292" class="Keyword">do</a>
    <a id="11299" class="Symbol">(</a><a id="11300" href="SMT.Script.html#11300" class="Bound">Γ′</a> <a id="11303" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11305" href="SMT.Script.html#11305" class="Bound">Ξ</a> <a id="11307" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11309" href="SMT.Script.html#11309" class="Bound">scr</a><a id="11312" class="Symbol">)</a> <a id="11314" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11316" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11331" href="SMT.Script.html#11268" class="Bound">Γ</a> <a id="11333" href="SMT.Script.html#11285" class="Bound">scr</a>
    <a id="11341" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11348" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="11350" href="SMT.Script.html#11300" class="Bound">Γ′</a> <a id="11353" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11355" href="SMT.Script.Base.html#4648" class="InductiveConstructor">SAT</a> <a id="11359" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11361" href="SMT.Script.html#11305" class="Bound">Ξ</a> <a id="11363" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11365" class="Symbol">(</a><a id="11366" href="SMT.Script.Base.html#7840" class="InductiveConstructor">check-sat</a> <a id="11376" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="11378" href="SMT.Script.html#11309" class="Bound">scr</a><a id="11381" class="Symbol">)</a>
  <a id="11385" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11400" href="SMT.Script.html#11400" class="Bound">Γ</a> <a id="11402" class="Symbol">(</a><a id="11403" href="SMT.Theories.Raw.html#2172" class="InductiveConstructor">get-modelᵣ</a> <a id="11414" href="SMT.Theories.Raw.html#2287" class="InductiveConstructor Operator">∷ᵣ</a> <a id="11417" href="SMT.Script.html#11417" class="Bound">scr</a><a id="11420" class="Symbol">)</a> <a id="11422" class="Symbol">=</a> <a id="11424" class="Keyword">do</a>
    <a id="11431" class="Symbol">(</a><a id="11432" href="SMT.Script.html#11432" class="Bound">Γ′</a> <a id="11435" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11437" href="SMT.Script.html#11437" class="Bound">Ξ</a> <a id="11439" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11441" href="SMT.Script.html#11441" class="Bound">scr</a><a id="11444" class="Symbol">)</a> <a id="11446" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11448" href="SMT.Script.html#10616" class="Function">checkRawScript</a> <a id="11463" href="SMT.Script.html#11400" class="Bound">Γ</a> <a id="11465" href="SMT.Script.html#11417" class="Bound">scr</a>
    <a id="11473" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11480" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="11482" href="SMT.Script.html#11432" class="Bound">Γ′</a> <a id="11485" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11487" href="SMT.Script.Base.html#4669" class="InductiveConstructor">MODEL</a> <a id="11493" href="SMT.Script.html#11400" class="Bound">Γ</a> <a id="11495" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11497" href="SMT.Script.html#11437" class="Bound">Ξ</a> <a id="11499" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11501" class="Symbol">(</a><a id="11502" href="SMT.Script.Base.html#7882" class="InductiveConstructor">get-model</a> <a id="11512" href="SMT.Script.Base.html#8106" class="InductiveConstructor Operator">∷</a> <a id="11514" href="SMT.Script.html#11441" class="Bound">scr</a><a id="11517" class="Symbol">)</a>
</pre></body></html>