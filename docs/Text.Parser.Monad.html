<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Parser.Monad</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Text.Parser.Monad.html" class="Module">Text.Parser.Monad</a> <a id="26" class="Keyword">where</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="Level.html" class="Module">Level</a> <a id="51" class="Keyword">using</a> <a id="57" class="Symbol">(</a><a id="58" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="63" class="Symbol">)</a>
<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Level.Bounded.html" class="Module">Level.Bounded</a> <a id="91" class="Symbol">as</a> <a id="94" class="Module">Level≤</a> <a id="101" class="Keyword">hiding</a> <a id="108" class="Symbol">(</a><a id="109" href="Level.Bounded.html#3719" class="Function">map</a><a id="112" class="Symbol">)</a>

<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="142" class="Keyword">using</a> <a id="148" class="Symbol">(</a><a id="149" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="153" class="Symbol">)</a>
<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="182" class="Symbol">as</a> <a id="185" class="Module">List</a> <a id="190" class="Keyword">using</a> <a id="196" class="Symbol">(</a><a id="197" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="199" class="Symbol">;</a> <a id="201" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="204" class="Symbol">;</a> <a id="206" href="Data.List.Base.html#7051" class="Function">drop</a><a id="210" class="Symbol">)</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="240" class="Symbol">as</a> <a id="243" class="Module">Maybe</a> <a id="249" class="Keyword">using</a> <a id="255" class="Symbol">(</a><a id="256" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="263" class="Symbol">;</a> <a id="265" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="269" class="Symbol">;</a> <a id="271" href="Data.Maybe.Base.html#1554" class="Function">maybe′</a><a id="277" class="Symbol">)</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Data.Product.html" class="Module">Data.Product</a> <a id="304" class="Keyword">using</a> <a id="310" class="Symbol">(</a><a id="311" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="314" class="Symbol">;</a> <a id="316" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="321" class="Symbol">;</a> <a id="323" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="328" class="Symbol">;</a> <a id="330" href="Data.Product.html#2625" class="Function">map₁</a><a id="334" class="Symbol">;</a> <a id="336" href="Data.Product.html#2675" class="Function">map₂</a><a id="340" class="Symbol">)</a>

<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Data.Subset.html" class="Module">Data.Subset</a> <a id="367" class="Keyword">using</a> <a id="373" class="Symbol">(</a><a id="374" href="Data.Subset.html#108" class="Record">Subset</a><a id="380" class="Symbol">;</a> <a id="382" href="Data.Subset.html#173" class="Field">into</a><a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Function.Base.html" class="Module">Function.Base</a> <a id="414" class="Keyword">using</a> <a id="420" class="Symbol">(</a><a id="421" href="Function.Base.html#3706" class="Function Operator">_∘′_</a><a id="425" class="Symbol">;</a> <a id="427" href="Function.Base.html#3839" class="Function Operator">_$′_</a><a id="431" class="Symbol">)</a>

<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="Category.Functor.html" class="Module">Category.Functor</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Category.Applicative.html" class="Module">Category.Applicative</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Category.Monad.html" class="Module">Category.Monad</a>

<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="566" class="Symbol">as</a> <a id="569" class="Module">Id</a> <a id="572" class="Keyword">using</a> <a id="578" class="Symbol">(</a><a id="579" href="Function.Identity.Categorical.html#451" class="Function">Identity</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Category.Monad.State.html" class="Module">Category.Monad.State</a>

<a id="623" class="Keyword">open</a> <a id="628" class="Keyword">import</a> <a id="635" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="673" class="Keyword">using</a> <a id="679" class="Symbol">(</a><a id="680" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="683" class="Symbol">;</a> <a id="685" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="689" class="Symbol">;</a> <a id="691" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="696" class="Symbol">)</a>

<a id="699" class="Keyword">open</a> <a id="704" class="Keyword">import</a> <a id="711" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Text.Parser.Types.html" class="Module">Text.Parser.Types</a>
<a id="756" class="Keyword">open</a> <a id="761" class="Keyword">import</a> <a id="768" href="Text.Parser.Position.html" class="Module">Text.Parser.Position</a>

<a id="790" class="Keyword">private</a>
  <a id="800" class="Keyword">variable</a>
    <a id="813" href="Text.Parser.Monad.html#813" class="Generalizable">e</a> <a id="815" href="Text.Parser.Monad.html#815" class="Generalizable">a</a> <a id="817" href="Text.Parser.Monad.html#817" class="Generalizable">b</a> <a id="819" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="821" class="Symbol">:</a> <a id="823" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="833" href="Text.Parser.Monad.html#833" class="Generalizable">E</a> <a id="835" class="Symbol">:</a> <a id="837" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="841" href="Text.Parser.Monad.html#813" class="Generalizable">e</a>
    <a id="847" href="Text.Parser.Monad.html#847" class="Generalizable">A</a> <a id="849" class="Symbol">:</a> <a id="851" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="855" href="Text.Parser.Monad.html#815" class="Generalizable">a</a>
    <a id="861" href="Text.Parser.Monad.html#861" class="Generalizable">B</a> <a id="863" class="Symbol">:</a> <a id="865" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="869" href="Text.Parser.Monad.html#817" class="Generalizable">b</a>

<a id="872" class="Comment">--------------------------------------------------------------------------------</a>
<a id="953" class="Comment">-- RESULTT</a>

<a id="965" class="Keyword">data</a> <a id="Result"></a><a id="970" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="977" class="Symbol">(</a><a id="978" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="980" class="Symbol">:</a> <a id="982" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="986" href="Text.Parser.Monad.html#813" class="Generalizable">e</a><a id="987" class="Symbol">)</a> <a id="989" class="Symbol">(</a><a id="990" href="Text.Parser.Monad.html#990" class="Bound">A</a> <a id="992" class="Symbol">:</a> <a id="994" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="998" href="Text.Parser.Monad.html#815" class="Generalizable">a</a><a id="999" class="Symbol">)</a> <a id="1001" class="Symbol">:</a> <a id="1003" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Text.Parser.Monad.html#998" class="Bound">a</a> <a id="1010" href="Agda.Primitive.html#810" class="Primitive Operator">Level.⊔</a> <a id="1018" href="Text.Parser.Monad.html#986" class="Bound">e</a><a id="1019" class="Symbol">)</a> <a id="1021" class="Keyword">where</a>
  <a id="Result.SoftFail"></a><a id="1029" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a> <a id="1038" class="Symbol">:</a> <a id="1040" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="1042" class="Symbol">→</a> <a id="1044" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1051" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="1053" href="Text.Parser.Monad.html#990" class="Bound">A</a>
  <a id="Result.HardFail"></a><a id="1057" href="Text.Parser.Monad.html#1057" class="InductiveConstructor">HardFail</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="1070" class="Symbol">→</a> <a id="1072" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1079" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="1081" href="Text.Parser.Monad.html#990" class="Bound">A</a>
  <a id="Result.Value"></a><a id="1085" href="Text.Parser.Monad.html#1085" class="InductiveConstructor">Value</a>    <a id="1094" class="Symbol">:</a> <a id="1096" href="Text.Parser.Monad.html#990" class="Bound">A</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1107" href="Text.Parser.Monad.html#978" class="Bound">E</a> <a id="1109" href="Text.Parser.Monad.html#990" class="Bound">A</a>

<a id="result"></a><a id="1112" href="Text.Parser.Monad.html#1112" class="Function">result</a> <a id="1119" class="Symbol">:</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Text.Parser.Monad.html#1122" class="Bound">soft</a> <a id="1127" href="Text.Parser.Monad.html#1127" class="Bound">hard</a> <a id="1132" class="Symbol">:</a> <a id="1134" href="Text.Parser.Monad.html#833" class="Generalizable">E</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Text.Parser.Monad.html#861" class="Generalizable">B</a><a id="1139" class="Symbol">)</a> <a id="1141" class="Symbol">(</a><a id="1142" href="Text.Parser.Monad.html#1142" class="Bound">val</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Text.Parser.Monad.html#847" class="Generalizable">A</a> <a id="1150" class="Symbol">→</a> <a id="1152" href="Text.Parser.Monad.html#861" class="Generalizable">B</a><a id="1153" class="Symbol">)</a> <a id="1155" class="Symbol">→</a> <a id="1157" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1164" href="Text.Parser.Monad.html#833" class="Generalizable">E</a> <a id="1166" href="Text.Parser.Monad.html#847" class="Generalizable">A</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="Text.Parser.Monad.html#861" class="Generalizable">B</a>
<a id="1172" href="Text.Parser.Monad.html#1112" class="Function">result</a> <a id="1179" href="Text.Parser.Monad.html#1179" class="Bound">soft</a> <a id="1184" href="Text.Parser.Monad.html#1184" class="Bound">hard</a> <a id="1189" href="Text.Parser.Monad.html#1189" class="Bound">val</a> <a id="1193" class="Symbol">=</a> <a id="1195" class="Symbol">λ</a> <a id="1197" class="Keyword">where</a>
  <a id="1205" class="Symbol">(</a><a id="1206" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a> <a id="1215" href="Text.Parser.Monad.html#1215" class="Bound">e</a><a id="1216" class="Symbol">)</a> <a id="1218" class="Symbol">→</a> <a id="1220" href="Text.Parser.Monad.html#1179" class="Bound">soft</a> <a id="1225" href="Text.Parser.Monad.html#1215" class="Bound">e</a>
  <a id="1229" class="Symbol">(</a><a id="1230" href="Text.Parser.Monad.html#1057" class="InductiveConstructor">HardFail</a> <a id="1239" href="Text.Parser.Monad.html#1239" class="Bound">e</a><a id="1240" class="Symbol">)</a> <a id="1242" class="Symbol">→</a> <a id="1244" href="Text.Parser.Monad.html#1184" class="Bound">hard</a> <a id="1249" href="Text.Parser.Monad.html#1239" class="Bound">e</a>
  <a id="1253" class="Symbol">(</a><a id="1254" href="Text.Parser.Monad.html#1085" class="InductiveConstructor">Value</a> <a id="1260" href="Text.Parser.Monad.html#1260" class="Bound">v</a><a id="1261" class="Symbol">)</a>    <a id="1266" class="Symbol">→</a> <a id="1268" href="Text.Parser.Monad.html#1189" class="Bound">val</a> <a id="1272" href="Text.Parser.Monad.html#1260" class="Bound">v</a>

<a id="fromMaybe"></a><a id="1275" href="Text.Parser.Monad.html#1275" class="Function">fromMaybe</a> <a id="1285" class="Symbol">:</a> <a id="1287" href="Text.Parser.Monad.html#833" class="Generalizable">E</a> <a id="1289" class="Symbol">→</a> <a id="1291" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe.Maybe</a> <a id="1303" href="Text.Parser.Monad.html#847" class="Generalizable">A</a> <a id="1305" class="Symbol">→</a> <a id="1307" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1314" href="Text.Parser.Monad.html#833" class="Generalizable">E</a> <a id="1316" href="Text.Parser.Monad.html#847" class="Generalizable">A</a>
<a id="1318" href="Text.Parser.Monad.html#1275" class="Function">fromMaybe</a> <a id="1328" class="Symbol">=</a> <a id="1330" href="Data.Maybe.Base.html#1554" class="Function">maybe′</a> <a id="1337" href="Text.Parser.Monad.html#1085" class="InductiveConstructor">Value</a> <a id="1343" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="1346" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a>

<a id="ResultT"></a><a id="1356" href="Text.Parser.Monad.html#1356" class="Function">ResultT</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="1371" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="1373" class="Symbol">→</a>           <a id="1385" class="Comment">-- Error</a>
          <a id="1404" class="Symbol">(</a><a id="1405" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1409" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1417" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="1418" class="Symbol">)</a> <a id="1420" class="Symbol">→</a> <a id="1422" class="Comment">-- Monad</a>
          <a id="1441" class="Symbol">(</a><a id="1442" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1446" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1454" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="1455" class="Symbol">)</a>
<a id="1457" href="Text.Parser.Monad.html#1356" class="Function">ResultT</a> <a id="1465" href="Text.Parser.Monad.html#1465" class="Bound">E</a> <a id="1467" href="Text.Parser.Monad.html#1467" class="Bound">M</a> <a id="1469" href="Text.Parser.Monad.html#1469" class="Bound">A</a> <a id="1471" class="Symbol">=</a> <a id="1473" href="Text.Parser.Monad.html#1467" class="Bound">M</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="1489" href="Text.Parser.Monad.html#1465" class="Bound">E</a><a id="1490" class="Symbol">)</a> <a id="1492" href="Text.Parser.Monad.html#1469" class="Bound">A</a><a id="1493" class="Symbol">)</a>

<a id="Result-monadT"></a><a id="1496" href="Text.Parser.Monad.html#1496" class="Function">Result-monadT</a> <a id="1510" class="Symbol">:</a> <a id="1512" class="Symbol">∀</a> <a id="1514" class="Symbol">(</a><a id="1515" href="Text.Parser.Monad.html#1515" class="Bound">E</a> <a id="1517" class="Symbol">:</a> <a id="1519" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="1524" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="1525" class="Symbol">)</a> <a id="1527" class="Symbol">{</a><a id="1528" href="Text.Parser.Monad.html#1528" class="Bound">M</a><a id="1529" class="Symbol">}</a> <a id="1531" class="Symbol">→</a> <a id="1533" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1542" href="Text.Parser.Monad.html#1528" class="Bound">M</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1555" class="Symbol">(</a><a id="1556" href="Text.Parser.Monad.html#1356" class="Function">ResultT</a> <a id="1564" href="Text.Parser.Monad.html#1515" class="Bound">E</a> <a id="1566" href="Text.Parser.Monad.html#1528" class="Bound">M</a><a id="1567" class="Symbol">)</a>
<a id="1569" href="Text.Parser.Monad.html#1496" class="Function">Result-monadT</a> <a id="1583" href="Text.Parser.Monad.html#1583" class="Bound">E</a> <a id="1585" href="Text.Parser.Monad.html#1585" class="Bound">M</a> <a id="1587" class="Symbol">=</a> <a id="1589" class="Keyword">record</a>
  <a id="1598" class="Symbol">{</a> <a id="1600" href="Category.Monad.Indexed.html#644" class="Field">return</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="1616" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="1619" href="Text.Parser.Monad.html#1085" class="InductiveConstructor">Value</a>
  <a id="1627" class="Symbol">;</a> <a id="1629" href="Category.Monad.Indexed.html#677" class="Field Operator">_&gt;&gt;=_</a>  <a id="1636" class="Symbol">=</a> <a id="1638" class="Symbol">λ</a> <a id="1640" href="Text.Parser.Monad.html#1640" class="Bound">m</a> <a id="1642" href="Text.Parser.Monad.html#1642" class="Bound">f</a> <a id="1644" class="Symbol">→</a> <a id="1646" href="Text.Parser.Monad.html#1640" class="Bound">m</a> <a id="1648" href="Category.Monad.Indexed.html#677" class="Field Operator">M.&gt;&gt;=</a> <a id="1654" href="Text.Parser.Monad.html#1112" class="Function">result</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="1669" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="1672" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a><a id="1680" class="Symbol">)</a> <a id="1682" class="Symbol">(</a><a id="1683" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="1690" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="1693" href="Text.Parser.Monad.html#1057" class="InductiveConstructor">HardFail</a><a id="1701" class="Symbol">)</a> <a id="1703" href="Text.Parser.Monad.html#1642" class="Bound">f</a>
  <a id="1707" class="Symbol">}</a> <a id="1709" class="Keyword">where</a> <a id="1715" class="Keyword">module</a> <a id="M"></a><a id="1722" href="Text.Parser.Monad.html#1722" class="Module">M</a> <a id="1724" class="Symbol">=</a> <a id="1726" href="Category.Monad.html#832" class="Module">RawMonad</a> <a id="1735" href="Text.Parser.Monad.html#1585" class="Bound">M</a>

<a id="Result-monad"></a><a id="1738" href="Text.Parser.Monad.html#1738" class="Function">Result-monad</a> <a id="1751" class="Symbol">:</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Text.Parser.Monad.html#1754" class="Bound">E</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="1763" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="1764" class="Symbol">)</a> <a id="1766" class="Symbol">→</a> <a id="1768" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1777" class="Symbol">(</a><a id="1778" href="Text.Parser.Monad.html#970" class="Datatype">Result</a> <a id="1785" class="Symbol">(</a><a id="1786" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="1791" href="Text.Parser.Monad.html#1754" class="Bound">E</a><a id="1792" class="Symbol">))</a>
<a id="1795" href="Text.Parser.Monad.html#1738" class="Function">Result-monad</a> <a id="1808" href="Text.Parser.Monad.html#1808" class="Bound">E</a> <a id="1810" class="Symbol">=</a> <a id="1812" href="Text.Parser.Monad.html#1496" class="Function">Result-monadT</a> <a id="1826" href="Text.Parser.Monad.html#1808" class="Bound">E</a> <a id="1828" href="Function.Identity.Categorical.html#651" class="Function">Id.monad</a>

<a id="1838" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1919" class="Comment">-- AGDARSECT</a>

<a id="AgdarsecT"></a><a id="1933" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="1943" class="Symbol">:</a> <a id="1945" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="1950" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="1952" class="Symbol">→</a>           <a id="1964" class="Comment">-- Error</a>
            <a id="1985" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="1990" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="1992" class="Symbol">→</a>           <a id="2004" class="Comment">-- Annotation</a>
            <a id="2030" class="Symbol">(</a><a id="2031" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2035" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="2037" class="Symbol">→</a> <a id="2039" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2043" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2044" class="Symbol">)</a> <a id="2046" class="Symbol">→</a> <a id="2048" class="Comment">-- Monad</a>
            <a id="2069" class="Symbol">(</a><a id="2070" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2074" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="2076" class="Symbol">→</a> <a id="2078" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2082" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2083" class="Symbol">)</a>
<a id="2085" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2095" href="Text.Parser.Monad.html#2095" class="Bound">E</a> <a id="2097" href="Text.Parser.Monad.html#2097" class="Bound">Ann</a> <a id="2101" href="Text.Parser.Monad.html#2101" class="Bound">M</a> <a id="2103" class="Symbol">=</a> <a id="2105" href="Category.Monad.State.html#3637" class="Function">StateT</a> <a id="2112" class="Symbol">(</a><a id="2113" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="2118" class="Symbol">(</a><a id="2119" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="2121" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="2130" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="2132" href="Level.Bounded.html#1436" class="Function Operator">×</a> <a id="2134" href="Level.Bounded.html#2648" class="Function">List</a> <a id="2139" href="Text.Parser.Monad.html#2097" class="Bound">Ann</a><a id="2142" class="Symbol">))</a> <a id="2145" class="Symbol">(</a><a id="2146" href="Text.Parser.Monad.html#1356" class="Function">ResultT</a> <a id="2154" href="Text.Parser.Monad.html#2095" class="Bound">E</a> <a id="2156" href="Text.Parser.Monad.html#2101" class="Bound">M</a><a id="2157" class="Symbol">)</a>

<a id="Agdarsec"></a><a id="2160" href="Text.Parser.Monad.html#2160" class="Function">Agdarsec</a> <a id="2169" class="Symbol">:</a> <a id="2171" class="Symbol">(</a><a id="2172" href="Text.Parser.Monad.html#2172" class="Bound">E</a> <a id="2174" class="Symbol">:</a> <a id="2176" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="2181" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2182" class="Symbol">)</a> <a id="2184" class="Symbol">(</a><a id="2185" href="Text.Parser.Monad.html#2185" class="Bound">Ann</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="2196" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2197" class="Symbol">)</a> <a id="2199" class="Symbol">→</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2206" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="2208" class="Symbol">→</a> <a id="2210" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2214" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2215" class="Symbol">)</a>
<a id="2217" href="Text.Parser.Monad.html#2160" class="Function">Agdarsec</a> <a id="2226" href="Text.Parser.Monad.html#2226" class="Bound">E</a> <a id="2228" href="Text.Parser.Monad.html#2228" class="Bound">Ann</a> <a id="2232" class="Symbol">=</a> <a id="2234" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2244" href="Text.Parser.Monad.html#2226" class="Bound">E</a> <a id="2246" href="Text.Parser.Monad.html#2228" class="Bound">Ann</a> <a id="2250" href="Function.Identity.Categorical.html#451" class="Function">Identity</a>

<a id="2260" class="Keyword">module</a> <a id="AgdarsecT"></a><a id="2267" href="Text.Parser.Monad.html#2267" class="Module">AgdarsecT</a>
        <a id="2285" class="Symbol">(</a><a id="2286" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2288" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="2292" class="Symbol">:</a> <a id="2294" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="2299" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2300" class="Symbol">)</a> <a id="2302" class="Symbol">{</a><a id="2303" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="2305" class="Symbol">:</a> <a id="2307" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2311" href="Text.Parser.Monad.html#819" class="Generalizable">l</a> <a id="2313" class="Symbol">→</a> <a id="2315" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2319" href="Text.Parser.Monad.html#819" class="Generalizable">l</a><a id="2320" class="Symbol">}</a>
        <a id="2330" class="Symbol">(</a><a id="2331" href="Text.Parser.Monad.html#2331" class="Bound">𝕄</a> <a id="2333" class="Symbol">:</a> <a id="2335" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="2344" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="2345" class="Symbol">)</a>
        <a id="2355" class="Symbol">(</a><a id="2356" href="Text.Parser.Monad.html#2356" class="Bound">𝕊</a> <a id="2358" class="Symbol">:</a> <a id="2360" href="Data.Subset.html#108" class="Record">Subset</a> <a id="2367" class="Symbol">(</a><a id="2368" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="2375" class="Symbol">(</a><a id="2376" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="2378" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="2387" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="2389" href="Level.Bounded.html#1436" class="Function Operator">×</a> <a id="2391" href="Level.Bounded.html#2648" class="Function">List</a> <a id="2396" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a><a id="2399" class="Symbol">))</a> <a id="2402" class="Symbol">(</a><a id="2403" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="2410" href="Text.Parser.Monad.html#2286" class="Bound">E</a><a id="2411" class="Symbol">))</a>
        <a id="2422" class="Keyword">where</a>

  <a id="2431" class="Keyword">private</a> <a id="2439" class="Keyword">module</a> <a id="𝕄"></a><a id="2446" href="Text.Parser.Monad.html#2446" class="Module">𝕄</a> <a id="2448" class="Symbol">=</a> <a id="2450" href="Category.Monad.html#832" class="Module">RawMonad</a> <a id="2459" href="Text.Parser.Monad.html#2331" class="Bound">𝕄</a>

  <a id="AgdarsecT.monadT"></a><a id="2464" href="Text.Parser.Monad.html#2464" class="Function">monadT</a> <a id="2471" class="Symbol">:</a> <a id="2473" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2493" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2495" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="2499" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="2500" class="Symbol">)</a>
  <a id="2504" href="Text.Parser.Monad.html#2464" class="Function">monadT</a> <a id="2511" class="Symbol">=</a> <a id="2513" href="Category.Monad.State.html#3732" class="Function">StateTMonad</a> <a id="2525" class="Symbol">_</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Text.Parser.Monad.html#1496" class="Function">Result-monadT</a> <a id="2542" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2544" href="Text.Parser.Monad.html#2331" class="Bound">𝕄</a><a id="2545" class="Symbol">)</a>

  <a id="AgdarsecT.applicative"></a><a id="2550" href="Text.Parser.Monad.html#2550" class="Function">applicative</a> <a id="2562" class="Symbol">:</a> <a id="2564" href="Category.Applicative.html#494" class="Function">RawApplicative</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2590" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2592" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="2596" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="2597" class="Symbol">)</a>
  <a id="2601" href="Text.Parser.Monad.html#2550" class="Function">applicative</a> <a id="2613" class="Symbol">=</a> <a id="2615" href="Category.Monad.Indexed.html#1141" class="Function">RawMonad.rawIApplicative</a> <a id="2640" href="Text.Parser.Monad.html#2464" class="Function">monadT</a>

  <a id="AgdarsecT.applicativeZero"></a><a id="2650" href="Text.Parser.Monad.html#2650" class="Function">applicativeZero</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="Category.Applicative.html#725" class="Function">RawApplicativeZero</a> <a id="2687" class="Symbol">(</a><a id="2688" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2698" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2700" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="2704" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="2705" class="Symbol">)</a>
  <a id="2709" href="Text.Parser.Monad.html#2650" class="Function">applicativeZero</a> <a id="2725" class="Symbol">=</a> <a id="2727" class="Keyword">record</a>
    <a id="2738" class="Symbol">{</a> <a id="2740" href="Category.Applicative.Indexed.html#1918" class="Field">applicative</a> <a id="2752" class="Symbol">=</a> <a id="2754" href="Text.Parser.Monad.html#2550" class="Function">applicative</a>
    <a id="2770" class="Symbol">;</a> <a id="2772" href="Category.Applicative.Indexed.html#1954" class="Field">∅</a>           <a id="2784" class="Symbol">=</a> <a id="2786" href="Category.Applicative.Indexed.html#1003" class="Function">𝕄.pure</a> <a id="2793" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="2796" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a> <a id="2805" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="2808" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="2819" class="Symbol">(</a><a id="2820" href="Data.Subset.html#173" class="Field">into</a> <a id="2825" href="Text.Parser.Monad.html#2356" class="Bound">𝕊</a><a id="2826" class="Symbol">)</a>
    <a id="2832" class="Symbol">}</a>

  <a id="AgdarsecT.monadZero"></a><a id="2837" href="Text.Parser.Monad.html#2837" class="Function">monadZero</a> <a id="2847" class="Symbol">:</a> <a id="2849" href="Category.Monad.html#643" class="Function">RawMonadZero</a> <a id="2862" class="Symbol">(</a><a id="2863" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="2873" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="2875" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="2879" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="2880" class="Symbol">)</a>
  <a id="2884" href="Text.Parser.Monad.html#2837" class="Function">monadZero</a> <a id="2894" class="Symbol">=</a> <a id="2896" class="Keyword">record</a>
    <a id="2907" class="Symbol">{</a> <a id="2909" href="Category.Monad.Indexed.html#1547" class="Field">monad</a>           <a id="2925" class="Symbol">=</a> <a id="2927" href="Text.Parser.Monad.html#2464" class="Function">monadT</a>
    <a id="2938" class="Symbol">;</a> <a id="2940" href="Category.Monad.Indexed.html#1581" class="Field">applicativeZero</a> <a id="2956" class="Symbol">=</a> <a id="2958" href="Text.Parser.Monad.html#2650" class="Function">applicativeZero</a>
    <a id="2978" class="Symbol">}</a>

  <a id="AgdarsecT.alternative"></a><a id="2983" href="Text.Parser.Monad.html#2983" class="Function">alternative</a> <a id="2995" class="Symbol">:</a> <a id="2997" href="Category.Applicative.html#986" class="Function">RawAlternative</a> <a id="3012" class="Symbol">(</a><a id="3013" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3023" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3025" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3029" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="3030" class="Symbol">)</a>
  <a id="3034" href="Text.Parser.Monad.html#2983" class="Function">alternative</a> <a id="3046" class="Symbol">=</a> <a id="3048" class="Keyword">record</a>
    <a id="3059" class="Symbol">{</a> <a id="3061" href="Category.Applicative.Indexed.html#2266" class="Field">applicativeZero</a> <a id="3077" class="Symbol">=</a> <a id="3079" href="Text.Parser.Monad.html#2650" class="Function">applicativeZero</a>
    <a id="3099" class="Symbol">;</a> <a id="3101" href="Category.Applicative.Indexed.html#2310" class="Field Operator">_∣_</a>             <a id="3117" class="Symbol">=</a> <a id="3119" class="Symbol">λ</a> <a id="3121" href="Text.Parser.Monad.html#3121" class="Bound">ma₁</a> <a id="3125" href="Text.Parser.Monad.html#3125" class="Bound">ma₂</a> <a id="3129" href="Text.Parser.Monad.html#3129" class="Bound">s</a> <a id="3131" class="Symbol">→</a> <a id="3133" href="Text.Parser.Monad.html#3121" class="Bound">ma₁</a> <a id="3137" href="Text.Parser.Monad.html#3129" class="Bound">s</a> <a id="3139" href="Category.Monad.Indexed.html#677" class="Function Operator">𝕄.&gt;&gt;=</a> <a id="3145" class="Symbol">λ</a> <a id="3147" class="Keyword">where</a>
        <a id="3161" class="Symbol">(</a><a id="3162" href="Text.Parser.Monad.html#1029" class="InductiveConstructor">SoftFail</a> <a id="3171" class="Symbol">_)</a> <a id="3174" class="Symbol">→</a> <a id="3176" href="Text.Parser.Monad.html#3125" class="Bound">ma₂</a> <a id="3180" href="Text.Parser.Monad.html#3129" class="Bound">s</a>
        <a id="3190" href="Text.Parser.Monad.html#3190" class="CatchallClause Bound">r</a>            <a id="3203" class="Symbol">→</a> <a id="3205" href="Category.Applicative.Indexed.html#1003" class="Function">𝕄.pure</a> <a id="3212" href="Text.Parser.Monad.html#3190" class="Bound">r</a>
    <a id="3218" class="Symbol">}</a>

  <a id="AgdarsecT.monadPlus"></a><a id="3223" href="Text.Parser.Monad.html#3223" class="Function">monadPlus</a> <a id="3233" class="Symbol">:</a> <a id="3235" href="Category.Monad.html#734" class="Function">RawMonadPlus</a> <a id="3248" class="Symbol">(</a><a id="3249" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3259" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3261" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3265" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="3266" class="Symbol">)</a>
  <a id="3270" href="Text.Parser.Monad.html#3223" class="Function">monadPlus</a> <a id="3280" class="Symbol">=</a> <a id="3282" class="Keyword">record</a>
    <a id="3293" class="Symbol">{</a> <a id="3295" href="Category.Monad.Indexed.html#1797" class="Field">monad</a>       <a id="3307" class="Symbol">=</a> <a id="3309" href="Text.Parser.Monad.html#2464" class="Function">monadT</a>
    <a id="3320" class="Symbol">;</a> <a id="3322" href="Category.Monad.Indexed.html#1827" class="Field">alternative</a> <a id="3334" class="Symbol">=</a> <a id="3336" href="Text.Parser.Monad.html#2983" class="Function">alternative</a>
    <a id="3352" class="Symbol">}</a>

  <a id="AgdarsecT.monadState"></a><a id="3357" href="Text.Parser.Monad.html#3357" class="Function">monadState</a> <a id="3368" class="Symbol">:</a> <a id="3370" href="Category.Monad.State.html#3377" class="Function">RawMonadState</a> <a id="3384" class="Symbol">(</a><a id="3385" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="3393" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="3402" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="3404" href="Level.Bounded.html#1436" class="Function Operator">×</a> <a id="3406" href="Level.Bounded.html#2648" class="Function">List</a> <a id="3411" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a><a id="3414" class="Symbol">))</a> <a id="3417" class="Symbol">(</a><a id="3418" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3428" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3430" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3434" href="Text.Parser.Monad.html#2303" class="Bound">M</a><a id="3435" class="Symbol">)</a>
  <a id="3439" href="Text.Parser.Monad.html#3357" class="Function">monadState</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Category.Monad.State.html#4135" class="Function">StateTMonadState</a> <a id="3469" class="Symbol">_</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Text.Parser.Monad.html#1496" class="Function">Result-monadT</a> <a id="3486" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3488" href="Text.Parser.Monad.html#2331" class="Bound">𝕄</a><a id="3489" class="Symbol">)</a>

  <a id="3494" class="Keyword">private</a> <a id="3502" class="Keyword">module</a> <a id="ST"></a><a id="3509" href="Text.Parser.Monad.html#3509" class="Module">ST</a> <a id="3512" class="Symbol">=</a> <a id="3514" href="Category.Monad.State.html#3504" class="Module">RawMonadState</a> <a id="3528" href="Text.Parser.Monad.html#3357" class="Function">monadState</a>

  <a id="AgdarsecT.getPosition"></a><a id="3542" href="Text.Parser.Monad.html#3542" class="Function">getPosition</a> <a id="3554" class="Symbol">:</a> <a id="3556" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3566" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3568" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3572" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="3574" class="Symbol">(</a><a id="3575" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="3580" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="3582" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="3591" href="Level.Bounded.html#1072" class="Function Operator">]</a><a id="3592" class="Symbol">)</a>
  <a id="3596" href="Text.Parser.Monad.html#3542" class="Function">getPosition</a> <a id="3608" class="Symbol">=</a> <a id="3610" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="3621" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="3627" href="Category.Functor.html#608" class="Function Operator">ST.&lt;$&gt;</a> <a id="3634" href="Category.Monad.State.html#2799" class="Function">ST.get</a>

  <a id="AgdarsecT.getAnnotations"></a><a id="3644" href="Text.Parser.Monad.html#3644" class="Function">getAnnotations</a> <a id="3659" class="Symbol">:</a> <a id="3661" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3671" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3673" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3677" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="3679" class="Symbol">(</a><a id="3680" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Level.Bounded.html#2648" class="Function">List</a> <a id="3691" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a><a id="3694" class="Symbol">))</a>
  <a id="3699" href="Text.Parser.Monad.html#3644" class="Function">getAnnotations</a> <a id="3714" class="Symbol">=</a> <a id="3716" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="3727" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3733" href="Category.Functor.html#608" class="Function Operator">ST.&lt;$&gt;</a> <a id="3740" href="Category.Monad.State.html#2799" class="Function">ST.get</a>

  <a id="AgdarsecT.withAnnotation"></a><a id="3750" href="Text.Parser.Monad.html#3750" class="Function">withAnnotation</a> <a id="3765" class="Symbol">:</a> <a id="3767" class="Symbol">∀</a> <a id="3769" class="Symbol">{</a><a id="3770" href="Text.Parser.Monad.html#3770" class="Bound">A</a><a id="3771" class="Symbol">}</a> <a id="3773" class="Symbol">→</a> <a id="3775" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="3782" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3786" class="Symbol">→</a> <a id="3788" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3798" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3800" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3804" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="3806" href="Text.Parser.Monad.html#3770" class="Bound">A</a> <a id="3808" class="Symbol">→</a> <a id="3810" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="3820" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="3822" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="3826" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="3828" href="Text.Parser.Monad.html#3770" class="Bound">A</a>
  <a id="3832" href="Text.Parser.Monad.html#3750" class="Function">withAnnotation</a> <a id="3847" href="Text.Parser.Monad.html#3847" class="Bound">c</a> <a id="3849" href="Text.Parser.Monad.html#3849" class="Bound">ma</a> <a id="3852" class="Symbol">=</a> <a id="3854" class="Keyword">let</a> <a id="3858" class="Keyword">open</a> <a id="3863" href="Text.Parser.Monad.html#3509" class="Module">ST</a> <a id="3866" class="Keyword">in</a> <a id="3869" class="Keyword">do</a>
    <a id="3876" href="Category.Monad.State.html#2906" class="Function">ST.modify</a> <a id="3886" class="Symbol">(</a><a id="3887" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="3898" href="Function.Base.html#3839" class="Function Operator">$′</a> <a id="3901" href="Data.Product.html#2675" class="Function">map₂</a> <a id="3906" class="Symbol">(</a><a id="3907" href="Text.Parser.Monad.html#3847" class="Bound">c</a> <a id="3909" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷_</a><a id="3911" class="Symbol">))</a>
    <a id="3918" href="Text.Parser.Monad.html#3918" class="Bound">a</a> <a id="3920" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="3922" href="Text.Parser.Monad.html#3849" class="Bound">ma</a>
    <a id="3929" href="Category.Monad.State.html#2906" class="Function">ST.modify</a> <a id="3939" class="Symbol">(</a><a id="3940" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="3951" href="Function.Base.html#3839" class="Function Operator">$′</a> <a id="3954" href="Data.Product.html#2675" class="Function">map₂</a> <a id="3959" class="Symbol">(</a><a id="3960" href="Data.List.Base.html#7051" class="Function">drop</a> <a id="3965" class="Number">1</a><a id="3966" class="Symbol">))</a>
    <a id="3973" href="Category.Applicative.Indexed.html#1003" class="Function">ST.pure</a> <a id="3981" href="Text.Parser.Monad.html#3918" class="Bound">a</a>

  <a id="AgdarsecT.recordChar"></a><a id="3986" href="Text.Parser.Monad.html#3986" class="Function">recordChar</a> <a id="3997" class="Symbol">:</a> <a id="3999" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a> <a id="4004" class="Symbol">→</a> <a id="4006" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="4016" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="4018" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="4022" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="4024" class="Symbol">(</a><a id="4025" href="Level.Bounded.html#3057" class="Function">Lift</a> <a id="4030" href="Level.Bounded.html#1168" class="Function">⊤</a><a id="4031" class="Symbol">)</a>
  <a id="4035" href="Text.Parser.Monad.html#3986" class="Function">recordChar</a> <a id="4046" href="Text.Parser.Monad.html#4046" class="Bound">c</a> <a id="4048" class="Symbol">=</a> <a id="4050" class="Symbol">_</a> <a id="4052" href="Category.Functor.html#639" class="Function Operator">ST.&lt;$</a> <a id="4058" href="Category.Monad.State.html#2906" class="Function">ST.modify</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Level.Bounded.html#3719" class="Function">Level≤.map</a> <a id="4080" href="Function.Base.html#3839" class="Function Operator">$′</a> <a id="4083" href="Data.Product.html#2625" class="Function">map₁</a> <a id="4088" class="Symbol">(</a><a id="4089" href="Text.Parser.Position.html#531" class="Function">update</a> <a id="4096" href="Text.Parser.Monad.html#4046" class="Bound">c</a><a id="4097" class="Symbol">))</a>

  <a id="4103" class="Comment">-- Commiting to a branch makes all the failures in that branch hard failures</a>
  <a id="4182" class="Comment">-- that we cannot recover from</a>
  <a id="AgdarsecT.commit"></a><a id="4215" href="Text.Parser.Monad.html#4215" class="Function">commit</a> <a id="4222" class="Symbol">:</a> <a id="4224" class="Symbol">∀</a> <a id="4226" class="Symbol">{</a><a id="4227" href="Text.Parser.Monad.html#4227" class="Bound">A</a><a id="4228" class="Symbol">}</a> <a id="4230" class="Symbol">→</a> <a id="4232" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="4242" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="4244" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="4248" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="4250" href="Text.Parser.Monad.html#4227" class="Bound">A</a> <a id="4252" class="Symbol">→</a> <a id="4254" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="4264" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="4266" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="4270" href="Text.Parser.Monad.html#2303" class="Bound">M</a> <a id="4272" href="Text.Parser.Monad.html#4227" class="Bound">A</a>
  <a id="4276" href="Text.Parser.Monad.html#4215" class="Function">commit</a> <a id="4283" href="Text.Parser.Monad.html#4283" class="Bound">m</a> <a id="4285" href="Text.Parser.Monad.html#4285" class="Bound">s</a> <a id="4287" class="Symbol">=</a> <a id="4289" href="Text.Parser.Monad.html#1112" class="Function">result</a> <a id="4296" href="Text.Parser.Monad.html#1057" class="InductiveConstructor">HardFail</a> <a id="4305" href="Text.Parser.Monad.html#1057" class="InductiveConstructor">HardFail</a> <a id="4314" href="Text.Parser.Monad.html#1085" class="InductiveConstructor">Value</a> <a id="4320" href="Category.Functor.html#608" class="Function Operator">𝕄.&lt;$&gt;</a> <a id="4326" href="Text.Parser.Monad.html#4283" class="Bound">m</a> <a id="4328" href="Text.Parser.Monad.html#4285" class="Bound">s</a>

  <a id="AgdarsecT.param"></a><a id="4333" href="Text.Parser.Monad.html#4333" class="Function">param</a> <a id="4339" class="Symbol">:</a> <a id="4341" class="Symbol">∀</a> <a id="4343" href="Text.Parser.Monad.html#4343" class="Bound">Tok</a> <a id="4347" href="Text.Parser.Monad.html#4347" class="Bound">Toks</a> <a id="4352" href="Text.Parser.Monad.html#4352" class="Bound">recTok</a> <a id="4359" class="Symbol">→</a> <a id="4361" href="Text.Parser.Types.html#476" class="Record">Parameters</a> <a id="4372" href="Text.Parser.Monad.html#2299" class="Bound">l</a>
  <a id="4376" href="Text.Parser.Monad.html#4333" class="Function">param</a> <a id="4382" href="Text.Parser.Monad.html#4382" class="Bound">Tok</a> <a id="4386" href="Text.Parser.Monad.html#4386" class="Bound">Toks</a> <a id="4391" href="Text.Parser.Monad.html#4391" class="Bound">recTok</a> <a id="4398" class="Symbol">=</a> <a id="4400" class="Keyword">record</a>
    <a id="4411" class="Symbol">{</a> <a id="4413" href="Text.Parser.Types.html#572" class="Field">Tok</a>         <a id="4425" class="Symbol">=</a> <a id="4427" href="Text.Parser.Monad.html#4382" class="Bound">Tok</a>
    <a id="4435" class="Symbol">;</a> <a id="4437" href="Text.Parser.Types.html#628" class="Field">Toks</a>        <a id="4449" class="Symbol">=</a> <a id="4451" href="Text.Parser.Monad.html#4386" class="Bound">Toks</a>
    <a id="4460" class="Symbol">;</a> <a id="4462" href="Text.Parser.Types.html#678" class="Field">M</a>           <a id="4474" class="Symbol">=</a> <a id="4476" href="Text.Parser.Monad.html#1933" class="Function">AgdarsecT</a> <a id="4486" href="Text.Parser.Monad.html#2286" class="Bound">E</a> <a id="4488" href="Text.Parser.Monad.html#2288" class="Bound">Ann</a> <a id="4492" href="Text.Parser.Monad.html#2303" class="Bound">M</a>
    <a id="4498" class="Symbol">;</a> <a id="4500" href="Text.Parser.Types.html#752" class="Field">recordToken</a> <a id="4512" class="Symbol">=</a> <a id="4514" href="Text.Parser.Monad.html#4391" class="Bound">recTok</a>
    <a id="4525" class="Symbol">}</a>

  <a id="AgdarsecT.chars"></a><a id="4530" href="Text.Parser.Monad.html#4530" class="Function">chars</a> <a id="4536" class="Symbol">:</a> <a id="4538" href="Text.Parser.Types.html#476" class="Record">Parameters</a> <a id="4549" href="Text.Parser.Monad.html#2299" class="Bound">l</a>
  <a id="4553" href="Text.Parser.Monad.html#4530" class="Function">chars</a> <a id="4559" class="Symbol">=</a> <a id="4561" href="Text.Parser.Monad.html#4333" class="Function">param</a> <a id="4567" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="4569" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a> <a id="4574" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Level.Bounded.html#2766" class="Function">Vec</a> <a id="4581" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="4583" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a> <a id="4588" href="Level.Bounded.html#1072" class="Function Operator">]</a><a id="4589" class="Symbol">)</a> <a id="4591" href="Text.Parser.Monad.html#3986" class="Function">recordChar</a>

<a id="4603" class="Keyword">module</a> <a id="Agdarsec"></a><a id="4610" href="Text.Parser.Monad.html#4610" class="Module">Agdarsec</a> <a id="4619" href="Text.Parser.Monad.html#4619" class="Bound">l</a> <a id="4621" class="Symbol">(</a><a id="4622" href="Text.Parser.Monad.html#4622" class="Bound">E</a> <a id="4624" href="Text.Parser.Monad.html#4624" class="Bound">Ann</a> <a id="4628" class="Symbol">:</a> <a id="4630" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="4635" href="Text.Parser.Monad.html#4619" class="Bound">l</a><a id="4636" class="Symbol">)</a> <a id="4638" class="Symbol">(</a><a id="4639" href="Text.Parser.Monad.html#4639" class="Bound">𝕊</a> <a id="4641" class="Symbol">:</a> <a id="4643" href="Data.Subset.html#108" class="Record">Subset</a> <a id="4650" class="Symbol">(</a><a id="4651" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="4658" class="Symbol">(</a><a id="4659" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="4661" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="4670" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="4672" href="Level.Bounded.html#1436" class="Function Operator">×</a> <a id="4674" href="Level.Bounded.html#2648" class="Function">List</a> <a id="4679" href="Text.Parser.Monad.html#4624" class="Bound">Ann</a><a id="4682" class="Symbol">))</a> <a id="4685" class="Symbol">(</a><a id="4686" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="4693" href="Text.Parser.Monad.html#4622" class="Bound">E</a><a id="4694" class="Symbol">))</a> <a id="4697" class="Keyword">where</a>

  <a id="4706" class="Keyword">private</a> <a id="4714" class="Keyword">module</a> <a id="M"></a><a id="4721" href="Text.Parser.Monad.html#4721" class="Module">M</a> <a id="4723" class="Symbol">=</a> <a id="4725" href="Text.Parser.Monad.html#2267" class="Module">AgdarsecT</a> <a id="4735" href="Text.Parser.Monad.html#4622" class="Bound">E</a> <a id="4737" href="Text.Parser.Monad.html#4624" class="Bound">Ann</a> <a id="4741" href="Function.Identity.Categorical.html#651" class="Function">Id.monad</a> <a id="4750" href="Text.Parser.Monad.html#4639" class="Bound">𝕊</a>
  <a id="4754" class="Keyword">open</a> <a id="4759" href="Text.Parser.Monad.html#4721" class="Module">M</a> <a id="4761" class="Keyword">public</a> <a id="4768" class="Keyword">renaming</a> <a id="4777" class="Symbol">(</a><a id="4778" href="Text.Parser.Monad.html#2464" class="Function">monadT</a> <a id="4785" class="Symbol">to</a> <a id="4788" class="Function">monad</a><a id="4793" class="Symbol">)</a> <a id="4795" class="Keyword">hiding</a> <a id="4802" class="Symbol">(</a><a id="4803" href="Text.Parser.Monad.html#4215" class="Function">commit</a><a id="4809" class="Symbol">)</a>

  <a id="4814" class="Keyword">module</a> <a id="4821" href="Text.Parser.Monad.html#4821" class="Module">_</a> <a id="4823" class="Symbol">{</a><a id="4824" href="Text.Parser.Monad.html#4824" class="Bound">Tok</a> <a id="4828" href="Text.Parser.Monad.html#4828" class="Bound">Toks</a> <a id="4833" href="Text.Parser.Monad.html#4833" class="Bound">recTok</a><a id="4839" class="Symbol">}</a> <a id="4841" class="Keyword">where</a>

    <a id="4852" class="Keyword">private</a> <a id="4860" href="Text.Parser.Monad.html#4860" class="Function">P</a> <a id="4862" class="Symbol">=</a> <a id="4864" href="Text.Parser.Monad.html#4333" class="Function">param</a> <a id="4870" href="Text.Parser.Monad.html#4824" class="Bound">Tok</a> <a id="4874" href="Text.Parser.Monad.html#4828" class="Bound">Toks</a> <a id="4879" href="Text.Parser.Monad.html#4833" class="Bound">recTok</a>
    <a id="4890" href="Text.Parser.Monad.html#4890" class="Function">commit</a> <a id="4897" class="Symbol">:</a> <a id="4899" class="Symbol">{</a><a id="4900" href="Text.Parser.Monad.html#4900" class="Bound">A</a> <a id="4902" class="Symbol">:</a> <a id="4904" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="4909" href="Text.Parser.Monad.html#4619" class="Bound">l</a><a id="4910" class="Symbol">}</a> <a id="4912" class="Symbol">→</a> <a id="4914" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="4917" href="Text.Parser.Types.html#1406" class="Record">Parser</a> <a id="4924" href="Text.Parser.Monad.html#4860" class="Function">P</a> <a id="4926" href="Text.Parser.Monad.html#4900" class="Bound">A</a> <a id="4928" href="Relation.Unary.html#4338" class="Function Operator">⇒</a> <a id="4930" href="Text.Parser.Types.html#1406" class="Record">Parser</a> <a id="4937" href="Text.Parser.Monad.html#4860" class="Function">P</a> <a id="4939" href="Text.Parser.Monad.html#4900" class="Bound">A</a> <a id="4941" href="Relation.Unary.html#3359" class="Function">]</a>
    <a id="4947" href="Text.Parser.Types.html#1522" class="Field">runParser</a> <a id="4957" class="Symbol">(</a><a id="4958" href="Text.Parser.Monad.html#4890" class="Function">commit</a> <a id="4965" href="Text.Parser.Monad.html#4965" class="Bound">p</a><a id="4966" class="Symbol">)</a> <a id="4968" href="Text.Parser.Monad.html#4968" class="Bound">m≤n</a> <a id="4972" href="Text.Parser.Monad.html#4972" class="Bound">s</a> <a id="4974" class="Symbol">=</a> <a id="4976" href="Text.Parser.Monad.html#4215" class="Function">M.commit</a> <a id="4985" class="Symbol">(</a><a id="4986" href="Text.Parser.Types.html#1522" class="Field">runParser</a> <a id="4996" href="Text.Parser.Monad.html#4965" class="Bound">p</a> <a id="4998" href="Text.Parser.Monad.html#4968" class="Bound">m≤n</a> <a id="5002" href="Text.Parser.Monad.html#4972" class="Bound">s</a><a id="5003" class="Symbol">)</a>

<a id="5006" class="Keyword">module</a> <a id="Agdarsec′"></a><a id="5013" href="Text.Parser.Monad.html#5013" class="Module">Agdarsec′</a> <a id="5023" class="Symbol">{</a><a id="5024" href="Text.Parser.Monad.html#5024" class="Bound">l</a> <a id="5026" class="Symbol">:</a> <a id="5028" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5033" class="Symbol">}</a> <a id="5035" class="Keyword">where</a>

  <a id="5044" class="Keyword">open</a> <a id="5049" href="Text.Parser.Monad.html#4610" class="Module">Agdarsec</a> <a id="5058" href="Text.Parser.Monad.html#5024" class="Bound">l</a> <a id="5060" href="Level.Bounded.html#1168" class="Function">⊤</a> <a id="5062" href="Level.Bounded.html#1231" class="Function">⊥</a> <a id="5064" class="Symbol">_</a> <a id="5066" class="Keyword">public</a>

  <a id="Agdarsec′.vec"></a><a id="5076" href="Text.Parser.Monad.html#5076" class="Function">vec</a> <a id="5080" class="Symbol">:</a> <a id="5082" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="5087" href="Text.Parser.Monad.html#5024" class="Bound">l</a> <a id="5089" class="Symbol">→</a> <a id="5091" href="Text.Parser.Types.html#476" class="Record">Parameters</a> <a id="5102" href="Text.Parser.Monad.html#5024" class="Bound">l</a>
  <a id="5106" href="Text.Parser.Monad.html#5076" class="Function">vec</a> <a id="5110" href="Text.Parser.Monad.html#5110" class="Bound">Tok</a> <a id="5114" class="Symbol">=</a> <a id="5116" class="Keyword">record</a>
    <a id="5127" class="Symbol">{</a> <a id="5129" href="Text.Parser.Types.html#572" class="Field">Tok</a>         <a id="5141" class="Symbol">=</a> <a id="5143" href="Text.Parser.Monad.html#5110" class="Bound">Tok</a>
    <a id="5151" class="Symbol">;</a> <a id="5153" href="Text.Parser.Types.html#628" class="Field">Toks</a>        <a id="5165" class="Symbol">=</a> <a id="5167" href="Level.Bounded.html#2766" class="Function">Vec</a> <a id="5171" href="Text.Parser.Monad.html#5110" class="Bound">Tok</a>
    <a id="5179" class="Symbol">;</a> <a id="5181" href="Text.Parser.Types.html#678" class="Field">M</a>           <a id="5193" class="Symbol">=</a> <a id="5195" href="Text.Parser.Monad.html#2160" class="Function">Agdarsec</a> <a id="5204" href="Level.Bounded.html#1168" class="Function">⊤</a> <a id="5206" href="Level.Bounded.html#1231" class="Function">⊥</a>
    <a id="5212" class="Symbol">;</a> <a id="5214" href="Text.Parser.Types.html#752" class="Field">recordToken</a> <a id="5226" class="Symbol">=</a> <a id="5228" class="Symbol">λ</a> <a id="5230" href="Text.Parser.Monad.html#5230" class="Bound">_</a> <a id="5232" class="Symbol">→</a> <a id="5234" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="5241" class="Symbol">_</a>
    <a id="5247" class="Symbol">}</a> <a id="5249" class="Keyword">where</a> <a id="5255" class="Keyword">module</a> <a id="M"></a><a id="5262" href="Text.Parser.Monad.html#5262" class="Module">M</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Category.Monad.html#832" class="Module">RawMonad</a> <a id="5275" href="Text.Parser.Monad.html#4788" class="Function">monad</a>
</pre></body></html>