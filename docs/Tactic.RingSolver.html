<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.RingSolver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A solver that uses reflection to automatically obtain and solve</a>
<a id="173" class="Comment">-- equations over rings.</a>
<a id="198" class="Comment">------------------------------------------------------------------------</a>

<a id="272" class="Symbol">{-#</a> <a id="276" class="Keyword">OPTIONS</a> <a id="284" class="Pragma">--without-K</a> <a id="296" class="Pragma">--safe</a> <a id="303" class="Symbol">#-}</a>

<a id="308" class="Keyword">module</a> <a id="315" href="Tactic.RingSolver.html" class="Module">Tactic.RingSolver</a> <a id="333" class="Keyword">where</a>

<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a>

<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Algebra.html" class="Module">Algebra</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Fin.html" class="Module">Data.Fin</a>   <a id="420" class="Symbol">as</a> <a id="423" class="Module">Fin</a>   <a id="429" class="Keyword">using</a> <a id="435" class="Symbol">(</a><a id="436" href="Data.Fin.Base.html#1138" class="Datatype">Fin</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Data.Vec.html" class="Module">Data.Vec</a>   <a id="464" class="Symbol">as</a> <a id="467" class="Module">Vec</a>   <a id="473" class="Keyword">using</a> <a id="479" class="Symbol">(</a><a id="480" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="483" class="Symbol">;</a> <a id="485" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">_∷_</a><a id="488" class="Symbol">;</a> <a id="490" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.List.html" class="Module">Data.List</a>  <a id="517" class="Symbol">as</a> <a id="520" class="Module">List</a>  <a id="526" class="Keyword">using</a> <a id="532" class="Symbol">(</a><a id="533" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="537" class="Symbol">;</a> <a id="539" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="542" class="Symbol">;</a> <a id="544" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="546" class="Symbol">)</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="576" class="Symbol">as</a> <a id="579" class="Module">Maybe</a> <a id="585" class="Keyword">using</a> <a id="591" class="Symbol">(</a><a id="592" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="597" class="Symbol">;</a> <a id="599" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="603" class="Symbol">;</a> <a id="605" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="612" class="Symbol">;</a> <a id="614" href="Data.Maybe.Base.html#1632" class="Function">fromMaybe</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="Data.Nat.html" class="Module">Data.Nat</a>            <a id="657" class="Keyword">using</a> <a id="663" class="Symbol">(</a><a id="664" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="665" class="Symbol">;</a> <a id="667" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="670" class="Symbol">;</a> <a id="672" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="676" class="Symbol">;</a> <a id="678" href="Data.Nat.Base.html#1238" class="Primitive Operator">_&lt;ᵇ_</a><a id="682" class="Symbol">)</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="Data.Nat.Reflection.html" class="Module">Data.Nat.Reflection</a> <a id="716" class="Keyword">using</a> <a id="722" class="Symbol">(</a><a id="723" href="Data.Nat.Reflection.html#525" class="Function">toTerm</a><a id="729" class="Symbol">;</a> <a id="731" href="Data.Nat.Reflection.html#637" class="Function">toFinTerm</a><a id="740" class="Symbol">)</a>
<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Data.Bool.html" class="Module">Data.Bool</a>           <a id="774" class="Keyword">using</a> <a id="780" class="Symbol">(</a><a id="781" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="785" class="Symbol">;</a> <a id="787" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="800" class="Symbol">;</a> <a id="802" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="806" class="Symbol">;</a> <a id="808" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="813" class="Symbol">)</a>
<a id="815" class="Keyword">open</a> <a id="820" class="Keyword">import</a> <a id="827" href="Data.Unit.html" class="Module">Data.Unit</a>           <a id="847" class="Keyword">using</a> <a id="853" class="Symbol">(</a><a id="854" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="855" class="Symbol">)</a>
<a id="857" class="Keyword">open</a> <a id="862" class="Keyword">import</a> <a id="869" href="Data.String.html" class="Module">Data.String</a>         <a id="889" class="Keyword">using</a> <a id="895" class="Symbol">(</a><a id="896" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="902" class="Symbol">)</a>
<a id="904" class="Keyword">open</a> <a id="909" class="Keyword">import</a> <a id="916" href="Data.Product.html" class="Module">Data.Product</a>        <a id="936" class="Keyword">using</a> <a id="942" class="Symbol">(</a><a id="943" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="946" class="Symbol">)</a>
<a id="948" class="Keyword">open</a> <a id="953" class="Keyword">import</a> <a id="960" href="Function.html" class="Module">Function</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Reflection.Argument.html" class="Module">Reflection.Argument</a>
<a id="1001" class="Keyword">open</a> <a id="1006" class="Keyword">import</a> <a id="1013" href="Reflection.Term.html" class="Module">Reflection.Term</a>
<a id="1029" class="Keyword">open</a> <a id="1034" class="Keyword">import</a> <a id="1041" href="Reflection.TypeChecking.Monad.Syntax.html" class="Module">Reflection.TypeChecking.Monad.Syntax</a>

<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Tactic.RingSolver.NonReflective.html" class="Module">Tactic.RingSolver.NonReflective</a> <a id="1123" class="Keyword">renaming</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Tactic.RingSolver.NonReflective.html#2889" class="Function">solve</a> <a id="1139" class="Symbol">to</a> <a id="NonReflective.solve"></a><a id="1142" href="Tactic.RingSolver.html#1142" class="Function">solve-fn</a><a id="1150" class="Symbol">)</a>
<a id="1152" class="Keyword">open</a> <a id="1157" class="Keyword">import</a> <a id="1164" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html" class="Module">Tactic.RingSolver.Core.AlmostCommutativeRing</a>
<a id="1209" class="Keyword">open</a> <a id="1214" class="Keyword">import</a> <a id="1221" href="Tactic.RingSolver.Core.NatSet.html" class="Module">Tactic.RingSolver.Core.NatSet</a> <a id="1251" class="Symbol">as</a> <a id="1254" class="Module">NatSet</a>
<a id="1261" class="Keyword">open</a> <a id="1266" class="Keyword">import</a> <a id="1273" href="Tactic.RingSolver.Core.ReflectionHelp.html" class="Module">Tactic.RingSolver.Core.ReflectionHelp</a>

<a id="1312" class="Keyword">open</a> <a id="1317" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1241" class="Module">AlmostCommutativeRing</a>

<a id="1340" class="Comment">------------------------------------------------------------------------</a>
<a id="1413" class="Comment">-- Processing</a>
<a id="1427" class="Comment">------------------------------------------------------------------------</a>

<a id="1501" class="Keyword">private</a>
  <a id="1511" class="Keyword">record</a> <a id="RingNames"></a><a id="1518" href="Tactic.RingSolver.html#1518" class="Record">RingNames</a> <a id="1528" class="Symbol">:</a> <a id="1530" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1534" class="Keyword">where</a>
    <a id="1544" class="Keyword">constructor</a> <a id="+⇒_*⇒_^⇒_-⇒_"></a><a id="1556" href="Tactic.RingSolver.html#1556" class="InductiveConstructor Operator">+⇒_*⇒_^⇒_-⇒_</a>
    <a id="1573" class="Keyword">field</a>
      <a id="RingNames.+′"></a><a id="1585" href="Tactic.RingSolver.html#1585" class="Field">+′</a> <a id="RingNames.*′"></a><a id="1588" href="Tactic.RingSolver.html#1588" class="Field">*′</a> <a id="RingNames.^′"></a><a id="1591" href="Tactic.RingSolver.html#1591" class="Field">^′</a> <a id="RingNames.-′"></a><a id="1594" href="Tactic.RingSolver.html#1594" class="Field">-′</a> <a id="1597" class="Symbol">:</a> <a id="1599" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1605" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a>

  <a id="checkIsRing"></a><a id="1613" href="Tactic.RingSolver.html#1613" class="Function">checkIsRing</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="1632" class="Symbol">→</a> <a id="1634" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="1637" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
  <a id="1644" href="Tactic.RingSolver.html#1613" class="Function">checkIsRing</a> <a id="1656" href="Tactic.RingSolver.html#1656" class="Bound">ring</a> <a id="1661" class="Symbol">=</a> <a id="1663" href="Agda.Builtin.Reflection.html#7812" class="Postulate">checkType</a> <a id="1673" href="Tactic.RingSolver.html#1656" class="Bound">ring</a> <a id="1678" class="Symbol">(</a><a id="1679" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="1683" class="Symbol">(</a><a id="1684" class="Keyword">quote</a> <a id="1690" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1241" class="Record">AlmostCommutativeRing</a><a id="1711" class="Symbol">)</a> <a id="1713" class="Symbol">(</a><a id="1714" class="Number">2</a> <a id="1716" href="Reflection.Term.html#2442" class="Function Operator">⋯⟨∷⟩</a> <a id="1721" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1723" class="Symbol">))</a>

  <a id="getVariableIDs"></a><a id="1729" href="Tactic.RingSolver.html#1729" class="Function">getVariableIDs</a> <a id="1744" class="Symbol">:</a> <a id="1746" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="1751" class="Symbol">→</a> <a id="1753" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1759" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a>
  <a id="1768" href="Tactic.RingSolver.html#1729" class="Function">getVariableIDs</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Tactic.RingSolver.html#1805" class="Function">go</a> <a id="1788" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="1795" class="Keyword">where</a>
    <a id="1805" href="Tactic.RingSolver.html#1805" class="Function">go</a> <a id="1808" class="Symbol">:</a> <a id="1810" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a> <a id="1817" class="Symbol">→</a> <a id="1819" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1832" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a>
    <a id="1843" href="Tactic.RingSolver.html#1805" class="Function">go</a> <a id="1846" href="Tactic.RingSolver.html#1846" class="Bound">t</a> <a id="1848" class="Symbol">(</a><a id="1849" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="1853" class="Symbol">(</a><a id="1854" class="Keyword">quote</a> <a id="1860" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">List._∷_</a><a id="1868" class="Symbol">)</a> <a id="1870" class="Symbol">(_</a> <a id="1873" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1875" class="Symbol">_</a> <a id="1877" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1879" href="Agda.Builtin.Reflection.html#4348" class="InductiveConstructor">var</a> <a id="1883" href="Tactic.RingSolver.html#1883" class="Bound">i</a> <a id="1885" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1888" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1892" href="Tactic.RingSolver.html#1892" class="Bound">xs</a> <a id="1895" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1899" class="Symbol">_))</a> <a id="1903" class="Symbol">=</a> <a id="1905" href="Tactic.RingSolver.html#1805" class="Function">go</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Tactic.RingSolver.Core.NatSet.html#2233" class="Function">insert</a> <a id="1916" href="Tactic.RingSolver.html#1883" class="Bound">i</a> <a id="1918" href="Tactic.RingSolver.html#1846" class="Bound">t</a><a id="1919" class="Symbol">)</a> <a id="1921" href="Tactic.RingSolver.html#1892" class="Bound">xs</a>
    <a id="1928" href="Tactic.RingSolver.html#1805" class="Function">go</a> <a id="1931" href="Tactic.RingSolver.html#1931" class="Bound">t</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="1938" class="Symbol">(</a><a id="1939" class="Keyword">quote</a> <a id="1945" href="Agda.Builtin.List.html#185" class="InductiveConstructor">List.List.[]</a><a id="1957" class="Symbol">)</a> <a id="1959" class="Symbol">_)</a>                           <a id="1988" class="Symbol">=</a> <a id="1990" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1995" href="Tactic.RingSolver.html#1931" class="Bound">t</a>
    <a id="2001" href="Tactic.RingSolver.html#1805" class="CatchallClause Function">go</a><a id="2003" class="CatchallClause"> </a><a id="2004" class="CatchallClause Symbol">_</a><a id="2005" class="CatchallClause"> </a><a id="2006" class="CatchallClause Symbol">_</a>                                                      <a id="2061" class="Symbol">=</a> <a id="2063" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

  <a id="2074" class="Keyword">module</a> <a id="OverRing"></a><a id="2081" href="Tactic.RingSolver.html#2081" class="Module">OverRing</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Tactic.RingSolver.html#2091" class="Bound">ring</a> <a id="2096" class="Symbol">:</a> <a id="2098" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="2102" class="Symbol">)</a> <a id="2104" class="Keyword">where</a>

    <a id="2115" class="Comment">-- Takes the name of a function that takes the ring as it&#39;s first</a>
    <a id="2185" class="Comment">-- explicit argument and the terms of it&#39;s arguments and inserts</a>
    <a id="2254" class="Comment">-- the required ring arguments</a>
    <a id="2289" class="Comment">--   e.g. &quot;_+_&quot; $ʳ xs = &quot;_+_ {_} {_} ring xs&quot;</a>
    <a id="OverRing._$ʳ_"></a><a id="2339" href="Tactic.RingSolver.html#2339" class="Function Operator">_$ʳ_</a> <a id="2344" class="Symbol">:</a> <a id="2346" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2351" class="Symbol">→</a> <a id="2353" href="Reflection.Argument.html#1325" class="Function">Args</a> <a id="2358" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="2363" class="Symbol">→</a> <a id="2365" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
    <a id="2374" href="Tactic.RingSolver.html#2374" class="Bound">nm</a> <a id="2377" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="2380" href="Tactic.RingSolver.html#2380" class="Bound">args</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="2391" href="Tactic.RingSolver.html#2374" class="Bound">nm</a> <a id="2394" class="Symbol">(</a><a id="2395" class="Number">2</a> <a id="2397" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="2402" href="Tactic.RingSolver.html#2091" class="Bound">ring</a> <a id="2407" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2411" href="Tactic.RingSolver.html#2380" class="Bound">args</a><a id="2415" class="Symbol">)</a>

    <a id="OverRing.checkIsListOfVariables"></a><a id="2422" href="Tactic.RingSolver.html#2422" class="Function">checkIsListOfVariables</a> <a id="2445" class="Symbol">:</a> <a id="2447" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="2452" class="Symbol">→</a> <a id="2454" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2457" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
    <a id="2466" href="Tactic.RingSolver.html#2422" class="Function">checkIsListOfVariables</a> <a id="2489" href="Tactic.RingSolver.html#2489" class="Bound">xs</a> <a id="2492" class="Symbol">=</a>
      <a id="2500" href="Agda.Builtin.Reflection.html#7812" class="Postulate">checkType</a> <a id="2510" href="Tactic.RingSolver.html#2489" class="Bound">xs</a> <a id="2513" class="Symbol">(</a><a id="2514" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="2518" class="Symbol">(</a><a id="2519" class="Keyword">quote</a> <a id="2525" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="2529" class="Symbol">)</a> <a id="2531" class="Symbol">(</a><a id="2532" class="Number">1</a> <a id="2534" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="2539" class="Symbol">(</a><a id="2540" class="Keyword">quote</a> <a id="2546" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1379" class="Field">Carrier</a> <a id="2554" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="2557" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2559" class="Symbol">)</a> <a id="2561" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2565" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2567" class="Symbol">))</a> <a id="2570" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">&gt;&gt;=</a> <a id="2574" href="Agda.Builtin.Reflection.html#7855" class="Postulate">normalise</a>

    <a id="OverRing.getFieldName"></a><a id="2589" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2602" class="Symbol">:</a> <a id="2604" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2609" class="Symbol">→</a> <a id="2611" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2614" class="Symbol">(</a><a id="2615" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2621" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a><a id="2625" class="Symbol">)</a>
    <a id="2631" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2644" href="Tactic.RingSolver.html#2644" class="Bound">nm</a> <a id="2647" class="Symbol">=</a> <a id="2649" href="Agda.Builtin.Reflection.html#7855" class="Postulate">normalise</a> <a id="2659" class="Symbol">(</a><a id="2660" href="Tactic.RingSolver.html#2644" class="Bound">nm</a> <a id="2663" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="2666" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2668" class="Symbol">)</a> <a id="2670" href="Reflection.TypeChecking.Monad.Syntax.html#1154" class="Function Operator">&lt;&amp;&gt;</a> <a id="2674" class="Symbol">λ</a> <a id="2676" class="Keyword">where</a>
      <a id="2688" class="Symbol">(</a><a id="2689" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="2693" href="Tactic.RingSolver.html#2693" class="Bound">f</a> <a id="2695" href="Tactic.RingSolver.html#2695" class="Bound">args</a><a id="2699" class="Symbol">)</a> <a id="2701" class="Symbol">→</a> <a id="2703" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2708" href="Tactic.RingSolver.html#2693" class="Bound">f</a>
      <a id="2716" class="CatchallClause Symbol">_</a>            <a id="2729" class="Symbol">→</a> <a id="2731" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

    <a id="OverRing.getRingOperatorNames"></a><a id="2744" href="Tactic.RingSolver.html#2744" class="Function">getRingOperatorNames</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2770" href="Tactic.RingSolver.html#1518" class="Record">RingNames</a>
    <a id="2784" href="Tactic.RingSolver.html#2744" class="Function">getRingOperatorNames</a> <a id="2805" class="Symbol">=</a> <a id="2807" class="Symbol">⦇</a>
      <a id="2815" href="Tactic.RingSolver.html#1556" class="InductiveConstructor Operator">+⇒</a> <a id="2818" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2831" class="Symbol">(</a><a id="2832" class="Keyword">quote</a> <a id="2838" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1459" class="Field Operator">_+_</a><a id="2841" class="Symbol">)</a>
      <a id="2849" href="Tactic.RingSolver.html#1556" class="InductiveConstructor Operator">*⇒</a> <a id="2852" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2865" class="Symbol">(</a><a id="2866" class="Keyword">quote</a> <a id="2872" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1501" class="Field Operator">_*_</a><a id="2875" class="Symbol">)</a>
      <a id="2883" href="Tactic.RingSolver.html#1556" class="InductiveConstructor Operator">^⇒</a> <a id="2886" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2899" class="Symbol">(</a><a id="2900" class="Keyword">quote</a> <a id="2906" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2401" class="Function Operator">_^_</a><a id="2909" class="Symbol">)</a>
      <a id="2917" href="Tactic.RingSolver.html#1556" class="InductiveConstructor Operator">-⇒</a> <a id="2920" href="Tactic.RingSolver.html#2589" class="Function">getFieldName</a> <a id="2933" class="Symbol">(</a><a id="2934" class="Keyword">quote</a> <a id="2940" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1543" class="Field Operator">-_</a><a id="2942" class="Symbol">)</a>
      <a id="2950" class="Symbol">⦈</a>

    <a id="2957" class="Keyword">module</a> <a id="2964" href="Tactic.RingSolver.html#2964" class="Module">_</a> <a id="2966" class="Symbol">(</a><a id="2967" href="Tactic.RingSolver.html#2967" class="Bound">nms</a> <a id="2971" class="Symbol">:</a> <a id="2973" href="Tactic.RingSolver.html#1518" class="Record">RingNames</a><a id="2982" class="Symbol">)</a> <a id="2984" class="Symbol">(</a><a id="2985" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="2993" class="Symbol">:</a> <a id="2995" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2996" class="Symbol">)</a> <a id="2998" class="Keyword">where</a>
      <a id="3010" class="Keyword">open</a> <a id="3015" href="Tactic.RingSolver.html#1518" class="Module">RingNames</a> <a id="3025" href="Tactic.RingSolver.html#2967" class="Bound">nms</a>

      <a id="3036" class="Comment">-- This function applies the hidden arguments that the constructors</a>
      <a id="3110" class="Comment">-- that Expr needs. The first is the universe level, the second is the</a>
      <a id="3187" class="Comment">-- type it contains, and the third is the number of variables it&#39;s</a>
      <a id="3260" class="Comment">-- indexed by. All three of these could likely be inferred, but to</a>
      <a id="3333" class="Comment">-- make things easier we supply the third because we know it.</a>
      <a id="3401" href="Tactic.RingSolver.html#3401" class="Function Operator">_$ᵉ_</a> <a id="3406" class="Symbol">:</a> <a id="3408" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3413" class="Symbol">→</a> <a id="3415" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3420" class="Symbol">(</a><a id="3421" href="Agda.Builtin.Reflection.html#3255" class="Datatype">Arg</a> <a id="3425" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="3429" class="Symbol">)</a> <a id="3431" class="Symbol">→</a> <a id="3433" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
      <a id="3444" href="Tactic.RingSolver.html#3444" class="Bound">e</a> <a id="3446" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="3449" href="Tactic.RingSolver.html#3449" class="Bound">xs</a> <a id="3452" class="Symbol">=</a> <a id="3454" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="3458" href="Tactic.RingSolver.html#3444" class="Bound">e</a> <a id="3460" class="Symbol">(</a><a id="3461" class="Number">1</a> <a id="3463" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="3468" class="Keyword">quote</a> <a id="3474" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1379" class="Field">Carrier</a> <a id="3482" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="3485" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3488" href="Reflection.Argument.html#1449" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="3492" href="Data.Nat.Reflection.html#525" class="Function">toTerm</a> <a id="3499" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="3507" href="Reflection.Argument.html#1449" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="3511" href="Tactic.RingSolver.html#3449" class="Bound">xs</a><a id="3513" class="Symbol">)</a>

      <a id="3522" class="Comment">-- A constant expression.</a>
      <a id="3554" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="3557" class="Symbol">:</a> <a id="3559" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="3564" class="Symbol">→</a> <a id="3566" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
      <a id="3577" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="3580" href="Tactic.RingSolver.html#3580" class="Bound">x</a> <a id="3582" class="Symbol">=</a> <a id="3584" class="Keyword">quote</a> <a id="3590" href="Tactic.RingSolver.Core.Expression.html#538" class="InductiveConstructor">Κ</a> <a id="3592" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="3595" class="Symbol">(</a><a id="3596" href="Tactic.RingSolver.html#3580" class="Bound">x</a> <a id="3598" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3602" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3604" class="Symbol">)</a>

      <a id="3613" href="Tactic.RingSolver.html#3613" class="Function Operator">_⇓≟_</a> <a id="3618" class="Symbol">:</a> <a id="3620" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3626" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3631" class="Symbol">→</a> <a id="3633" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3638" class="Symbol">→</a> <a id="3640" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
      <a id="3651" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="3659" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="3662" class="Symbol">_</a> <a id="3664" class="Symbol">=</a> <a id="3666" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
      <a id="3678" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3683" href="Tactic.RingSolver.html#3683" class="Bound">x</a>  <a id="3686" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="3689" href="Tactic.RingSolver.html#3689" class="Bound">y</a> <a id="3691" class="Symbol">=</a> <a id="3693" href="Agda.Builtin.Reflection.html#540" class="Primitive">primQNameEquality</a> <a id="3711" href="Tactic.RingSolver.html#3683" class="Bound">x</a> <a id="3713" href="Tactic.RingSolver.html#3689" class="Bound">y</a>
      <a id="3721" class="Symbol">{-#</a> <a id="3725" class="Keyword">INLINE</a> <a id="3732" href="Tactic.RingSolver.html#3613" class="Function Operator">_⇓≟_</a> <a id="3737" class="Symbol">#-}</a>

      <a id="3748" class="Keyword">module</a> <a id="ToExpr"></a><a id="3755" href="Tactic.RingSolver.html#3755" class="Module">ToExpr</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Tactic.RingSolver.html#3763" class="Bound">Ι′</a> <a id="3766" class="Symbol">:</a> <a id="3768" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3770" class="Symbol">→</a> <a id="3772" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3778" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="3782" class="Symbol">)</a> <a id="3784" class="Keyword">where</a>
        <a id="3798" class="Keyword">mutual</a>
          <a id="3815" class="Comment">-- Application of a ring operator often doesn&#39;t have a type as</a>
          <a id="3888" class="Comment">-- simple as &quot;Carrier → Carrier → Carrier&quot;: there may be hidden</a>
          <a id="3962" class="Comment">-- arguments, etc. Here, we do our best to handle those cases,</a>
          <a id="4035" class="Comment">-- by just taking the last two explicit arguments.</a>
          <a id="4096" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨_⟩₂</a> <a id="4102" class="Symbol">:</a> <a id="4104" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="4109" class="Symbol">→</a> <a id="4111" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4116" class="Symbol">(</a><a id="4117" href="Agda.Builtin.Reflection.html#3255" class="Datatype">Arg</a> <a id="4121" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="4125" class="Symbol">)</a> <a id="4127" class="Symbol">→</a> <a id="4129" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
          <a id="4144" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="4147" href="Tactic.RingSolver.html#4147" class="Bound">nm</a> <a id="4150" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="4153" class="Symbol">(</a><a id="4154" href="Tactic.RingSolver.html#4154" class="Bound">x</a> <a id="4156" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4160" href="Tactic.RingSolver.html#4160" class="Bound">y</a> <a id="4162" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4166" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4168" class="Symbol">)</a> <a id="4170" class="Symbol">=</a> <a id="4172" href="Tactic.RingSolver.html#4147" class="Bound">nm</a> <a id="4175" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="4178" class="Symbol">(</a><a id="4179" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="4181" href="Tactic.RingSolver.html#4154" class="Bound">x</a> <a id="4183" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4187" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="4189" href="Tactic.RingSolver.html#4160" class="Bound">y</a> <a id="4191" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4195" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4197" class="Symbol">)</a>
          <a id="4209" href="Tactic.RingSolver.html#4096" class="CatchallClause Function Operator">E⟨</a><a id="4211" class="CatchallClause"> </a><a id="4212" href="Tactic.RingSolver.html#4212" class="CatchallClause Bound">nm</a><a id="4214" class="CatchallClause"> </a><a id="4215" href="Tactic.RingSolver.html#4096" class="CatchallClause Function Operator">⟩₂</a><a id="4217" class="CatchallClause"> </a><a id="4218" class="CatchallClause Symbol">(</a><a id="4219" href="Tactic.RingSolver.html#4219" class="CatchallClause Bound">x</a><a id="4220" class="CatchallClause"> </a><a id="4221" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="4222" class="CatchallClause"> </a><a id="4223" href="Tactic.RingSolver.html#4223" class="CatchallClause Bound">xs</a><a id="4225" class="CatchallClause Symbol">)</a>         <a id="4235" class="Symbol">=</a> <a id="4237" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="4240" href="Tactic.RingSolver.html#4212" class="Bound">nm</a> <a id="4243" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="4246" href="Tactic.RingSolver.html#4223" class="Bound">xs</a>
          <a id="4259" href="Tactic.RingSolver.html#4096" class="CatchallClause Function Operator">E⟨</a><a id="4261" class="CatchallClause"> </a><a id="4262" href="Tactic.RingSolver.html#4262" class="CatchallClause Bound">nm</a><a id="4264" class="CatchallClause"> </a><a id="4265" href="Tactic.RingSolver.html#4096" class="CatchallClause Function Operator">⟩₂</a><a id="4267" class="CatchallClause"> </a><a id="4268" class="CatchallClause Symbol">_</a>                <a id="4285" class="Symbol">=</a> <a id="4287" href="Agda.Builtin.Reflection.html#4804" class="InductiveConstructor">unknown</a>

          <a id="4306" href="Tactic.RingSolver.html#4306" class="Function Operator">E⟨_⟩₁</a> <a id="4312" class="Symbol">:</a> <a id="4314" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="4319" class="Symbol">→</a> <a id="4321" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4326" class="Symbol">(</a><a id="4327" href="Agda.Builtin.Reflection.html#3255" class="Datatype">Arg</a> <a id="4331" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="4335" class="Symbol">)</a> <a id="4337" class="Symbol">→</a> <a id="4339" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
          <a id="4354" href="Tactic.RingSolver.html#4306" class="Function Operator">E⟨</a> <a id="4357" href="Tactic.RingSolver.html#4357" class="Bound">nm</a> <a id="4360" href="Tactic.RingSolver.html#4306" class="Function Operator">⟩₁</a> <a id="4363" class="Symbol">(</a><a id="4364" href="Tactic.RingSolver.html#4364" class="Bound">x</a> <a id="4366" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4370" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4372" class="Symbol">)</a> <a id="4374" class="Symbol">=</a> <a id="4376" href="Tactic.RingSolver.html#4357" class="Bound">nm</a> <a id="4379" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="4382" class="Symbol">(</a><a id="4383" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="4385" href="Tactic.RingSolver.html#4364" class="Bound">x</a> <a id="4387" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4391" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4393" class="Symbol">)</a>
          <a id="4405" href="Tactic.RingSolver.html#4306" class="CatchallClause Function Operator">E⟨</a><a id="4407" class="CatchallClause"> </a><a id="4408" href="Tactic.RingSolver.html#4408" class="CatchallClause Bound">nm</a><a id="4410" class="CatchallClause"> </a><a id="4411" href="Tactic.RingSolver.html#4306" class="CatchallClause Function Operator">⟩₁</a><a id="4413" class="CatchallClause"> </a><a id="4414" class="CatchallClause Symbol">(</a><a id="4415" href="Tactic.RingSolver.html#4415" class="CatchallClause Bound">x</a><a id="4416" class="CatchallClause"> </a><a id="4417" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="4418" class="CatchallClause"> </a><a id="4419" href="Tactic.RingSolver.html#4419" class="CatchallClause Bound">xs</a><a id="4421" class="CatchallClause Symbol">)</a>   <a id="4425" class="Symbol">=</a> <a id="4427" href="Tactic.RingSolver.html#4306" class="Function Operator">E⟨</a> <a id="4430" href="Tactic.RingSolver.html#4408" class="Bound">nm</a> <a id="4433" href="Tactic.RingSolver.html#4306" class="Function Operator">⟩₁</a> <a id="4436" href="Tactic.RingSolver.html#4419" class="Bound">xs</a>
          <a id="4449" href="Tactic.RingSolver.html#4306" class="CatchallClause Function Operator">E⟨</a><a id="4451" class="CatchallClause"> </a><a id="4452" class="CatchallClause Symbol">_</a><a id="4453" class="CatchallClause">  </a><a id="4455" href="Tactic.RingSolver.html#4306" class="CatchallClause Function Operator">⟩₁</a><a id="4457" class="CatchallClause"> </a><a id="4458" class="CatchallClause Symbol">_</a>          <a id="4469" class="Symbol">=</a> <a id="4471" href="Agda.Builtin.Reflection.html#4804" class="InductiveConstructor">unknown</a>

          <a id="4490" href="Tactic.RingSolver.html#4490" class="Function">E⟨^⟩</a> <a id="4495" class="Symbol">:</a> <a id="4497" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4502" class="Symbol">(</a><a id="4503" href="Agda.Builtin.Reflection.html#3255" class="Datatype">Arg</a> <a id="4507" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a><a id="4511" class="Symbol">)</a> <a id="4513" class="Symbol">→</a> <a id="4515" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
          <a id="4530" href="Tactic.RingSolver.html#4490" class="Function">E⟨^⟩</a> <a id="4535" class="Symbol">(</a><a id="4536" href="Tactic.RingSolver.html#4536" class="Bound">x</a> <a id="4538" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4542" href="Tactic.RingSolver.html#4542" class="Bound">y</a> <a id="4544" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4548" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4550" class="Symbol">)</a> <a id="4552" class="Symbol">=</a> <a id="4554" class="Keyword">quote</a> <a id="4560" href="Tactic.RingSolver.Core.Expression.html#748" class="InductiveConstructor Operator">_⊛_</a> <a id="4564" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="4567" class="Symbol">(</a><a id="4568" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="4570" href="Tactic.RingSolver.html#4536" class="Bound">x</a> <a id="4572" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4576" href="Tactic.RingSolver.html#4542" class="Bound">y</a> <a id="4578" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4582" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4584" class="Symbol">)</a>
          <a id="4596" href="Tactic.RingSolver.html#4490" class="CatchallClause Function">E⟨^⟩</a><a id="4600" class="CatchallClause"> </a><a id="4601" class="CatchallClause Symbol">(</a><a id="4602" href="Tactic.RingSolver.html#4602" class="CatchallClause Bound">x</a><a id="4603" class="CatchallClause"> </a><a id="4604" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="4605" class="CatchallClause"> </a><a id="4606" href="Tactic.RingSolver.html#4606" class="CatchallClause Bound">xs</a><a id="4608" class="CatchallClause Symbol">)</a>         <a id="4618" class="Symbol">=</a> <a id="4620" href="Tactic.RingSolver.html#4490" class="Function">E⟨^⟩</a> <a id="4625" href="Tactic.RingSolver.html#4606" class="Bound">xs</a>
          <a id="4638" href="Tactic.RingSolver.html#4490" class="CatchallClause Function">E⟨^⟩</a><a id="4642" class="CatchallClause"> </a><a id="4643" class="CatchallClause Symbol">_</a>                <a id="4660" class="Symbol">=</a> <a id="4662" href="Agda.Builtin.Reflection.html#4804" class="InductiveConstructor">unknown</a>

          <a id="4681" class="Comment">-- When trying to figure out the shape of an expression, one of</a>
          <a id="4755" class="Comment">-- the difficult tasks is recognizing where constants in the</a>
          <a id="4826" class="Comment">-- underlying ring are used. If we were only dealing with ℕ, we</a>
          <a id="4900" class="Comment">-- might look for its constructors: however, we want to deal with</a>
          <a id="4976" class="Comment">-- arbitrary types which implement AlmostCommutativeRing. If the</a>
          <a id="5051" class="Comment">-- Term type contained type information we might be able to</a>
          <a id="5121" class="Comment">-- recognize it there, but it doesn&#39;t.</a>
          <a id="5170" class="Comment">--</a>
          <a id="5183" class="Comment">-- We&#39;re in luck, though, because all other cases in the following</a>
          <a id="5260" class="Comment">-- function *are* recognizable. As a result, the &quot;catch-all&quot; case</a>
          <a id="5336" class="Comment">-- will just assume that it has a constant expression.</a>
          <a id="5401" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5403" class="Symbol">:</a> <a id="5405" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="5410" class="Symbol">→</a> <a id="5412" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
          <a id="5427" class="Comment">-- Recognise the ring&#39;s fields</a>
          <a id="5468" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="5475" class="Symbol">(</a><a id="5476" class="Keyword">quote</a> <a id="5482" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1459" class="Field Operator">_+_</a><a id="5485" class="Symbol">)</a> <a id="5487" href="Tactic.RingSolver.html#5487" class="Bound">xs</a><a id="5489" class="Symbol">)</a> <a id="5491" class="Symbol">=</a> <a id="5493" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="5496" class="Keyword">quote</a> <a id="5502" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="5506" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="5509" href="Tactic.RingSolver.html#5487" class="Bound">xs</a>
          <a id="5522" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5524" class="Symbol">(</a><a id="5525" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="5529" class="Symbol">(</a><a id="5530" class="Keyword">quote</a> <a id="5536" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1501" class="Field Operator">_*_</a><a id="5539" class="Symbol">)</a> <a id="5541" href="Tactic.RingSolver.html#5541" class="Bound">xs</a><a id="5543" class="Symbol">)</a> <a id="5545" class="Symbol">=</a> <a id="5547" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="5550" class="Keyword">quote</a> <a id="5556" href="Tactic.RingSolver.Core.Expression.html#691" class="InductiveConstructor Operator">_⊗_</a> <a id="5560" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="5563" href="Tactic.RingSolver.html#5541" class="Bound">xs</a>
          <a id="5576" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="5583" class="Symbol">(</a><a id="5584" class="Keyword">quote</a> <a id="5590" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2401" class="Function Operator">_^_</a><a id="5593" class="Symbol">)</a> <a id="5595" href="Tactic.RingSolver.html#5595" class="Bound">xs</a><a id="5597" class="Symbol">)</a> <a id="5599" class="Symbol">=</a> <a id="5601" href="Tactic.RingSolver.html#4490" class="Function">E⟨^⟩</a> <a id="5606" href="Tactic.RingSolver.html#5595" class="Bound">xs</a>
          <a id="5619" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5621" class="Symbol">(</a><a id="5622" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="5626" class="Symbol">(</a><a id="5627" class="Keyword">quote</a> <a id="5633" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1543" class="Field Operator">-_</a><a id="5635" class="Symbol">)</a>  <a id="5638" href="Tactic.RingSolver.html#5638" class="Bound">xs</a><a id="5640" class="Symbol">)</a> <a id="5642" class="Symbol">=</a> <a id="5644" href="Tactic.RingSolver.html#4306" class="Function Operator">E⟨</a> <a id="5647" class="Keyword">quote</a> <a id="5653" href="Tactic.RingSolver.Core.Expression.html#805" class="InductiveConstructor Operator">⊝_</a> <a id="5656" href="Tactic.RingSolver.html#4306" class="Function Operator">⟩₁</a> <a id="5659" href="Tactic.RingSolver.html#5638" class="Bound">xs</a>
          <a id="5672" class="Comment">-- Recognise the underlying implementation of the ring&#39;s fields</a>
          <a id="5746" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="5748" class="Symbol">(</a><a id="5749" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="5753" href="Tactic.RingSolver.html#5753" class="Bound">nm</a>          <a id="5765" href="Tactic.RingSolver.html#5765" class="Bound">xs</a><a id="5767" class="Symbol">)</a> <a id="5769" class="Symbol">=</a> <a id="5771" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5774" href="Tactic.RingSolver.html#1585" class="Function">+′</a> <a id="5777" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="5780" href="Tactic.RingSolver.html#5753" class="Bound">nm</a> <a id="5783" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5788" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="5791" class="Keyword">quote</a> <a id="5797" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="5801" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="5804" href="Tactic.RingSolver.html#5765" class="Bound">xs</a> <a id="5807" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                   <a id="5847" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5850" href="Tactic.RingSolver.html#1588" class="Function">*′</a> <a id="5853" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="5856" href="Tactic.RingSolver.html#5753" class="Bound">nm</a> <a id="5859" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5864" href="Tactic.RingSolver.html#4096" class="Function Operator">E⟨</a> <a id="5867" class="Keyword">quote</a> <a id="5873" href="Tactic.RingSolver.Core.Expression.html#691" class="InductiveConstructor Operator">_⊗_</a> <a id="5877" href="Tactic.RingSolver.html#4096" class="Function Operator">⟩₂</a> <a id="5880" href="Tactic.RingSolver.html#5765" class="Bound">xs</a> <a id="5883" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                   <a id="5923" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5926" href="Tactic.RingSolver.html#1591" class="Function">^′</a> <a id="5929" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="5932" href="Tactic.RingSolver.html#5753" class="Bound">nm</a> <a id="5935" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5940" href="Tactic.RingSolver.html#4490" class="Function">E⟨^⟩</a> <a id="5945" href="Tactic.RingSolver.html#5765" class="Bound">xs</a> <a id="5948" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                   <a id="5988" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5991" href="Tactic.RingSolver.html#1594" class="Function">-′</a> <a id="5994" href="Tactic.RingSolver.html#3613" class="Function Operator">⇓≟</a> <a id="5997" href="Tactic.RingSolver.html#5753" class="Bound">nm</a> <a id="6000" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6005" href="Tactic.RingSolver.html#4306" class="Function Operator">E⟨</a> <a id="6008" class="Keyword">quote</a> <a id="6014" href="Tactic.RingSolver.Core.Expression.html#805" class="InductiveConstructor Operator">⊝_</a> <a id="6017" href="Tactic.RingSolver.html#4306" class="Function Operator">⟩₁</a> <a id="6020" href="Tactic.RingSolver.html#5765" class="Bound">xs</a> <a id="6023" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                   <a id="6063" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="6066" class="Symbol">(</a><a id="6067" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="6071" href="Tactic.RingSolver.html#5753" class="Bound">nm</a> <a id="6074" href="Tactic.RingSolver.html#5765" class="Bound">xs</a><a id="6076" class="Symbol">)</a>
          <a id="6088" class="Comment">-- Variables</a>
          <a id="6111" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6113" href="Tactic.RingSolver.html#6113" class="Bound">v</a><a id="6114" class="Symbol">@(</a><a id="6116" href="Agda.Builtin.Reflection.html#4348" class="InductiveConstructor">var</a> <a id="6120" href="Tactic.RingSolver.html#6120" class="Bound">x</a> <a id="6122" class="Symbol">_)</a>          <a id="6134" class="Symbol">=</a> <a id="6136" href="Data.Maybe.Base.html#1632" class="Function">fromMaybe</a> <a id="6146" class="Symbol">(</a><a id="6147" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="6150" href="Tactic.RingSolver.html#6113" class="Bound">v</a><a id="6151" class="Symbol">)</a> <a id="6153" class="Symbol">(</a><a id="6154" href="Tactic.RingSolver.html#3763" class="Bound">Ι′</a> <a id="6157" href="Tactic.RingSolver.html#6120" class="Bound">x</a><a id="6158" class="Symbol">)</a>
          <a id="6170" class="Comment">-- Special case to recognise &quot;suc&quot; for naturals</a>
          <a id="6228" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6230" class="Symbol">(</a><a id="6231" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="6235" class="Symbol">(</a><a id="6236" class="Keyword">quote</a> <a id="6242" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">ℕ.suc</a><a id="6247" class="Symbol">)</a> <a id="6249" class="Symbol">(</a><a id="6250" href="Tactic.RingSolver.html#6250" class="Bound">x</a> <a id="6252" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6256" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6258" class="Symbol">))</a> <a id="6261" class="Symbol">=</a> <a id="6263" class="Keyword">quote</a> <a id="6269" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="6273" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="6280" class="Symbol">(</a><a id="6281" href="Data.Nat.Reflection.html#525" class="Function">toTerm</a> <a id="6288" class="Number">1</a><a id="6289" class="Symbol">)</a> <a id="6291" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6295" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6297" href="Tactic.RingSolver.html#6250" class="Bound">x</a> <a id="6299" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6303" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6305" class="Symbol">)</a>
          <a id="6317" href="Tactic.RingSolver.html#5401" class="CatchallClause Function">E</a><a id="6318" class="CatchallClause"> </a><a id="6319" href="Tactic.RingSolver.html#6319" class="CatchallClause Bound">t</a>                    <a id="6340" class="Symbol">=</a> <a id="6342" href="Tactic.RingSolver.html#3554" class="Function">Κ′</a> <a id="6345" href="Tactic.RingSolver.html#6319" class="Bound">t</a>

      <a id="6354" href="Tactic.RingSolver.html#6354" class="Function">callSolver</a> <a id="6365" class="Symbol">:</a> <a id="6367" href="Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="6371" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="6378" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="6386" class="Symbol">→</a> <a id="6388" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="6393" class="Symbol">→</a> <a id="6395" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="6400" class="Symbol">→</a> <a id="6402" href="Reflection.Argument.html#1325" class="Function">Args</a> <a id="6407" href="Agda.Builtin.Reflection.html#4317" class="Function">Type</a>
      <a id="6418" href="Tactic.RingSolver.html#6354" class="Function">callSolver</a> <a id="6429" href="Tactic.RingSolver.html#6429" class="Bound">nms</a> <a id="6433" href="Tactic.RingSolver.html#6433" class="Bound">lhs</a> <a id="6437" href="Tactic.RingSolver.html#6437" class="Bound">rhs</a> <a id="6441" class="Symbol">=</a>
          <a id="6453" class="Number">2</a> <a id="6455" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="6460" href="Tactic.RingSolver.html#2091" class="Bound">ring</a> <a id="6465" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6469" href="Data.Nat.Reflection.html#525" class="Function">toTerm</a> <a id="6476" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="6484" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a>
          <a id="6498" href="Tactic.RingSolver.Core.ReflectionHelp.html#1142" class="Function">vlams</a> <a id="6504" href="Tactic.RingSolver.html#6429" class="Bound">nms</a> <a id="6508" class="Symbol">(</a><a id="6509" class="Keyword">quote</a> <a id="6515" href="Tactic.RingSolver.NonReflective.html#3238" class="Function Operator">_⊜_</a>  <a id="6520" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="6523" class="Symbol">(</a><a id="6524" href="Data.Nat.Reflection.html#525" class="Function">toTerm</a> <a id="6531" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="6539" href="Reflection.Argument.html#1449" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="6543" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6545" href="Tactic.RingSolver.html#6433" class="Bound">lhs</a> <a id="6549" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6553" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6555" href="Tactic.RingSolver.html#6437" class="Bound">rhs</a> <a id="6559" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6563" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6565" class="Symbol">))</a> <a id="6568" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a>
          <a id="6582" href="Tactic.RingSolver.Core.ReflectionHelp.html#1022" class="Function">hlams</a> <a id="6588" href="Tactic.RingSolver.html#6429" class="Bound">nms</a> <a id="6592" class="Symbol">(</a><a id="6593" class="Keyword">quote</a> <a id="6599" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2479" class="Function">refl</a> <a id="6604" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="6607" class="Symbol">(</a><a id="6608" class="Number">1</a> <a id="6610" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="6615" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6617" class="Symbol">))</a> <a id="6620" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a>
          <a id="6634" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
        <a id="6645" class="Keyword">where</a>
        <a id="6659" href="Tactic.RingSolver.html#6659" class="Function">Ι′</a> <a id="6662" class="Symbol">:</a> <a id="6664" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="6666" class="Symbol">→</a> <a id="6668" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6674" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
        <a id="6687" href="Tactic.RingSolver.html#6659" class="Function">Ι′</a> <a id="6690" href="Tactic.RingSolver.html#6690" class="Bound">i</a> <a id="6692" class="Symbol">=</a> <a id="6694" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6697" href="Tactic.RingSolver.html#6690" class="Bound">i</a> <a id="6699" href="Data.Nat.Base.html#1238" class="Primitive Operator">&lt;ᵇ</a> <a id="6702" href="Tactic.RingSolver.html#2985" class="Bound">numVars</a> <a id="6710" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6715" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6720" class="Symbol">(</a><a id="6721" href="Agda.Builtin.Reflection.html#4348" class="InductiveConstructor">var</a> <a id="6725" href="Tactic.RingSolver.html#6690" class="Bound">i</a> <a id="6727" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6729" class="Symbol">)</a> <a id="6731" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6736" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
        <a id="6752" class="Keyword">open</a> <a id="6757" href="Tactic.RingSolver.html#3755" class="Module">ToExpr</a> <a id="6764" href="Tactic.RingSolver.html#6659" class="Function">Ι′</a>

      <a id="6774" href="Tactic.RingSolver.html#6774" class="Function">constructSoln</a> <a id="6788" class="Symbol">:</a> <a id="6790" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a> <a id="6797" class="Symbol">→</a> <a id="6799" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="6811" class="Symbol">→</a> <a id="6813" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
      <a id="6824" href="Tactic.RingSolver.html#6774" class="Function">constructSoln</a> <a id="6838" href="Tactic.RingSolver.html#6838" class="Bound">t</a> <a id="6840" href="Tactic.RingSolver.html#6840" class="Bound">lhs</a> <a id="6844" href="Tactic.RingSolver.html#6844" class="Bound">rhs</a> <a id="6848" class="Symbol">=</a>
          <a id="6860" class="Keyword">quote</a> <a id="6866" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="6872" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="6875" class="Symbol">(</a><a id="6876" class="Number">3</a> <a id="6878" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a>
            <a id="6895" class="Keyword">quote</a> <a id="6901" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="6905" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="6908" class="Symbol">(</a><a id="6909" class="Number">2</a> <a id="6911" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a>
              <a id="6930" class="Keyword">quote</a> <a id="6936" href="Tactic.RingSolver.NonReflective.html#2224" class="Function">Ops.correct</a> <a id="6948" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="6951" class="Symbol">(</a><a id="6952" class="Number">1</a> <a id="6954" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="6959" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="6961" href="Tactic.RingSolver.html#6840" class="Bound">lhs</a> <a id="6965" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6969" href="Tactic.RingSolver.html#7238" class="Function">ρ</a> <a id="6971" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6975" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6977" class="Symbol">)</a> <a id="6979" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6983" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6985" class="Symbol">)</a>
            <a id="6999" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a>
            <a id="7015" class="Symbol">(</a><a id="7016" class="Keyword">quote</a> <a id="7022" href="Tactic.RingSolver.NonReflective.html#2224" class="Function">Ops.correct</a> <a id="7034" href="Tactic.RingSolver.html#2339" class="Function Operator">$ʳ</a> <a id="7037" class="Symbol">(</a><a id="7038" class="Number">1</a> <a id="7040" href="Reflection.Term.html#2755" class="Function Operator">⋯⟅∷⟆</a> <a id="7045" href="Tactic.RingSolver.html#5401" class="Function">E</a> <a id="7047" href="Tactic.RingSolver.html#6844" class="Bound">rhs</a> <a id="7051" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="7055" href="Tactic.RingSolver.html#7238" class="Function">ρ</a> <a id="7057" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="7061" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7063" class="Symbol">))</a> <a id="7066" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a>
            <a id="7082" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7084" class="Symbol">)</a>
        <a id="7094" class="Keyword">where</a>
        <a id="7108" href="Tactic.RingSolver.html#7108" class="Function">Ι′</a> <a id="7111" class="Symbol">:</a> <a id="7113" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="7115" class="Symbol">→</a> <a id="7117" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7123" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
        <a id="7136" href="Tactic.RingSolver.html#7108" class="Function">Ι′</a> <a id="7139" href="Tactic.RingSolver.html#7139" class="Bound">i</a> <a id="7141" class="Symbol">=</a> <a id="7143" href="Data.Maybe.Base.html#2020" class="Function">Maybe.map</a> <a id="7153" class="Symbol">(λ</a> <a id="7156" href="Tactic.RingSolver.html#7156" class="Bound">x</a> <a id="7158" class="Symbol">→</a> <a id="7160" class="Keyword">quote</a> <a id="7166" href="Tactic.RingSolver.Core.Expression.html#589" class="InductiveConstructor">Ι</a> <a id="7168" href="Tactic.RingSolver.html#3401" class="Function Operator">$ᵉ</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Data.Nat.Reflection.html#637" class="Function">toFinTerm</a> <a id="7182" href="Tactic.RingSolver.html#7156" class="Bound">x</a> <a id="7184" href="Reflection.Argument.html#1416" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="7188" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7190" class="Symbol">))</a> <a id="7193" class="Symbol">(</a><a id="7194" href="Tactic.RingSolver.Core.NatSet.html#2881" class="Function">lookup</a> <a id="7201" href="Tactic.RingSolver.html#7139" class="Bound">i</a> <a id="7203" href="Tactic.RingSolver.html#6838" class="Bound">t</a><a id="7204" class="Symbol">)</a>

        <a id="7215" class="Keyword">open</a> <a id="7220" href="Tactic.RingSolver.html#3755" class="Module">ToExpr</a> <a id="7227" href="Tactic.RingSolver.html#7108" class="Function">Ι′</a>
        <a id="7238" href="Tactic.RingSolver.html#7238" class="Function">ρ</a> <a id="7240" class="Symbol">:</a> <a id="7242" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
        <a id="7255" href="Tactic.RingSolver.html#7238" class="Function">ρ</a> <a id="7257" class="Symbol">=</a> <a id="7259" href="Tactic.RingSolver.Core.ReflectionHelp.html#2013" class="Function">curriedTerm</a> <a id="7271" href="Tactic.RingSolver.html#6838" class="Bound">t</a>

<a id="7274" class="Comment">------------------------------------------------------------------------</a>
<a id="7347" class="Comment">-- Macros</a>
<a id="7357" class="Comment">------------------------------------------------------------------------</a>

<a id="7431" class="Comment">-- This is the main macro which solves for equations in which the variables</a>
<a id="7507" class="Comment">-- are universally quantified over:</a>
<a id="7543" class="Comment">--</a>
<a id="7546" class="Comment">--   lemma : ∀ x y → x + y ≈ y + x</a>
<a id="7581" class="Comment">--   lemma = solve-∀ TypeRing</a>
<a id="7611" class="Comment">--</a>
<a id="7614" class="Comment">-- where TypRing is your implementation of AlmostCommutativeRing. (Find some</a>
<a id="7691" class="Comment">-- example implementations in Polynomial.Solver.Ring.AlmostCommutativeRing.Instances).</a>

<a id="solve-∀-macro"></a><a id="7779" href="Tactic.RingSolver.html#7779" class="Function">solve-∀-macro</a> <a id="7793" class="Symbol">:</a> <a id="7795" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="7800" class="Symbol">→</a> <a id="7802" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="7807" class="Symbol">→</a> <a id="7809" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="7812" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="7814" href="Tactic.RingSolver.html#7779" class="Function">solve-∀-macro</a> <a id="7828" href="Tactic.RingSolver.html#7828" class="Bound">ring</a> <a id="7833" href="Tactic.RingSolver.html#7833" class="Bound">hole</a> <a id="7838" class="Symbol">=</a> <a id="7840" class="Keyword">do</a>
  <a id="7845" href="Tactic.RingSolver.html#7845" class="Bound">ring′</a> <a id="7851" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7853" href="Tactic.RingSolver.html#1613" class="Function">checkIsRing</a> <a id="7865" class="Symbol">(</a><a id="7866" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="7870" href="Tactic.RingSolver.html#7828" class="Bound">ring</a> <a id="7875" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="7877" class="Symbol">)</a>
  <a id="7881" href="Agda.Builtin.Reflection.html#8622" class="Postulate">commitTC</a>
  <a id="7892" class="Keyword">let</a> <a id="7896" class="Keyword">open</a> <a id="7901" href="Tactic.RingSolver.html#2081" class="Module">OverRing</a> <a id="7910" href="Tactic.RingSolver.html#7845" class="Bound">ring′</a>
  <a id="7918" href="Tactic.RingSolver.html#7918" class="Bound">operatorNames</a> <a id="7932" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7934" href="Tactic.RingSolver.html#2744" class="Function">getRingOperatorNames</a>
  <a id="7957" href="Tactic.RingSolver.html#7957" class="Bound">hole′</a> <a id="7963" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7965" href="Agda.Builtin.Reflection.html#7776" class="Postulate">inferType</a> <a id="7975" href="Tactic.RingSolver.html#7833" class="Bound">hole</a> <a id="7980" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">&gt;&gt;=</a> <a id="7984" href="Agda.Builtin.Reflection.html#7891" class="Postulate">reduce</a>
  <a id="7993" class="Keyword">let</a> <a id="7997" href="Tactic.RingSolver.html#7997" class="Bound">variables</a> <a id="8007" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8009" href="Tactic.RingSolver.html#8009" class="Bound">k</a> <a id="8011" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8013" href="Tactic.RingSolver.html#8013" class="Bound">equation</a> <a id="8022" class="Symbol">=</a> <a id="8024" href="Tactic.RingSolver.Core.ReflectionHelp.html#1794" class="Function">underPi</a> <a id="8032" href="Tactic.RingSolver.html#7957" class="Bound">hole′</a>
  <a id="8040" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="8045" class="Symbol">(</a><a id="8046" href="Tactic.RingSolver.html#8046" class="Bound">lhs</a> <a id="8050" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="8052" href="Tactic.RingSolver.html#8052" class="Bound">rhs</a> <a id="8056" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="8058" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="8060" class="Symbol">)</a> <a id="8062" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="8064" href="Reflection.TypeChecking.Monad.Syntax.html#523" class="Function">pure</a> <a id="8069" class="Symbol">(</a><a id="8070" href="Tactic.RingSolver.Core.ReflectionHelp.html#1412" class="Function">getArgs</a> <a id="8078" class="Number">2</a> <a id="8080" href="Tactic.RingSolver.html#8013" class="Bound">equation</a><a id="8088" class="Symbol">)</a>
    <a id="8094" class="Keyword">where</a> <a id="8100" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="8108" class="Symbol">→</a> <a id="8110" href="Agda.Builtin.Reflection.html#7713" class="Postulate">typeError</a> <a id="8120" class="Symbol">(</a><a id="8121" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="8128" class="String">&quot;Malformed call to solve.&quot;</a> <a id="8155" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8188" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="8195" class="String">&quot;Expected target type to be like: ∀ x y → x + y ≈ y + x.&quot;</a> <a id="8253" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8286" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="8293" class="String">&quot;Instead: &quot;</a> <a id="8305" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8338" href="Agda.Builtin.Reflection.html#7230" class="InductiveConstructor">termErr</a> <a id="8346" href="Tactic.RingSolver.html#7957" class="Bound">hole′</a> <a id="8352" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8385" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8387" class="Symbol">)</a>
  <a id="8391" href="Agda.Builtin.Reflection.html#7673" class="Postulate">unify</a> <a id="8397" href="Tactic.RingSolver.html#7833" class="Bound">hole</a> <a id="8402" class="Symbol">(</a><a id="8403" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="8407" class="Symbol">(</a><a id="8408" class="Keyword">quote</a> <a id="8414" href="Tactic.RingSolver.html#1142" class="Function">solve-fn</a><a id="8422" class="Symbol">)</a> <a id="8424" class="Symbol">(</a><a id="8425" href="Tactic.RingSolver.html#6354" class="Function">callSolver</a> <a id="8436" href="Tactic.RingSolver.html#7918" class="Bound">operatorNames</a> <a id="8450" href="Tactic.RingSolver.html#7997" class="Bound">variables</a> <a id="8460" href="Tactic.RingSolver.html#8009" class="Bound">k</a> <a id="8462" href="Tactic.RingSolver.html#8046" class="Bound">lhs</a> <a id="8466" href="Tactic.RingSolver.html#8052" class="Bound">rhs</a><a id="8469" class="Symbol">))</a>

<a id="8473" class="Keyword">macro</a>
  <a id="solve-∀"></a><a id="8481" href="Tactic.RingSolver.html#8481" class="Function">solve-∀</a> <a id="8489" class="Symbol">:</a> <a id="8491" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="8496" class="Symbol">→</a> <a id="8498" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="8503" class="Symbol">→</a> <a id="8505" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="8508" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="8512" href="Tactic.RingSolver.html#8481" class="Function">solve-∀</a> <a id="8520" class="Symbol">=</a> <a id="8522" href="Tactic.RingSolver.html#7779" class="Function">solve-∀-macro</a>

<a id="8537" class="Comment">-- Use this macro when you want to solve something *under* a lambda. For example:</a>
<a id="8619" class="Comment">-- say you have a long proof, and you just want the solver to deal with an</a>
<a id="8694" class="Comment">-- intermediate step. Call it like so:</a>
<a id="8733" class="Comment">--</a>
<a id="8736" class="Comment">--   lemma₃ : ∀ x y → x + y * 1 + 3 ≈ 2 + 1 + y + x</a>
<a id="8788" class="Comment">--   lemma₃ x y = begin</a>
<a id="8812" class="Comment">--     x + y * 1 + 3 ≈⟨ +-comm x (y * 1) ⟨ +-cong ⟩ refl ⟩</a>
<a id="8871" class="Comment">--     y * 1 + x + 3 ≈⟨ solve (x ∷ y ∷ []) Int.ring ⟩</a>
<a id="8925" class="Comment">--     3 + y + x     ≡⟨ refl ⟩</a>
<a id="8956" class="Comment">--     2 + 1 + y + x ∎</a>
<a id="8979" class="Comment">--</a>
<a id="8982" class="Comment">-- The first argument is the free variables, and the second is the</a>
<a id="9049" class="Comment">-- ring implementation (as before).</a>
<a id="9085" class="Comment">--</a>
<a id="9088" class="Comment">-- One thing to note here is that we need to be able to infer *both* sides of</a>
<a id="9166" class="Comment">-- the equality, which the normal equaltional reasoning combinators don&#39;t let you</a>
<a id="9248" class="Comment">-- do. You&#39;ll need the combinators defined in Relation.Binary.Reasoning.Inference.</a>
<a id="9331" class="Comment">-- These are just as powerful as the others, but have slightly better inference properties.</a>

<a id="solve-macro"></a><a id="9424" href="Tactic.RingSolver.html#9424" class="Function">solve-macro</a> <a id="9436" class="Symbol">:</a> <a id="9438" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="9443" class="Symbol">→</a> <a id="9445" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9450" class="Symbol">→</a> <a id="9452" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="9457" class="Symbol">→</a> <a id="9459" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="9462" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="9464" href="Tactic.RingSolver.html#9424" class="Function">solve-macro</a> <a id="9476" href="Tactic.RingSolver.html#9476" class="Bound">i</a> <a id="9478" href="Tactic.RingSolver.html#9478" class="Bound">ring</a> <a id="9483" href="Tactic.RingSolver.html#9483" class="Bound">hole</a> <a id="9488" class="Symbol">=</a> <a id="9490" class="Keyword">do</a>
  <a id="9495" href="Tactic.RingSolver.html#9495" class="Bound">ring′</a> <a id="9501" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="9503" href="Tactic.RingSolver.html#1613" class="Function">checkIsRing</a> <a id="9515" class="Symbol">(</a><a id="9516" href="Agda.Builtin.Reflection.html#4461" class="InductiveConstructor">def</a> <a id="9520" href="Tactic.RingSolver.html#9478" class="Bound">ring</a> <a id="9525" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9527" class="Symbol">)</a>
  <a id="9531" href="Agda.Builtin.Reflection.html#8622" class="Postulate">commitTC</a>
  <a id="9542" class="Keyword">let</a> <a id="9546" class="Keyword">open</a> <a id="9551" href="Tactic.RingSolver.html#2081" class="Module">OverRing</a> <a id="9560" href="Tactic.RingSolver.html#9495" class="Bound">ring′</a>
  <a id="9568" href="Tactic.RingSolver.html#9568" class="Bound">operatorNames</a> <a id="9582" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="9584" href="Tactic.RingSolver.html#2744" class="Function">getRingOperatorNames</a>
  <a id="9607" href="Tactic.RingSolver.html#9607" class="Bound">listOfVariables′</a> <a id="9624" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="9626" href="Tactic.RingSolver.html#2422" class="Function">checkIsListOfVariables</a> <a id="9649" href="Tactic.RingSolver.html#9476" class="Bound">i</a>
  <a id="9653" href="Agda.Builtin.Reflection.html#8622" class="Postulate">commitTC</a>
  <a id="9664" href="Tactic.RingSolver.html#9664" class="Bound">hole′</a> <a id="9670" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="9672" href="Agda.Builtin.Reflection.html#7776" class="Postulate">inferType</a> <a id="9682" href="Tactic.RingSolver.html#9483" class="Bound">hole</a> <a id="9687" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">&gt;&gt;=</a> <a id="9691" href="Agda.Builtin.Reflection.html#7891" class="Postulate">reduce</a>
  <a id="9700" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="9705" href="Tactic.RingSolver.html#9705" class="Bound">vars′</a> <a id="9711" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="9713" href="Reflection.TypeChecking.Monad.Syntax.html#523" class="Function">pure</a> <a id="9718" class="Symbol">(</a><a id="9719" href="Tactic.RingSolver.html#1729" class="Function">getVariableIDs</a> <a id="9734" href="Tactic.RingSolver.html#9607" class="Bound">listOfVariables′</a><a id="9750" class="Symbol">)</a>
    <a id="9756" class="Keyword">where</a> <a id="9762" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="9770" class="Symbol">→</a> <a id="9772" href="Agda.Builtin.Reflection.html#7713" class="Postulate">typeError</a> <a id="9782" class="Symbol">(</a><a id="9783" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="9790" class="String">&quot;Malformed call to solve.&quot;</a> <a id="9817" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9850" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="9857" class="String">&quot;First argument should be a list of free variables.&quot;</a> <a id="9910" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9943" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="9950" class="String">&quot;Instead: &quot;</a> <a id="9962" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9995" href="Agda.Builtin.Reflection.html#7230" class="InductiveConstructor">termErr</a> <a id="10003" href="Tactic.RingSolver.html#9607" class="Bound">listOfVariables′</a> <a id="10020" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="10053" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10055" class="Symbol">)</a>
  <a id="10059" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="10064" class="Symbol">(</a><a id="10065" href="Tactic.RingSolver.html#10065" class="Bound">lhs</a> <a id="10069" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="10071" href="Tactic.RingSolver.html#10071" class="Bound">rhs</a> <a id="10075" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="10077" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="10079" class="Symbol">)</a> <a id="10081" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10083" href="Reflection.TypeChecking.Monad.Syntax.html#523" class="Function">pure</a> <a id="10088" class="Symbol">(</a><a id="10089" href="Tactic.RingSolver.Core.ReflectionHelp.html#1412" class="Function">getArgs</a> <a id="10097" class="Number">2</a> <a id="10099" href="Tactic.RingSolver.html#9664" class="Bound">hole′</a><a id="10104" class="Symbol">)</a>
    <a id="10110" class="Keyword">where</a> <a id="10116" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="10124" class="Symbol">→</a> <a id="10126" href="Agda.Builtin.Reflection.html#7713" class="Postulate">typeError</a> <a id="10136" class="Symbol">(</a><a id="10137" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="10144" class="String">&quot;Malformed call to solve.&quot;</a> <a id="10171" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="10204" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="10211" class="String">&quot;First argument should be a list of free variables.&quot;</a> <a id="10264" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="10297" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="10304" class="String">&quot;Instead: &quot;</a> <a id="10316" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="10349" href="Agda.Builtin.Reflection.html#7230" class="InductiveConstructor">termErr</a> <a id="10357" href="Tactic.RingSolver.html#9664" class="Bound">hole′</a> <a id="10363" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="10396" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10398" class="Symbol">)</a>
  <a id="10402" href="Agda.Builtin.Reflection.html#7673" class="Postulate">unify</a> <a id="10408" href="Tactic.RingSolver.html#9483" class="Bound">hole</a> <a id="10413" class="Symbol">(</a><a id="10414" href="Tactic.RingSolver.html#6774" class="Function">constructSoln</a> <a id="10428" href="Tactic.RingSolver.html#9568" class="Bound">operatorNames</a> <a id="10442" class="Symbol">(</a><a id="10443" href="Data.List.Base.html#4577" class="Function">List.length</a> <a id="10455" href="Tactic.RingSolver.html#9705" class="Bound">vars′</a><a id="10460" class="Symbol">)</a> <a id="10462" href="Tactic.RingSolver.html#9705" class="Bound">vars′</a> <a id="10468" href="Tactic.RingSolver.html#10065" class="Bound">lhs</a> <a id="10472" href="Tactic.RingSolver.html#10071" class="Bound">rhs</a><a id="10475" class="Symbol">)</a>

<a id="10478" class="Keyword">macro</a>
  <a id="solve"></a><a id="10486" href="Tactic.RingSolver.html#10486" class="Function">solve</a> <a id="10492" class="Symbol">:</a> <a id="10494" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="10499" class="Symbol">→</a> <a id="10501" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="10506" class="Symbol">→</a> <a id="10508" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="10513" class="Symbol">→</a> <a id="10515" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="10518" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="10522" href="Tactic.RingSolver.html#10486" class="Function">solve</a> <a id="10528" class="Symbol">=</a> <a id="10530" href="Tactic.RingSolver.html#9424" class="Function">solve-macro</a>
</pre></body></html>